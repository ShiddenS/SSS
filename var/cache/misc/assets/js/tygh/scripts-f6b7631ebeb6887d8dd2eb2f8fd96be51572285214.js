(function(e){"function"==typeof define&&define.noamd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,t.href&&a&&"map"===n.nodeName.toLowerCase()?(o=e("img[usemap='#"+a+"']")[0],!!o&&i(o)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function s(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",o)}function o(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function r(t,i){e.extend(t,i);for(var s in i)null==i[s]&&(t[s]=i[s]);return t}function h(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),s="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return s&&"static"===t.css("position")?!1:n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var l=0,u=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}(),void 0):(h[t]=s,void 0)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,n=u.call(arguments,1),a=0,o=n.length;o>a;a++)for(i in n[a])s=n[a][i],n[a].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(n){var a="string"==typeof n,o=u.call(arguments,1),r=this;return n=!a&&o.length?e.widget.extend.apply(null,[n].concat(o)):n,a?this.each(function(){var i,a=e.data(this,s);return"instance"===n?(r=a,!1):a?e.isFunction(a[n])&&"_"!==n.charAt(0)?(i=a[n].apply(a,o),i!==a&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+n+"'")}):this.each(function(){var t=e.data(this,s);t?(t.option(n||{}),t._init&&t._init()):e.data(this,s,new i(n,this))}),r}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var d=!1;e(document).mouseup(function(){d=!1}),e.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!d){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),d=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):t.which?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),d=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return e("body").append(s),t=a.offsetWidth,s.css("overflow","scroll"),i=a.offsetWidth,t===i&&(i=s[0].clientWidth),s.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),s=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,a="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=e.extend({},n);var p,m,g,v,y,b,_=e(n.of),x=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo(x),k=(n.collision||"flip").split(" "),T={};return b=s(_),_[0].preventDefault&&(n.at="left top"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),T[this]=[e?e[0]:0,t?t[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===n.at[0]?y.left+=m:"center"===n.at[0]&&(y.left+=m/2),"bottom"===n.at[1]?y.top+=g:"center"===n.at[1]&&(y.top+=g/2),p=t(T.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var s,l,u=e(this),d=u.outerWidth(),c=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),D=d+f+i(this,"marginRight")+w.width,S=c+b+i(this,"marginBottom")+w.height,N=e.extend({},y),M=t(T.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?N.left-=d:"center"===n.my[0]&&(N.left-=d/2),"bottom"===n.my[1]?N.top-=c:"center"===n.my[1]&&(N.top-=c/2),N.left+=M[0],N.top+=M[1],a||(N.left=h(N.left),N.top=h(N.top)),s={marginLeft:f,marginTop:b},e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](N,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:c,collisionPosition:s,collisionWidth:D,collisionHeight:S,offset:[p[0]+M[0],p[1]+M[1]],my:n.my,at:n.at,within:x,elem:u})}),n.using&&(l=function(e){var t=v.left-N.left,i=t+m-d,s=v.top-N.top,a=s+g-c,h={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:N.left,top:N.top,width:d,height:c},horizontal:0>i?"left":t>0?"right":"center",vertical:0>a?"top":s>0?"bottom":"middle"};d>m&&m>r(t+i)&&(h.horizontal="center"),c>g&&g>r(s+a)&&(h.vertical="middle"),h.important=o(r(t),r(i))>o(r(s),r(a))?"horizontal":"vertical",n.using.call(this,e,h)}),u.offset(e.extend(N,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=e.left-t.collisionPosition.marginLeft,h=n-r,l=r+t.collisionWidth-a-n;t.collisionWidth>a?h>0&&0>=l?(i=e.left+h+t.collisionWidth-a-n,e.left+=h-i):e.left=l>0&&0>=h?n:h>l?n+a-t.collisionWidth:n:h>0?e.left+=h:l>0?e.left-=l:e.left=o(e.left-r,e.left)},top:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollTop:s.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,h=n-r,l=r+t.collisionHeight-a-n;t.collisionHeight>a?h>0&&0>=l?(i=e.top+h+t.collisionHeight-a-n,e.top+=h-i):e.top=l>0&&0>=h?n:h>l?n+a-t.collisionHeight:n:h>0?e.top+=h:l>0?e.top-=l:e.top=o(e.top-r,e.top)}},flip:{left:function(e,t){var i,s,n=t.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-h,d=l+t.collisionWidth-o-h,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+c+p+f+t.collisionWidth-o-a,(0>i||r(u)>i)&&(e.left+=c+p+f)):d>0&&(s=e.left-t.collisionPosition.marginLeft+c+p+f-h,(s>0||d>r(s))&&(e.left+=c+p+f))},top:function(e,t){var i,s,n=t.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-h,d=l+t.collisionHeight-o-h,c="top"===t.my[1],p=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-o-a,e.top+p+f+m>u&&(0>s||r(u)>s)&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-h,e.top+p+f+m>d&&(i>0||d>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,n,o,r=document.getElementsByTagName("body")[0],h=document.createElement("div");t=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in s)t.style[o]=s[o];t.appendChild(h),i=r||document.documentElement,i.insertBefore(t,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",n=e(h).offset().left,a=n>10&&11>n,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.document[0],s=this.options;try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(n){}return this.helper||s.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(s.iframeFix===!0?"iframe":s.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options,a=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),s=i[0],s&&(t="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),h=e.pageX,l=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(h=this.originalPageX),"x"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s,this],!0),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,s){var n=s.options,a=e.extend({},i,{item:s.element});s.sortables=[],e(n.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,a))})},stop:function(t,i,s){var n=e.extend({},i,{item:s.element});e.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,n))})},drag:function(t,i,s){var n=this;e.each(s.sortables,function(){var a=!1,o=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,e.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(o.instance.element[0],this.instance.element[0])&&(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",t),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",t),s.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,s){var n=e("body"),a=s.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(t,i,s){var n=s.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(t,i,s){var n=s.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,s){var n=s.options,a=!1,o=s.scrollParentNotHidden[0],r=s.document[0];o!==r&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:t.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+n.scrollSpeed:t.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(r).scrollTop()<n.scrollSensitivity?a=e(r).scrollTop(e(r).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<n.scrollSensitivity&&(a=e(r).scrollTop(e(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(r).scrollLeft()<n.scrollSensitivity?a=e(r).scrollLeft(e(r).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<n.scrollSensitivity&&(a=e(r).scrollLeft(e(r).scrollLeft()+n.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,s){var n=s.options;s.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,s){var n,a,o,r,h,l,u,d,c,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,y=i.offset.top,b=y+s.helperProportions.height;for(c=s.snapElements.length-1;c>=0;c--)h=s.snapElements[c].left,l=h+s.snapElements[c].width,u=s.snapElements[c].top,d=u+s.snapElements[c].height,h-m>v||g>l+m||u-m>b||y>d+m||!e.contains(s.snapElements[c].item.ownerDocument,s.snapElements[c].item)?(s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(u-b),a=m>=Math.abs(d-y),o=m>=Math.abs(h-v),r=m>=Math.abs(l-g),n&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top-s.margins.top),a&&(i.position.top=s._convertPositionTo("relative",{top:d,left:0}).top-s.margins.top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left-s.margins.left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left-s.margins.left)),p=n||a||o||r,"outer"!==f.snapMode&&(n=m>=Math.abs(u-y),a=m>=Math.abs(d-b),o=m>=Math.abs(h-g),r=m>=Math.abs(l-v),n&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top-s.margins.top),a&&(i.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top-s.margins.top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left-s.margins.left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left-s.margins.left)),!s.snapElements[c].snapping&&(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=n||a||o||r||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,s){var n,a=s.options,o=e.makeArray(e(a.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});o.length&&(n=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(t,i,s){var n=s.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}}),e.ui.draggable,e.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(s)?s:function(e){return e.is(s)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,s,n){if(!i.offset)return!1;var a=(t.positionAbs||t.position.absolute).left,o=(t.positionAbs||t.position.absolute).top,r=a+t.helperProportions.width,h=o+t.helperProportions.height,l=i.offset.left,u=i.offset.top,d=l+i.proportions().width,c=u+i.proportions().height;switch(s){case"fit":return a>=l&&d>=r&&o>=u&&c>=h;case"intersect":return a+t.helperProportions.width/2>l&&d>r-t.helperProportions.width/2&&o+t.helperProportions.height/2>u&&c>h-t.helperProportions.height/2;case"pointer":return e(n.pageY,u,i.proportions().height)&&e(n.pageX,l,i.proportions().width);case"touch":return(o>=u&&c>=o||h>=u&&c>=h||u>o&&h>c)&&(a>=l&&d>=a||r>=l&&d>=r||l>a&&r>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var s,n,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||t&&!a[s].accept.call(a[s].element[0],t.currentItem||t.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue e}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=e.ui.intersect(t,this,this.options.tolerance,i),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===n}),a.length&&(s=e(a[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[s]>0?!0:(t[s]=1,n=t[s]>0,t[s]=0,n)},_create:function(){var t,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),a="ui-resizable-"+s,n=e("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(t){var i,s,n,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=this.element.children(this.handles[i]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,a),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,s,n=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,s,n,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,s+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,s,n=this.originalMousePosition,a=this.axis,o=t.pageX-n.left||0,r=t.pageY-n.top||0,h=this._change[a];return this._updatePrevProperties(),h?(i=h.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,a=s?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-n},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(o,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,s,n,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),s>a.minHeight&&(a.minHeight=s),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&l&&(e.left=r-t.minWidth),s&&l&&(e.left=r-t.maxWidth),o&&u&&(e.top=h-t.minHeight),n&&u&&(e.top=h-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],s=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(s[t],10)||0,i[t]+=parseInt(n[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,s,n,a,o,r,h=e(this).resizable("instance"),l=h.options,u=h.element,d=l.containment,c=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;c&&(h.containerElement=e(c),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(c),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){i[e]=h._num(t.css("padding"+s))}),h.containerOffset=t.offset(),h.containerPosition=t.position(),h.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,a=h.containerSize.width,o=h._hasScroll(c,"left")?c.scrollWidth:a,r=h._hasScroll(c)?c.scrollHeight:n,h.parentData={element:c,left:s.left,top:s.top,width:o,height:r}))},resize:function(t){var i,s,n,a,o=e(this).resizable("instance"),r=o.options,h=o.containerOffset,l=o.position,u=o._aspectRatio||t.shiftKey,d={top:0,left:0},c=o.containerElement,p=!0;c[0]!==document&&/static/.test(c.css("position"))&&(d=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?h.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-h.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-h.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,o=e(t.helper),r=o.offset(),h=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options,s=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):e.each(i.alsoResize,function(e){s(e)})},resize:function(t,i){var s=e(this).resizable("instance"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0},h=function(t,s){e(t).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),a={},o=s&&s.length?s:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var i=(n[t]||0)+(r[t]||0);i&&i>=0&&(a[t]=i||null)}),t.css(a)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?h(n.alsoResize):e.each(n.alsoResize,function(e,t){h(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),s=i.options,n=i.size,a=i.originalSize,o=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,d=Math.round((n.width-a.width)/l)*l,c=Math.round((n.height-a.height)/u)*u,p=a.width+d,f=a.height+c,m=s.maxWidth&&p>s.maxWidth,g=s.maxHeight&&f>s.maxHeight,v=s.minWidth&&s.minWidth>p,y=s.minHeight&&s.minHeight>f;s.grid=h,v&&(p+=l),y&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-c):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-d):((0>=f-u||0>=p-l)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=o.top-c):(f=u-t.height,i.size.height=f,i.position.top=o.top+a.height-f),p-l>0?(i.size.width=p,i.position.left=o.left-d):(p=u-t.height,i.size.width=p,i.position.left=o.left+a.width-p))}}),e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,s=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,t.metaKey||t.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().addBack().each(function(){var s,n=e.data(this,"selectable-item");return n?(s=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=t.pageX,h=t.pageY;return a>r&&(i=r,r=a,a=i),o>h&&(i=h,h=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:h-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||a>i.right||i.top>h||o>i.bottom):"fit"===n.tolerance&&(l=i.left>a&&r>i.right&&i.top>o&&h>i.bottom),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var s=null,n=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+"-item")===a?(s=e(this),!1):void 0}),e.data(t.target,a.widgetName+"-item")===a&&(s=e(t.target)),s?!this.options.handle||i||(e(this.options.handle,s).find("*").addBack().each(function(){this===t.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,s){var n,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,n,a,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-e(document).scrollTop()<o.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<o.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+o.scrollSpeed)),t.pageX-e(document).scrollLeft()<o.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<o.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+o.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],a=this._intersectsWithPointer(s),a&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==n&&!e.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],n):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,n=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=e.left,o=a+e.width,r=e.top,h=r+e.height,l=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||s+l>r&&h>s+l,c="y"===this.options.axis||t+u>a&&o>t+u,p=d&&c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>a&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&i,n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return s?this.floating?a&&"right"===a||"down"===n?2:1:n&&("down"===n?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&t||"up"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){r.push(this)}var s,n,a,o,r=[],h=[],l=this._connectWith();if(l&&t)for(s=l.length-1;s>=0;s--)for(a=e(l[s]),n=a.length-1;n>=0;n--)o=e.data(a[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&h.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(h.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,s,n,a,o,r,h,l,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(i=c.length-1;i>=0;i--)for(n=e(c[i]),s=n.length-1;s>=0;s--)a=e.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(d.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=d.length-1;i>=0;i--)for(o=d[i][1],r=d[i][0],s=0,l=r.length;l>s;s++)h=e(r[s]),h.data(this.widgetName+"-item",o),u.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,a;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=n.outerWidth(),s.height=n.outerHeight()),a=n.offset(),s.left=a.left,s.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),n=e("<"+s+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===s?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)}):"img"===s&&n.attr("src",t.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(e,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var i,s,n,a,o,r,h,l,u,d,c=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(c&&e.contains(this.containers[i].element[0],c.element[0]))continue;c=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,a=null,u=c.floating||this._isFloating(this.currentItem),o=u?"left":"top",r=u?"width":"height",d=u?"clientX":"clientY",s=this.items.length-1;s>=0;s--)e.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[o],l=!1,t[d]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(t[d]-h)&&(n=Math.abs(t[d]-h),a=this.items[s],this.direction=l?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return;a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],i=e(n.containment).offset(),s="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*s}},_generatePosition:function(t){var i,s,n=this.options,a=t.pageX,o=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(e,t){function i(e,t,i){return function(s){i._trigger(e,s,t._uiHash(t))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)t||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),s=0;n.length>s;s++)n[s].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(s=0;n.length>s;s++)n[s].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget("ui.accordion",{version:"1.11.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,s=this.headers.length,n=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[s-1]}a&&(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),a.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var t,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),s=t.next(),n=s.uniqueId().attr("id");t.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(t=n.height(),this.element.siblings(":visible").each(function(){var i=e(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n[0]===s[0],o=a&&i.collapsible,r=o?e():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:o?e():n,newPanel:r};t.preventDefault(),a&&!i.collapsible||this._trigger("beforeActivate",t,l)===!1||(i.active=o?!1:this.headers.index(n),this.active=a?e():n,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,s=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,t):(s.hide(),i.show(),this._toggleComplete(t)),s.attr({"aria-hidden":"true"}),s.prev().attr("aria-selected","false"),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(e,t,i){var s,n,a,o=this,r=0,h=e.length&&(!t.length||e.index()<t.index()),l=this.options.animate||{},u=h&&l.down||l,d=function(){o._toggleComplete(i)};return"number"==typeof u&&(a=u),"string"==typeof u&&(n=u),n=n||u.easing||l.easing,a=a||u.duration||l.duration,t.length?e.length?(s=e.show().outerHeight(),t.animate(this.hideProps,{duration:a,easing:n,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(this.showProps,{duration:a,easing:n,complete:d,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?r+=i.now:"content"!==o.options.heightStyle&&(i.now=Math.round(s-t.outerHeight()-r),r=0)}}),void 0):t.animate(this.hideProps,a,n,d):e.animate(this.showProps,a,n,d)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var s,n,a,o,r,h=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:h=!1,n=this.previousFilter||"",a=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),a===n?o=!0:a=n+a,r=RegExp("^"+i(a),"i"),s=this.activeMenu.find(this.options.items).filter(function(){return r.test(e(this).text())}),s=o&&-1!==s.index(this.active.next())?this.active.nextAll(".ui-menu-item"):s,s.length||(a=String.fromCharCode(t.keyCode),r=RegExp("^"+i(a),"i"),s=this.activeMenu.find(this.options.items).filter(function(){return r.test(e(this).text())})),s.length?(this.focus(t,s),s.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}h&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,s=this,n=this.options.icons.submenu,a=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),s=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",i.attr("id"))}),t=a.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);s._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=t.outerHeight(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(t),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(t){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),0>i.offset().top-s-n}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}}),e.widget("ui.autocomplete",{version:"1.11.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,i=!0,void 0;t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case a.UP:t=!0,this._keyEvent("previous",n);break;case a.DOWN:t=!0,this._keyEvent("next",n);break;case a.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){return s?(s=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&e.trim(s).length&&(this.liveRegion.children().hide(),e("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!s)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete;var c,p="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},g=function(t){var i=t.name,s=t.form,n=e([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?e(s).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),n};e.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,s="checkbox"===this.type||"radio"===this.type,n=s?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===c&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(n)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),s&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var s=t.element[0];g(s).not(s).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(e(this).addClass("ui-state-active"),c=this,t.document.one("mouseup",function(){c=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return i.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(f),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(a.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),s=i.filter(":ui-button");i.not(":ui-button").button(),s.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.1"}});var v;e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var s,n,a;s=t.nodeName.toLowerCase(),n="div"===s||"span"===s,t.id||(this.uuid+=1,t.id="dp"+this.uuid),a=this._newInst(e(t),n),a.settings=e.extend({},i||{}),"input"===s?this._connectDatepicker(t,a):n&&this._inlineDatepicker(t,a)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var s=e(t);i.append=e([]),i.trigger=e([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var s,n,a,o=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[r?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&t.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:n,title:n}):n)),t[r?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,s,n,a=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(i=0,s=0,n=0;e.length>n;n++)e[n].length>i&&(i=e[n].length,s=n);return s},a.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,i){var s=e(t);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,s,n,a){var o,h,l,u,d,c=this._dialogInst;return c||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},e.data(this._dialogInput[0],"datepicker",c)),r(c.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(c,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(t){var i,s=e(t),n=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,s){var n,a,o,h,l=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):l?"all"===i?e.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),r(l.settings,n),null!==o&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,s,n,a=e.datepicker._getInst(t.target),o=!0,r=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return n=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv),n[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,n[0]),i=e.datepicker._get(a,"onSelect"),i?(s=e.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,s,n=e.datepicker._getInst(t.target);return e.datepicker._get(n,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(t){var i,s=e.datepicker._getInst(t.target);if(s.input.val()!==s.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,e.datepicker._getFormatConfig(s)),i&&(e.datepicker._setDateFromField(s),e.datepicker._updateAlternate(s),e.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,a,o,h,l,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),a=n?n.apply(t,[t,i]):{},a!==!1&&(r(i.settings,a),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),h={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),h=e.datepicker._checkOffset(i,h,o),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",s(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,s=this._getNumberOfMonths(t),n=s[1],a=17,r=t.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),t.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,s){var n=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?n-o:0,i.left-=s&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=s&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+a>l&&l>a?Math.abs(a+r):0),i},_findPos:function(t){for(var i,s=this._getInst(t),n=this._get(s,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,s,n,a,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),s=this._get(o,"duration"),n=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),s,n):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,a=this._get(o,"onClose"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),s=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==s)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,s){var n=e(t),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+("M"===s?this._get(a,"showCurrentAtPos"):0),s),this._updateDatepicker(a))},_gotoToday:function(t){var i,s=e(t),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(t,i,s){var n=e(t),a=this._getInst(n[0]);a["selected"+("M"===s?"Month":"Year")]=a["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(t,i,s,n){var a,o=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=e("a",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var s,n=e(t),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),s=this._get(a,"onSelect"),s?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,s,n,a=this._get(t,"altField");a&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),s=this._getDate(t),n=this.formatDate(i,s,this._getFormatConfig(t)),e(a).each(function(){e(this).val(n)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,s){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,a,o,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,c=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},x=function(e){var t=_(e),s="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n="y"===e?s:1,a=RegExp("^\\d{"+n+","+s+"}"),o=i.substring(h).match(a);if(!o)throw"Missing number at position "+h;return h+=o[0].length,parseInt(o[0],10)},w=function(t,s,n){var a=-1,o=e.map(_(t)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var s=t[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(a=t[0],h+=s.length,!1):void 0}),-1!==a)return a+1;throw"Unknown name at position "+h},k=function(){if(i.charAt(h)!==t.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;t.length>n;n++)if(b)"'"!==t.charAt(n)||_("'")?k():b=!1;else switch(t.charAt(n)){case"d":v=x("d");break;case"D":w("D",d,c);break;case"o":y=x("o");break;case"m":g=x("m");break;case"M":g=w("M",p,f);break;case"y":m=x("y");break;case"@":r=new Date(x("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((x("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":_("'")?k():b=!0;break;default:k()}if(i.length>h&&(o=i.substr(h),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),y>-1)for(g=1,v=y;;){if(a=this._getDaysInMonth(m,g-1),a>=v)break;g++,v-=a}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(t){var i=e.length>s+1&&e.charAt(s+1)===t;return i&&s++,i},l=function(e,t,i){var s=""+t;if(h(e))for(;i>s.length;)s="0"+s;return s},u=function(e,t,i,s){return h(e)?s[t]:i[t]},d="",c=!1;if(t)for(s=0;e.length>s;s++)if(c)"'"!==e.charAt(s)||h("'")?d+=e.charAt(s):c=!1;else switch(e.charAt(s)){case"d":d+=l("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),n,a);break;case"o":d+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=l("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),o,r);break;case"y":d+=h("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":h("'")?d+="'":c=!0;break;default:d+=e.charAt(s)}return d},_possibleChars:function(e){var t,i="",s=!1,n=function(i){var s=e.length>t+1&&e.charAt(t+1)===i;return s&&t++,s};for(t=0;e.length>t;t++)if(s)"'"!==e.charAt(t)||n("'")?i+=e.charAt(t):s=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),s=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),a=n,o=this._getFormatConfig(e);try{a=this.parseDate(i,s,o)||n}catch(r){s=t?"":s}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=s?a.getDate():0,e.currentMonth=s?a.getMonth():0,e.currentYear=s?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,s){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=n.getFullYear(),o=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o));break;case"y":case"Y":a+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o))}l=h.exec(i)}return new Date(a,o,r)},o=null==i||""===i?s:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return o=o&&"Invalid Date"==""+o?s:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,n=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),n===e.selectedMonth&&a===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),s="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(s,-i,"M")},next:function(){e.datepicker._adjustDate(s,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(s)},selectDay:function(){return e.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(s,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,s,n,a,o,r,h,l,u,d,c,p,f,m,g,v,y,b,_,x,w,k,T,D,S,N,M,C,P,A,I,z,H,E,F,W,O,L,j=new Date,R=this._daylightSavingAdjust(new Date(j.getFullYear(),j.getMonth(),j.getDate())),Y=this._get(e,"isRTL"),J=this._get(e,"showButtonPanel"),B=this._get(e,"hideIfNoPrevNext"),K=this._get(e,"navigationAsDateFormat"),U=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),q=this._get(e,"stepMonths"),G=1!==U[0]||1!==U[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),$=this._getMinMaxDate(e,"max"),Z=e.drawMonth-V,et=e.drawYear;if(0>Z&&(Z+=12,et--),$)for(t=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate())),t=Q&&Q>t?Q:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-q,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(e,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z+q,1)),this._getFormatConfig(e)):n,a=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",o=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?X:R,o=K?this.formatDate(o,r,this._getFormatConfig(e)):o,h=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",l=J?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(Y?"":h)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),c=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",w=0;U[0]>w;w++){for(k="",this.maxRows=4,T=0;U[1]>T;T++){if(D=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),S=" ui-corner-all",N="",G){if(N+="<div class='ui-datepicker-group",U[1]>1)switch(T){case 0:N+=" ui-datepicker-group-first",S=" ui-corner-"+(Y?"right":"left");break;case U[1]-1:N+=" ui-datepicker-group-last",S=" ui-corner-"+(Y?"left":"right");break;default:N+=" ui-datepicker-group-middle",S=""}N+="'>"}for(N+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===w?Y?a:s:"")+(/all|right/.test(S)&&0===w?Y?s:a:"")+this._generateMonthYearHeader(e,Z,et,Q,$,w>0||T>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",M=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)C=(x+u)%7,M+="<th scope='col'"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+c[C]+"'>"+p[C]+"</span></th>";for(N+=M+"</tr></thead><tbody>",P=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,P)),A=(this._getFirstDayOfMonth(et,Z)-u+7)%7,I=Math.ceil((A+P)/7),z=G?this.maxRows>I?this.maxRows:I:I,this.maxRows=z,H=this._daylightSavingAdjust(new Date(et,Z,1-A)),E=0;z>E;E++){for(N+="<tr>",F=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(H)+"</td>":"",x=0;7>x;x++)W=g?g.apply(e.input?e.input[0]:null,[H]):[!0,""],O=H.getMonth()!==Z,L=O&&!y||!W[0]||Q&&Q>H||$&&H>$,F+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(O?" ui-datepicker-other-month":"")+(H.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===H.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(O&&!v?"":" "+W[1]+(H.getTime()===X.getTime()?" "+this._currentClass:"")+(H.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(O&&!v||!W[2]?"":" title='"+W[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+H.getMonth()+"' data-year='"+H.getFullYear()+"'")+">"+(O&&!v?"&#xa0;":L?"<span class='ui-state-default'>"+H.getDate()+"</span>":"<a class='ui-state-default"+(H.getTime()===R.getTime()?" ui-state-highlight":"")+(H.getTime()===X.getTime()?" ui-state-active":"")+(O?" ui-priority-secondary":"")+"' href='#'>"+H.getDate()+"</a>")+"</td>",H.setDate(H.getDate()+1),H=this._daylightSavingAdjust(H);N+=F+"</tr>"}Z++,Z>11&&(Z=0,et++),N+="</tbody></table>"+(G?"</div>"+(U[0]>0&&T===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=N}_+=k}return _+=l,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,i,s,n,a,o,r){var h,l,u,d,c,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(a||!g)_+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||n.getMonth()>=u)&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+r[u]+"</option>");_+="</select>"}if(y||(b+=_+(!a&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),c=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!a&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,i){var s=e.drawYear+("Y"===i?t:0),n=e.drawMonth+("M"===i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(s,n))+("D"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,n,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),n=i&&i>t?i:t;return s&&n>s?s:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,s){var n=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,s+(0>t?t:n[0]*n[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i,s,n=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),o=null,r=null,h=this._get(e,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||t.getTime()>=n.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!r||r>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.1",e.datepicker,e.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,s=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),a=Math.max.apply(null,n);return a>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",a+1),s=!0),s&&!i&&this._trigger("focus",t),s},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==s[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.focus()}),t.preventDefault()):(this._delay(function(){s.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(i,function(i,s){var n,a;s=e.isFunction(s)?{click:s,text:i}:s,s=e.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(t.element[0],arguments)},a={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,e("<button></button>",s).button(a).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,t(n))},drag:function(e,s){i._trigger("drag",e,t(s))},stop:function(n,a){var o=a.offset.left-i.document.scrollLeft(),r=a.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" "+"top"+(r>=0?"+":"")+r,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,t(a))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,s=this.options,n=s.resizable,a=this.uiDialog.css("position"),o="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:o,start:function(s,n){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,t(n))},resize:function(e,s){i._trigger("resize",e,t(s))},stop:function(n,a){var o=i.uiDialog.offset(),r=o.left-i.document.scrollLeft(),h=o.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,t(a))}}).css("position",a)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,n={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(s=!0),e in i.resizableRelatedOptions&&(n[e]=t)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,t){var i,s,n=this.uiDialog;"dialogClass"===e&&n.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=n.is(":data(ui-draggable)"),i&&!t&&n.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(s=n.is(":data(ui-resizable)"),s&&!t&&n.resizable("destroy"),s&&"string"==typeof t&&n.resizable("option","handles",t),s||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),e=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),t=Math.max(0,s.minHeight-e),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-e):"none","auto"===s.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;i>t;t++)o.push(a);this.handles=n.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,a,o,r,h,l,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-u.values(t));(n>i||n===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(n=i,a=e(this),o=t)}),r=this._start(t,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),h=a.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-h.left-a.width()/2,top:t.pageY-h.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,s,n,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&(n=this.values(),n[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:n}),s=this.values(t?0:1),a!==!1&&this.values(t,i))):i!==this.value()&&(a=this._trigger("slide",e,{handle:this.handles[t],value:i}),a!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var s,n,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var s,n=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,s,n,a,o=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var i,s,n,a,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,o),i===!1))return}switch(a=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-a)}this._slide(t,o,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.spinner",{version:"1.11.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,s){var n=i.attr(s);void 0!==n&&n.length&&(t[s]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,s=e.ui.keyCode;switch(t.keyCode){case s.UP:return this._repeat(null,1,t),!0;case s.DOWN:return this._repeat(null,-1,t),!0;case s.PAGE_UP:return this._repeat(null,i.page,t),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,s=this.options;return t=null!==s.min?s.min:0,i=e-t,i=Math.round(i/s.step)*s.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==s.max&&e>s.max?s.max:null!==s.min&&s.min>e?s.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(i)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:h(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:h(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:h(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:h(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(h(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tooltip",{version:"1.11.1",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var s=(t.attr("aria-describedby")||"").split(/\s+/);s.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(s.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),s=(t.attr("aria-describedby")||"").split(/\s+/),n=e.inArray(i,s);-1!==n&&s.splice(n,1),t.removeData("ui-tooltip-id"),s=e.trim(s.join(" ")),s?t.attr("aria-describedby",s):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var s=this;return"disabled"===t?(this[i?"_disable":"_enable"](),this.options[t]=i,void 0):(this._super(t,i),"content"===t&&e.each(this.tooltips,function(e,t){s._updateContent(t)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur");n.target=n.currentTarget=s[0],t.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,s=e(t?t.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&s.parents().each(function(){var t,s=e(this);s.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._updateContent(s,t))},_updateContent:function(e,t){var i,s=this.options.content,n=this,a=t?t.type:null;return"string"==typeof s?this._open(t,e,s):(i=s.call(e[0],function(i){e.data("ui-tooltip-open")&&n._delay(function(){t&&(t.type=a),this._open(t,e,i)})}),i&&this._open(t,e,i),void 0)},_open:function(t,i,s){function n(e){l.of=e,a.is(":hidden")||a.position(l)}var a,o,r,h,l=e.extend({},this.options.position);if(s){if(a=this._find(i),a.length)return a.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),a=this._tooltip(i),this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),s.clone?(h=s.clone(),h.removeAttr("id").find("[id]").removeAttr("id")):h=s,e("<div>").html(h).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:n}),n(t)):a.position(e.extend({of:i},this.options.position)),this.hiding=!1,this.closing=!1,a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(n(l.of),clearInterval(r))},e.fx.interval)),this._trigger("open",t,{tooltip:a}),o={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var s=e.Event(t);s.currentTarget=i[0],this.close(s,!0)}}},i[0]!==this.element[0]&&(o.remove=function(){this._removeTooltip(a)}),t&&"mouseover"!==t.type||(o.mouseleave="close"),t&&"focusin"!==t.type||(o.focusout="close"),this._on(!0,i,o)}},close:function(t){var i=this,s=e(t?t.currentTarget:this.element),n=this._find(s);this.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&!s.attr("title")&&s.attr("title",s.data("ui-tooltip-title")),this._removeDescribedBy(s),this.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(e(this)),this.hiding=!1,this.closing=!1}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,s){e(s.element).attr("title",s.title),delete i.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:n}),this.hiding||(this.closing=!1))},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),s=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[s]=t,i},_find:function(t){var i=t.data("ui-tooltip-id");return i?e("#"+i):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur");n.target=n.currentTarget=s[0],t.close(n,!0),e("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title")||s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})});!function(e,n){function t(e,n){return typeof e===n}function o(){var e,n,o,i,s,r,d;for(var l in f){if(e=[],n=f[l],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(o=0;o<n.options.aliases.length;o++)e.push(n.options.aliases[o].toLowerCase());for(i=t(n.fn,"function")?n.fn():n.fn,s=0;s<e.length;s++)r=e[s],d=r.split("."),1===d.length?Modernizr[d[0]]=i:(!Modernizr[d[0]]||Modernizr[d[0]]instanceof Boolean||(Modernizr[d[0]]=new Boolean(Modernizr[d[0]])),Modernizr[d[0]][d[1]]=i),a.push((i?"":"no-")+d.join("-"))}}function i(e){var n=l.className,t=Modernizr._config.classPrefix||"";if(Modernizr._config.enableJSClass){var o=new RegExp("(^|\\s)"+t+"no-js(\\s|$)");n=n.replace(o,"$1"+t+"js$2")}Modernizr._config.enableClasses&&(n+=" "+t+e.join(" "+t),l.className=n)}function s(){var e=n.body;return e||(e=c("body"),e.fake=!0),e}function r(e,n,t,o){var i,r,a,f,d="modernizr",u=c("div"),p=s();if(parseInt(t,10))for(;t--;)a=c("div"),a.id=o?o[t]:d+(t+1),u.appendChild(a);return i=["&#173;",'<style id="s',d,'">',e,"</style>"].join(""),u.id=d,(p.fake?p:u).innerHTML+=i,p.appendChild(u),p.fake&&(p.style.background="",p.style.overflow="hidden",f=l.style.overflow,l.style.overflow="hidden",l.appendChild(p)),r=n(u,e),p.fake?(p.parentNode.removeChild(p),l.style.overflow=f,l.offsetHeight):u.parentNode.removeChild(u),!!r}var a=[],f=[],d={_version:"3.0.0-alpha.3",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){f.push({name:e,fn:n,options:t})},addAsyncTest:function(e){f.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=d,Modernizr=new Modernizr,Modernizr.addTest("cookies",function(){try{n.cookie="cookietest=1";var e=-1!=n.cookie.indexOf("cookietest=");return n.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(t){return!1}}),Modernizr.addTest("filereader",!!(e.File&&e.FileList&&e.FileReader));var l=n.documentElement,u=d._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):[];d._prefixes=u;var c=function(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):n.createElement.apply(n,arguments)};Modernizr.addTest("draganddrop",function(){var e=c("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e});var p=function(e){function t(n,t){var i;return n?(t&&"string"!=typeof t||(t=c(t||"div")),n="on"+n,i=n in t,!i&&o&&(t.setAttribute||(t=c("div")),t.setAttribute(n,""),i="function"==typeof t[n],t[n]!==e&&(t[n]=e),t.removeAttribute(n)),i):!1}var o=!("onblur"in n.documentElement);return t}(),v=(d.hasEvent=p,d.testStyles=r);Modernizr.addTest("touchevents",function(){var t;if("ontouchstart"in e||e.DocumentTouch&&n instanceof DocumentTouch)t=!0;else{var o=["@media (",u.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");v(o,function(e){t=9===e.offsetTop})}return t}),o(),i(a),delete d.addTest,delete d.addAsyncTest;for(var h=0;h<Modernizr._q.length;h++)Modernizr._q[h]();e.Modernizr=Modernizr}(window,document);!function(e){var t={};function a(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(r,i,function(t){return e[t]}.bind(null,i));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=26)}({0:function(e,t){e.exports=jQuery},2:function(e,t,a){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}a.d(t,"a",function(){return i})},26:function(e,t,a){"use strict";a.r(t);var r,i=a(0),o=a.n(i),_=a(2),n=function(e){s(c(e))},s=function(e,t){e=t?e:d(e),alert(e)},c=function e(t,a){var r="";a||(a=0);for(var i="",o=0;o<a+1;o++)i+="    ";if("object"==Object(_.a)(t))for(var n in t){var s=t[n];"object"==Object(_.a)(s)?(r+=i+"'"+n+"' ...\n",r+=e(s,a+1)):r+=i+"'"+n+"' => \""+s+'"\n'}else r=t+" ("+Object(_.a)(t)+")";return r},l=function(e){var t=Tygh.current_location+"/"+Tygh.index_script,a=o.a.parseUrl(e);if(""==e)e=t;else if(a.protocol){var r,i;if(Tygh.embedded)if(Tygh.facebook&&-1!=Tygh.facebook.url.indexOf(a.location)?r="&app_data=":Tygh.init_context==a.source.str_replace("#"+a.anchor,"")&&(r="#!"),r){var _="";-1!=(i=e.indexOf(r))&&(_=decodeURIComponent(e.substr(i+r.length)).replace("&amp;","&")),e=Tygh.current_location+_}}else a.file!=Tygh.index_script&&(e=0==e.indexOf("?")?t+e:t+"?dispatch="+e.replace("?","&"));return e},d=function(e){return e=String(e).replace(/<.*?>/g,"")},u=function(e){var t=e.parents("form"),a=t.parent(),r=t.find("input[type='submit']");if(r.length||(r=Tygh.$("[data-ca-target-form="+t.prop("name")+"]")),a.length&&r.length){var i,o=t.prop("action")+"?reload_form=1&"+r.prop("name"),_=t.serializeObject();i="undefined"!=_.result_ids?_.result_ids:a.prop("id"),Tygh.$.ceAjax("request",l(o),{data:_,result_ids:i})}},p=function(e){Tygh.$;var t=[Tygh.cart_language,Tygh.default_language,"en"],a="";if(e.length){a=e[0];for(var r=0;r<t.length;r++)if(-1!=Tygh.$.inArray(t[r],e)){a=t[r];break}}return a},f=function(e,t){if(void 0===t)return e;"string"==typeof t&&(t=[t]);var a=e;if(e.indexOf("?")>=0){a=e.substr(0,e.indexOf("?")+1);for(var r=e.substr(e.indexOf("?")+1).split("&"),i=[],o=!0,_="",n=0;n<r.length;n++){i=r[n].split("="),o=!0;for(var s=0;s<t.length;s++)if(t[s]==i[0]||-1!=i[0].indexOf(t[s]+"[")){o=!1;break}1==o&&(a+=_+i[0]+"="+i[1]),_="&"}}return a},h=function(e){var t=Tygh.$,a=t("#"+(e=e||"shipping_estimation")),r=t("input[type=radio]:checked",a),i=[];t.each(r,function(e,t){i.push({name:t.name,value:t.value})});var o=l("checkout.shipping_estimation.get_total");for(var _ in i)o+="&"+i[_].name+"="+encodeURIComponent(i[_].value);var n=a.find('input[name="suffix"]').first().val();t.ceAjax("request",o,{result_ids:"rate_extra_*,shipping_label_*,shipping_estimation_total"+n,data:{additional_id:a.find('input[name="additional_id"]').first().val()},method:"post"})},m=a(3),g=m.a,E=function(){var e=o()(this);"object"!==Object(_.a)(e.data("select2"))&&e.select2();var t=e.siblings(".select2-container").first("ul.select2-selection__rendered");t.sortable({placeholder:"ui-select2-sortable-placeholder",forcePlaceholderSize:!0,items:"li:not(.select2-search,.select2-drag--disabled)",tolerance:"pointer",stop:function(){o.a.each(t.find(".select2-selection__choice").get().reverse(),function(){var t=o()(this).data("data").id,a=e.find('option[value="'+t+'"]').get();e.prepend(a)})}})},v=function(e){return 0==e||1==e?0==e?this.show():this.hide():this.toggle(),!0},b=function(e,t){t=t||{};if(o()("option"+(t.move_all?"":":selected")+":not(.cm-required)",this).appendTo(e),t.check_required){var a=[];o()("option.cm-required:selected",this).each(function(){a.push(o()(this).text())}),a.length&&fn_alert(t.message+"\n"+a.join(", "))}return this.change(),o()(e).change(),!0},D=function(e){return o()("option:selected",this).each(function(){"up"==e?o()(this).prev().insertAfter(this):o()(this).next().insertBefore(this)}),this.change(),!0},C=function(e){return o()("option",this).prop("selected",e),!0},y=function(){var e=o.a.getWindowSizes(),t=o()(this);t.css({display:"block",top:e.offset_y+(e.view_height-t.height())/2,left:e.offset_x+(e.view_width-t.width())/2})},O=function(){var e=!1;return!o()(this).hasClass("cm-skip-check-items")&&(o()(":input:visible",this).each(function(){return!(e=o()(this).fieldIsChanged())}),e)},j=function(e){var t=!1,a=o()(this),r=a.get(0);if(void 0===e&&(e=!1),!e&&(a.hasClass("cm-item")||a.hasClass("cm-check-items")))return t;if(a.is("select")){var i=!1,_=[];o()("option",a).each(function(){this.defaultSelected&&(i=!0),this.selected!=this.defaultSelected&&_.push(this)}),(1==i&&_.length||1!=i&&(_.length&&"select-multiple"==a.prop("type")||"select-one"==a.prop("type")&&r.selectedIndex>0))&&(t=!0)}else if(a.is("input[type=radio], input[type=checkbox]"))r.checked!=r.defaultChecked&&(t=!0);else if(a.is("input,textarea")){if(a.hasClass("cm-numeric"))var n=a.autoNumeric("get");else n=r.value;n!=r.defaultValue&&(t=!0)}return t},M=function(){"A"==g.area&&o()(this).each(function(){var e=o()(this),t=":not(.cm-no-hide-input):not(.cm-no-hide-input *)";o()("input[type=text]",e).filter(t).each(function(){var e=o()(this),t=e.hasClass("hidden")?" hidden":"",a="",r=e.data("caMetaClass")?" "+e.data("caMetaClass"):"";e.prev().hasClass("cm-field-prefix")&&(a+=e.prev().text(),e.prev().remove()),a+=e.val(),e.next().hasClass("cm-field-suffix")&&(a+=e.next().text(),e.next().remove()),e.wrap('<span class="shift-input'+t+r+'">'+a+"</span>"),e.remove()}),o()("label.cm-required",e).filter(t).each(function(){o()(this).removeClass("cm-required")}),o()("textarea",e).filter(t).each(function(){var e=o()(this);e.wrap('<div class="shift-input">'+e.val()+"</div>"),e.remove()}),o()("select:not([multiple])",e).filter(t).each(function(){var e=o()(this),t=e.hasClass("hidden")?" hidden":"";e.wrap('<span class="shift-input'+t+'">'+o()(":selected",e).text()+"</span>"),e.remove()}),o()("input[type=radio]",e).filter(t).each(function(){var e=o()(this),t=o()("label[for="+e.prop("id")+"]"),a=e.hasClass("hidden")?" hidden":"";e.prop("checked")?(t.wrap('<span class="shift-input'+a+'">'+t.text()+"</span>"),o()('<input type="radio" checked="checked" disabled="disabled">').insertAfter(e)):o()('<input type="radio" disabled="disabled">').insertAfter(e),e.prop("id")&&t.remove(),e.remove()}),o()(":input:not([type=submit])",e).filter(t).each(function(){o()(this).prop("disabled",!0)}),o()("a[id^='on_b']",e).remove(),o()("a[id^='off_b']",e).remove(),o()("a",e).filter(t).prop("onclick",""),o()("a[id^=opener_picker_], a[data-ca-external-click-id^=opener_picker_]",e).filter(t).each(function(){o()(this).remove()}),o()(".attach-images-alt",e).filter(t).remove(),o()("tbody[id^='box_add_']",e).filter(t).remove(),o()("tr[id^='box_add_']",e).filter(t).remove(),o()("[id$='_ajax_select_object']",e).filter(t).each(function(){var e=o()(this).prop("id").replace(/_ajax_select_object/,""),t=o()("#sw_"+e+"_wrap_"),a=t.closest(".dropdown-toggle").parent();a.wrap('<span class="shift-input">'+t.html()+"</span>"),a.remove(),o()(this).remove()}),o()("a.cm-delete-row",e).filter(t).each(function(){o()(this).remove()}),o()("button.cm-delete-row",e).filter(t).each(function(){o()(this).remove()}),o()(e).removeClass("cm-sortable"),o()(".cm-sortable-row",e).filter(t).removeClass("cm-sortable-row"),o()("p.description",e).filter(t).remove(),o()("a.cm-delete-image-link",e).filter(t).remove(),o()(".action-add",e).filter(t).remove(),o()(".cm-hide-with-inputs",e).filter(t).remove()})},P=function(e){return e?this.on("click",e):(o()(this).each(function(){if(document.createEventObject)o()(this).trigger("click");else{var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),this.dispatchEvent(e)}}),this)},w=function(e,t){1!=t&&0!=t&&(t=!0),0==e||1==e?(o()(":input:not(.cm-skip-avail-switch)",this).prop("disabled",e).toggleClass("disabled",e),t&&this.toggle(!e)):(o()(":input:not(.cm-skip-avail-switch)",this).each(function(){var e=o()(this),t=e.prop("disabled");e.prop("disabled",!t),e[t?"removeClass":"addClass"]("disabled")}),t&&this.toggle())},A=function(){var e={},t=this.serializeArray();o.a.each(t,function(){void 0!==e[this.name]&&this.name.indexOf("[]")>0?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""});var a=this.find(".cm-j-tabs .active");return void 0!==a&&a.length>0&&(e.active_tab=a.prop("id")),e},k=function(e){var t=o()(this);t.css("position","absolute");var a=t.is(":hidden");a&&t.show(),t.position(e),a&&t.hide()},B=a(6),T=(m.a,{in_out_callback:function(e,t,a,r,i){if(e.allow_in_out_callback)if("next"==e.options.autoDirection)e.add(a+e.options.item_count,o()(t).html()),e.remove(a);else{var _=o()("li:last",e.list);e.add(_.data("caJcarouselindex")-e.options.item_count,_.html()),e.remove(_.data("caJcarouselindex"))}},next_callback:function(e,t,a,r,i){"next"==r&&(e.add(a+e.options.item_count,o()(t).html()),e.remove(a))},prev_callback:function(e,t,a,r,i){if("prev"==r){var _=o()("li:last",e.list),n=(t=_.html(),_.data("caJcarouselindex")-e.options.item_count);e.remove(_.data("caJcarouselindex")),e.add(n,t)}},init_callback:function(e,t){if("prev"==e.options.autoDirection){var a=e.buttonNext;e.buttonNext=e.buttonPrev,e.buttonPrev=a}o()(".jcarousel-clip",e.container).height(e.options.clip_height+"px"),o()(".jcarousel-clip",e.container).width(e.options.clip_width+"px");var r=e.options.clip_width;if(e.container.width(r),r>e.container.width()){var i=e.pos(e.options.start,!0);e.animate(i,!1)}e.clip.hover(function(){e.stopAuto()},function(){e.startAuto()}),(!o.a.browser.msie||o.a.browser.version>8)&&o()(window).on("beforeunload",function(){e.allow_in_out_callback=!1}),o.a.browser.chrome&&o.a.jcarousel.windowLoaded()}}),x=m.a,I={open:function(e){var t=o()(this);if(!t.length)return!1;if(t.attr("tabindex",-1).focus(),o()("html").addClass("dialog-is-open"),e=e||{},t.hasClass("ui-dialog-content")){if(e.view_id&&t.data("caViewId")!=e.view_id&&t.ceDialog("_load_content",e))return!1;t.dialog("isOpen")&&(t.height("auto"),t.parent().height("auto"),I._resize(o()(this)))}else{if(t.ceDialog("_load_content",e))return!1;t.ceDialog("_init",e)}o.a.browser.msie&&"auto"==e.width&&(e.width=t.dialog("option","width")),0==o()(".object-container",t).length&&t.wrapInner('<div class="object-container" />'),e&&t.dialog("option",e),o.a.popupStack.add({name:t.prop("id"),close:function(){try{t.dialog("close")}catch(e){}}}),1==x.isTouch&&(o.a.ui.dialog.prototype._focusTabbable=function(){});var a=t.dialog("open");return e.scroll&&o.a.scrollToElm(e.scroll,t),a},_is_empty:function(){var e=o()(this).html().trim();return e&&(e=e.replace(/<!--(.*?)-->/g,"")),!e.trim()},_load_content:function(e){var t=o()(this);return e.href=e.href||"",!(!e.href||!(t.ceDialog("_is_empty")||e.view_id&&t.data("caViewId")!=e.view_id))&&(e.view_id&&t.data("caViewId",e.view_id),o.a.ceAjax("request",e.href,{full_render:0,result_ids:t.prop("id"),skip_result_ids_check:!0,keep_status_box:!0,callback:function(){if(t.ceDialog("_is_empty")){o.a.toggleStatusBox("hide"),0==o.a.ceDialog("get_last").length&&o()("html").removeClass("dialog-is-open")}else{var a=t.find("img");a.length?a.each(function(r){var i=new Image;i.src=this.src,i.onload=function(){++r==a.length&&(o.a.toggleStatusBox("hide"),t.ceDialog("open",e))}}):(o.a.toggleStatusBox("hide"),t.ceDialog("open",e))}}}),!0)},close:function(){var e=o()(this);e.data("close",!0),e.dialog("close"),o.a.popupStack.remove(e.prop("id"))},reload:function(){var e=o()(this);e.dialog("option",{show:0,hide:0}),!1===o()(this).dialog("option","destroyOnClose")?(e.dialog("close"),e.dialog("open")):(e.ceDialog("resize"),e.dialog("option","position",e.dialog("option","position"))),e.dialog("option",{show:150,hide:150})},resize:function(){var e=this,t=e.find(".object-container"),a=I._get_buttons(e);I.reset_default_height(t,e,a),I._resize(o()(this))},change_title:function(e){o()(this).dialog("option","title",e)},destroy:function(){var e=o()(this).prop("id"),t=q.indexOf(e);o.a.popupStack.remove(e),-1!=t&&q.splice(t,1);try{o()(this).dialog("destroy")}catch(e){}},_get_buttons:function(e){var t=e.find(".buttons-container"),a=null;if(t.length){var r=e.find(".cm-dialog-opener");r.length?t.each(function(){var e=!1,t=o()(this);return r.each(function(){var a=o()(this).data("caTargetId");return!t.parents("#"+a).length||(e=!0,!1)}),e||(a=t),!0}):a=e.find(".buttons-container:last")}return a},_init:function(e){e=e||{};var t=o()(this),a=80,r=e.dialogClass||"";o.a.matchScreenSize(["xs","xs-large","sm"])&&(a=0);var i=o.a.getWindowSizes(),n=t.parent();"auto"!==e.height&&"A"==x.area&&(e.height=i.view_height-a),t.find("form").length||t.parents(".object-container").length||t.data("caKeepInPlace")||(e.keepInPlace=!0),o.a.ui.dialog.overlayInstances||(o.a.ui.dialog.overlayInstances=1),t.find("script[src]").remove(),o.a.browser.msie&&"auto"==e.width&&(o.a.browser.version<8&&t.appendTo(x.body),e.width=t.outerWidth()+10),o.a.matchScreenSize(["xs","xs-large","sm"])&&(e.height=i.height),t.dialog({title:e.title||null,autoOpen:!1,draggable:!1,modal:!0,width:e.width||(i.view_width>926?926:i.view_width-120),height:e.height,maxWidth:926,resizable:!1,closeOnEscape:!1,dialogClass:r,destroyOnClose:e.destroyOnClose||!1,closeText:x.tr("close"),appendTo:e.keepInPlace?n:x.body,show:150,hide:150,open:function(t,a){var r=o()(this),i=r.dialog("widget");if(i.find(".ui-dialog-titlebar-close").attr({"data-dismiss":"modal",type:"button"}),Object(_.a)(e.titleFirstChunk)==Object(_.a)("string")&&Object(_.a)(e.titleSecondChunk)==Object(_.a)("string")&&Object(_.a)(e.titleTemplate)==Object(_.a)("string")){var n=o.a.sprintf(e.titleTemplate,[e.titleFirstChunk,e.titleSecondChunk]);i.find(".ui-dialog-title").html(n)}var s=1099;if(q.length){var c=q.pop();q.push(c),s=o()("#"+c).zIndex()}i.zIndex(++s),i.prev().zIndex(s);var l=r.prop("id");q.push(l),e.keepInPlace||-1==L.indexOf(l)&&L.push(l),I._resize(r),o()("html").addClass("dialog-is-open"),o.a.ceEvent("trigger","ce.dialogshow",[r,t,a]),o()("textarea.cm-wysiwyg",r).ceEditor("destroy"),o()("textarea.cm-wysiwyg",r).ceEditor("recover"),e.switch_avail&&r.switchAvailability(!1,!1)},beforeClose:function(t,a){var r=o()(this),i=o()("textarea.cm-wysiwyg",r);i&&i.each(function(){o()(this).ceEditor("destroy")});var _=r.find(".object-container"),n=e.nonClosable||!1,s=I._get_buttons(r);if(I.reset_default_height(_,r,s),o()("textarea.cm-wysiwyg",r).ceEditor("destroy"),n&&!r.data("close"))return!1;q.pop(),e.switch_avail&&r.switchAvailability(!0,!1),o.a.ceEvent("trigger","ce.dialogbeforeclose",[r,t,a])},close:function(t,a){o()(this).dialog("option","destroyOnClose")&&o()(this).dialog("destroy").remove(),setTimeout(function(){0==o()(".ui-widget-overlay").length&&o()("html").removeClass("dialog-is-open"),e.onClose&&e.onClose()},50),o.a.ceEvent("trigger","ce.dialogclose",[o()(this),t,a])}})},_resize:function(e){var t=I._get_buttons(e),a=e.find(".cm-picker-options-container"),r=e.find(".object-container"),i=o.a.getWindowSizes().view_height,_=0,n=0,s=0,c=e.parent().outerHeight(!0),l=e.parent().find(".ui-dialog-titlebar").outerHeight();t&&(t.addClass("buttons-container-picker"),_=t.outerHeight(!0)),a.length&&(n=a.outerHeight(!0)),c>i&&e.parent().outerHeight(i),s=e.parent().outerHeight()-l,"C"==x.area?(t&&(c>=i?(s-=_,t.css({position:"absolute",bottom:-_})):t.css({position:"absolute",bottom:0}),r.outerHeight(s)),c>i&&r.outerHeight(s)):(t&&"A"==x.area&&(s-=_,t.css({position:"absolute",bottom:0,left:0,right:0})),o.a.matchScreenSize(["xs","xs-large","sm"])&&(s=e.parent().outerHeight()-l),r.outerHeight(s)),n&&(a.positionElm({my:"left top",at:"left bottom",of:r,collision:"none"}),a.css("width",r.outerWidth()))},reset_default_height:function(e,t,a){e.height("inherit"),t.parent().height("auto"),a&&a.css({position:"static"})}},q=[],L=[],R=m.a,W={init:function(e){(e=e||{}).heightStyle=e.heightStyle||"content",e.animate=e.animate||o()(R.body).data("caAccordionAnimateDelay")||300,o()(this).accordion(e)},reinit:function(e){o()(this).accordion(e)}},U=(m.a,{}),K="not-loaded",S=[],F={run:function(e){if(!this.length)return!1;"loading"==o.a.ceEditor("state")?o.a.ceEditor("push",this):o.a.ceEditor("run",this,e)},destroy:function(){if(!this.length||"loaded"!=o.a.ceEditor("state"))return!1;o.a.ceEditor("destroy",this)},recover:function(){if(!this.length||"loaded"!=o.a.ceEditor("state"))return!1;o.a.ceEditor("recover",this)},val:function(e){return!!this.length&&o.a.ceEditor("val",this,e)},disable:function(e){if(!this.length||"loaded"!=o.a.ceEditor("state"))return!1;o.a.ceEditor("disable",this,e)},change:function(e){var t=this.data("ceeditor_onchange")||[];t.push(e),this.data("ceeditor_onchange",t)},changed:function(e){for(var t=this.data("ceeditor_onchange")||[],a=0;a<t.length;a++)t[a](e)},insert:function(e){return!!this.length&&o.a.ceEditor("insert",this,e)}},z=(m.a,{display:function(){o.a.cePreviewer("display",this)}}),H=(m.a,function(e){var t=o()(e);if(0==t.length)return!1;var a=t.prop("href").split("#")[1];return o()("#"+a)}),$={init:function(){var e=H(this);if(0==e)return!1;e.find(".bar").css("width",0).prop("data-percentage",0),this.trigger("click"),this.data("ceProgressbar",!0),o.a.ceEvent("trigger","ce.progress_init")},setValue:function(e){var t=H(this);if(0==t)return!1;this.data("ceProgressbar")||this.ceProgress("init"),e.progress&&t.find(".bar").css("width",e.progress+"%").prop("data-percentage",e.progress),e.text&&t.find(".modal-body p").html(e.text),o.a.ceEvent("trigger","ce.progress",[e])},getValue:function(e){var t=H(this);return 0!=t&&(this.data("ceProgressbar")?parseInt(t.find(".bar").prop("data-percentage")):0)},setTitle:function(e){if(0==H(this))return!1;this.data("ceProgressbar")||this.ceProgress("init"),e.title&&o()("#comet_title").text(e.title)},finish:function(){var e=H(this);if(0==e)return!1;e.find(".bar").css("width",100).prop("data-percentage",100),e.modal("hide"),this.removeData("ceProgressbar"),o.a.ceEvent("trigger","ce.progress_finish")}},N=m.a,V={init:function(){return!!o.a.history&&(o.a.history.init(function(e,t){if(t&&"result_ids"in t){var a=V.parseHash("#"+e),r=-1!=a.indexOf(N.current_location)?a:N.current_location+"/"+a,i=t.result_ids,_=o()('a[data-ca-target-id="'+i+'"]:first'),n=_.prop("name");o.a.ceAjax("request",r,{full_render:t.full_render,result_ids:i,caching:!1,obj:_,skip_history:!0,callback:"ce.ajax_callback_"+n})}else if(N.embedded){var s=fn_url(window.location.href);s!=N.current_url&&o.a.redirect(s)}},{unescape:!1}),!0)},load:function(e,t){var a,r;e=V.prepareHash(e),r=V.prepareHash(N.current_url),a={result_ids:t.result_ids,full_render:t.full_render},o.a.ceEvent("trigger","ce.history_load",[e]),o.a.history.reload(r,a),o.a.history.load(e,a)},prepareHash:function(e){return-1!==(e=decodeURI(e)).indexOf("://")&&(e=o.a.browser.msie&&o.a.browser.version>=9?N.current_path+"/"+e.str_replace(N.current_location+"/",""):e.str_replace(N.current_location+"/","")),e="!/"+(e=fn_query_remove(e,["result_ids"]))},parseHash:function(e){return-1!==e.indexOf("%")&&(e=decodeURI(e)),-1!=e.indexOf("#!")&&e.split("#!/")[1]||""}},G=(m.a,{init:function(){return this.each(function(){var e=o()(this);e.bind({click:function(){o()(this).ceHint("_check_hint")},focus:function(){o()(this).ceHint("_check_hint")},focusin:function(){o()(this).ceHint("_check_hint")},blur:function(){o()(this).ceHint("_check_hint_focused")},focusout:function(){o()(this).ceHint("_check_hint_focused")}}),e.addClass("cm-hint-focused"),e.removeClass("cm-hint"),e.ceHint("_check_hint_focused")})},is_hint:function(){return o()(this).hasClass("cm-hint")&&o()(this).val()==o()(this).ceHint("_get_hint_value")},_check_hint:function(){var e=o()(this);e.ceHint("is_hint")&&(e.addClass("cm-hint-focused"),e.val(""),e.removeClass("cm-hint"),e.prop("name",e.prop("name").str_replace("hint_","")))},_check_hint_focused:function(){var e=o()(this);e.hasClass("cm-hint-focused")&&(""!=e.val()&&e.val()!=e.ceHint("_get_hint_value")||(e.addClass("cm-hint"),e.removeClass("cm-hint-focused"),e.val(e.ceHint("_get_hint_value")),e.prop("name","hint_"+e.prop("name"))))},_get_hint_value:function(){return""!=o()(this).prop("title")?o()(this).prop("title"):o()(this).prop("defaultValue")}}),Y=m.a,J={init:function(e){var t={events:{def:"mouseover, mouseout",input:"focus, blur"},layout:'<div><span class="tooltip-arrow"></span></div>',use_dynamic_plugin:!0};return o.a.extend(t,e),this.each(function(){var e=o()(this),a=t;if(e.data("tooltip"))return!1;"top"===e.data("ceTooltipPosition")&&(a.position="top left",a.tipClass="tooltip arrow-top",a.offset=[-10,7],"rtl"==Y.language_direction&&(a.offset=[-10,-7],a.position="top right")),"center"===e.data("ceTooltipPosition")?(a.offset=[10,7],a.tipClass="tooltip arrow-down center",a.position="bottom center","rtl"==Y.language_direction&&(a.offset=[10,-7],a.position="bottom center")):(a.offset=[10,7],a.tipClass="tooltip arrow-down",a.position="bottom left","rtl"==Y.language_direction&&(a.offset=[10,-7],a.position="bottom right")),"undefined"!==e.data("ceTooltipClass")&&(a.tipClass+=" "+e.data("ceTooltipClass")),a.onShow=a.onShow||function(){if(a.use_dynamic_plugin&&Modernizr.touchevents){var t=this.getTip(),r=e.offset();t.css({top:r.top+e.height()+a.offset[0]})}},e.tooltip(a),a.use_dynamic_plugin&&"function"==typeof e.dynamic&&e.dynamic({right:{},left:{}}),e.get(0).addEventListener("DOMNodeRemovedFromDocument",function(e){o()(e.target).trigger("mouseout")},!1),e.on("remove",function(){o()(this).trigger("mouseout")})})}},Q=m.a,Z={init:function(e){return this.each(function(){var e=Q.tr("text_position_updating"),t=o()(this),a=t.data("caSortableTable"),r=t.data("caSortableIdName"),i={accept:"cm-sortable-row",items:".cm-row-item",tolerance:"pointer",axis:"y",containment:"parent",opacity:"0.9",update:function(t,i){var _=[],n=[],s=o()(i.item).closest(".cm-sortable");o()(".cm-row-item",s).each(function(){var e=o()(this).prop("class").match(/cm-sortable-id-([^\s]+)/i),t=o()(this).index();_[t]=t,n[t]=e[1]});var c={positions:_.join(","),ids:n.join(",")};return o.a.ceAjax("request",fn_url("tools.update_position?table="+a+"&id_name="+r),{method:"get",caching:!1,message:e,data:c}),!0}};o()(".cm-sortable-handle",t).length&&(i=o.a.extend(i,{opacity:"0.5",handle:".cm-sortable-handle"})),t.sortable(i)})}},X=(m.a,{init:function(e){if(!o()(this).length)return!1;if(!o.a.fn.spectrum){var t=o()(this);return o.a.loadCss(["js/lib/spectrum/spectrum.css"],!1,!0),o.a.getScript("js/lib/spectrum/spectrum.js",function(){t.ceColorpicker()}),!1}var a=[["#000000","#434343","#666666","#999999","#b7b7b7","#cccccc","#d9d9d9","#efefef","#f3f3f3","#ffffff"],["#980000","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#4a86e8","#0000ff","#9900ff","#ff00ff"],["#e6b8af","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#c9daf8","#cfe2f3","#d9d2e9","#ead1dc"],["#dd7e6b","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#a4c2f4","#9fc5e8","#b4a7d6","#d5a6bd"],["#cc4125","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6d9eeb","#6fa8dc","#8e7cc3","#c27ba0"],["#a61c00","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3c78d8","#3d85c6","#674ea7","#a64d79"],["#85200c","#990000","#b45f06","#bf9000","#38761d","#134f5c","#1155cc","#0b5394","#351c75","#741b47"],["#5b0f00","#660000","#783f04","#7f6000","#274e13","#0c343d","#1c4587","#073763","#20124d","#4c1130"]];return this.each(function(){var e=o()(this),t={showInput:!e.data("caSpectrumShowInput")||e.data("caSpectrumShowInput"),showInitial:!!e.data("caSpectrumShowInitial")&&e.data("caSpectrumShowInitial"),showPalette:!!e.data("caSpectrumShowPalette")&&e.data("caSpectrumShowPalette"),showAlpha:!!e.data("caSpectrumShowAlpha")&&e.data("caSpectrumShowAlpha"),showSelectionPalette:!!e.data("caSpectrumShowSelectionPalette")&&e.data("caSpectrumShowSelectionPalette"),palette:e.data("caSpectrumPalette")?JSON.parse(e.data("caSpectrumPalette")):a,preferredFormat:e.data("caSpectrumPreferredFormat")?e.data("caSpectrumPreferredFormat"):"hex6",beforeShow:function(){e.spectrum("option","showPalette",!0),e.spectrum("option","showInitial",!0),e.spectrum("option","showSelectionPalette",!0)},hide:function(){o.a.ceEvent("trigger","ce.colorpicker.hide")},show:function(){o.a.ceEvent("trigger","ce.colorpicker.show")}};e.data("caView")&&"palette"==e.data("caView")&&(t.showPaletteOnly=!0),e.data("caStorage")&&(t.localStorageKey=e.data("caStorage")),e.spectrum(t),e.spectrum("container").appendTo(e.parent())})},destroy:function(){o.a.fn.spectrum&&this.spectrum("destroy")},reset:function(){o.a.fn.spectrum&&this.spectrum("set",this.val())},set:function(e){o.a.fn.spectrum&&this.spectrum("set",e)}}),ee=m.a,te={},ae={},re=[],ie={};function oe(e,t){var a,r,i,_,n={};r=t?o()(t,e).find("label"):o()("label",e);for(var s=0;s<r.length;s++)(i=(a=o()(r[s])).prop("for"))&&a.prop("class")&&i.match(/^([a-z0-9-_]+)$/i)&&!a.parents(".cm-skip-validation").length&&(_=o()("#"+i)).length&&!_.prop("disabled")&&(n[i]={elm:_,lbl:a});return n}function _e(e,t,a){var r,i,_,n,s,c,l=!1;for(var d in o()(".cm-failed-field",e).removeClass("cm-failed-field"),ie={},t){if(r=!1,i=t[d].elm,(_=t[d].lbl).hasClass("cm-trim")&&i.val(o.a.trim(i.val())),_.hasClass("cm-email")&&(o.a.is.email(i.val())||o.a.is.blank(i.val())||(se(ee.tr("error_validator_email"),_),r=!0)),_.hasClass("cm-color")&&0==o.a.is.color(i.val())&&(_.hasClass("cm-required")||0==o.a.is.blank(i.val()))&&(se(ee.tr("error_validator_color"),_),r=!0),_.hasClass("cm-phone")&&1!=o.a.is.phone(i.val())&&(_.hasClass("cm-required")||0==o.a.is.blank(i.val()))&&(se(ee.tr("error_validator_phone"),_),r=!0),_.hasClass("cm-zipcode")){var u=_.prop("class").match(/cm-location-([^\s]+)/i)[1]||"",p=o()(".cm-country"+(u?".cm-location-"+u:""),e).val(),f=i.val();te[p]&&!i.val().match(te[p].regexp)&&(_.hasClass("cm-required")||0==o.a.is.blank(i.val()))&&(se(ee.tr("error_validator_zipcode"),_,null,te[p].format),r=!0)}if(_.hasClass("cm-integer")&&0==o.a.is.integer(i.val())&&(_.hasClass("cm-required")||0==o.a.is.blank(i.val()))&&(se(ee.tr("error_validator_integer"),_),r=!0),_.hasClass("cm-multiple")&&0==i.prop("length")&&(se(ee.tr("error_validator_multiple"),_),r=!0),_.hasClass("cm-password")){var h=o()("label.cm-password",e).not(_),m=o()("#"+h.prop("for"));i.val()&&i.val()!=m.val()&&(se(ee.tr("error_validator_password"),_,h),r=!0)}if(re)for(var g=0;g<re.length;g++)_.hasClass(re[g].class_name)&&1!=(E=re[g].func(d,i,_))&&(se(re[g].message,_),r=!0);if(_.hasClass("cm-regexp")&&(s=null,c=null,d in ae?(s=ae[d].regexp,c=ae[d].message?ae[d].message:ee.tr("error_validator_message")):_.data("caRegexp")&&(s=_.data("caRegexp"),c=_.data("caMessage")),s&&!i.ceHint("is_hint"))){f=i.val();var E=new RegExp(s).test(f);E||!_.hasClass("cm-required")&&""==i.val()||(se(c,_),r=!0)}if((_.hasClass("cm-multiple-checkboxes")||_.hasClass("cm-multiple-radios"))&&_.hasClass("cm-required")){var v=_.hasClass("cm-multiple-checkboxes")?"[type=checkbox]":"[type=radio]";if(o()(v+":not(:disabled)",i).length&&!o()(v+":checked",i).length)se(_.data("caValidatorErrorMessage")||ee.tr("error_validator_required"),_),r=!0}if(_.hasClass("cm-all")?0==i.prop("length")&&_.hasClass("cm-required")?(se(ee.tr("error_validator_multiple"),_),r=!0):o()("option",i).prop("selected",!0):i.is(":input")&&_.hasClass("cm-required")&&(i.is("[type=checkbox]")&&!i.prop("checked")||1==o.a.is.blank(i.val())||i.ceHint("is_hint"))&&(se(ee.tr("error_validator_required"),_),r=!0),_.hasClass("cm-required")&&i.is(":disabled")&&(se(ee.tr("error_validator_required"),_),r=!0),(n=i.closest(".cm-field-container")).length&&(i=n),a)r&&(l=!0);else if(o()('[id="'+d+'_error_message"].help-inline',i.parent()).remove(),1==r){_.parent().addClass("error"),i.addClass("cm-failed-field"),_.addClass("cm-failed-label");var b=i.data(),D=b.caErrorMessageTargetNode,C=b.caErrorMessageTargetNodeOnScreen,y=b.caErrorMessageTargetNodeAfterMode,O=b.caErrorMessageTargetNodeChangeOnScreen,j=!1,M=o()(i),P="after";if(O&&Object(B.matchScreenSize)(O.split(","))&&(M=o()(C),j=!0),D&&!j&&(M=o()(D),y||(P="html")),!i.hasClass("cm-no-failed-msg")){var w='<span id="'.concat(d,'_error_message" class="help-inline">').concat(le(d),"</span>");M[P](w)}l||(M.data("caNoScroll")||o.a.scrollToElm(M),l=!0);var A=o.a.ceDialog("get_last");if(o()('.cm-dialog-auto-size[data-ca-target-id="'+A.attr("id")+'"]').length&&A.ceDialog("reload"),o.a.fn.ceSidebar){var k=i.closest(".cm-sidebar");k.length&&k.ceSidebar("open")}}else _.parent().removeClass("error"),i.removeClass("cm-failed-field"),_.removeClass("cm-failed-label")}return!l}function ne(e,t){var a,i=!0,_=!0,n=!1;if((t=t||{}).only_check=t.only_check||!1,r||(o()("[type=submit]",e).length?r=o()("[type=submit]:first",e):o()("input[type=image]",e).length&&(r=o()("input[type=image]:first",e))),!r.hasClass("cm-skip-validation")){var s=oe(e,r.data("caCheckFilter"));!1===o.a.ceEvent("trigger","ce.formpre_"+e.prop("name"),[e,r])&&(i=!1),_=_e(e,s,t.only_check)}if(t.only_check)return _&&i;if(_&&i){if(function(e){var t=[];e.hasClass("cm-disable-empty")&&t.push("input[type=text]"),e.hasClass("cm-disable-empty-files")&&(t.push("input[type=file]"),o()('input[type=file][data-ca-empty-file=""]',e).prop("disabled",!0)),t.length&&o()(t.join(","),e).each(function(){var e=o()(this);""==e.val()&&(e.prop("disabled",!0),e.addClass("cm-disabled"))})}(e),e.find(".cm-numeric").each(function(){var e=o()(this).autoNumeric("get");o()(this).prop("value",e)}),1==(a=r.data("original_element")?r.data("original_element"):r).data("clicked"))return!1;if(a.data("clicked",!0),!e.hasClass("cm-ajax")&&!r.hasClass("cm-ajax")||r.hasClass("cm-no-ajax")||o.a.ceEvent("one","ce.ajaxdone",function(){a.data("clicked",!1)}),r.hasClass("cm-comet")&&o.a.ceEvent("one","ce.cometdone",function(){a.data("clicked",!1)}),r.hasClass("cm-new-window"))return e.prop("target","_blank"),setTimeout(function(){a.data("clicked",!1)},1e3),!0;if(r.hasClass("cm-parent-window"))return e.prop("target","_parent"),!0;if(e.prop("target","_self"),!1===o.a.ceEvent("trigger","ce.formpost_"+e.prop("name"),[e,r])&&(i=!1),r.closest(".cm-dialog-closer").length&&setTimeout(function(){o.a.ceDialog("get_last").ceDialog("close")},100),(e.hasClass("cm-ajax")||r.hasClass("cm-ajax"))&&!r.hasClass("cm-no-ajax")){var c=e.add(r);(c.hasClass("cm-form-dialog-closer")||c.hasClass("cm-form-dialog-opener"))&&o.a.ceEvent("one","ce.formajaxpost_"+e.prop("name"),function(t,a){if(t.failed_request)return!1;if(c.hasClass("cm-form-dialog-closer")&&("C"==ee.area?o.a.ceDialog("get_last").ceDialog("close"):"A"==ee.area&&o.a.popupStack.last_close()),c.hasClass("cm-form-dialog-opener")){var r=e.find("input[name=result_ids]").val();r&&void 0!==t.html&&o()("#"+r).ceDialog("open",o.a.ceDialog("get_params",e))}}),e.find(".cm-wysiwyg").each(function(){o.a.ceEditor("updateTextFields",o()(this))}),n=o.a.ceAjax("submitForm",e,r);var l=c.find(".cm-dialog-opener");return l.length&&l.each(function(){if(o()(this).attr("href")){var e="#"+o()(this).data("caTargetId");o()(e).ceDialog("destroy"),o()(e).find(".object-container").remove(),o.a.popupStack.remove(e)}}),n}return r.hasClass("cm-no-ajax")&&o()("input[name=is_ajax]",e).remove(),ee.embedded&&1==i&&!o.a.externalLink(e.prop("action"))?(e.append('<input type="hidden" name="result_ids" value="'+ee.container+'" />'),r.data("caScroll",ee.container),o.a.ceAjax("submitForm",e,r)):(!1===o.a.ceEvent("trigger","ce.form.beforeSubmit",[e,r,i])&&(i=!1),0==i&&a.data("clicked",!1),i)}if(0==_){var d=o()(".cm-failed-field",e).parents('[id^="content_"]:hidden');d.length&&o()(".cm-failed-field",e).length==o()(".cm-failed-field",d).length&&o()("#"+d.prop("id").str_replace("content_","")).click(),o.a.ceEvent("trigger","ce.formcheckfailed_"+e.prop("name"),[e,r])}return!1}function se(e,t,a,r){var i=t.prop("for");if(ie[i])return!1;ie[i]=[],e=e.str_replace("[field]",ce(t)),a&&(e=e.str_replace("[field2]",ce(a))),r&&(e=e.str_replace("[extra]",r)),ie[i].push(e)}function ce(e){return e.text().replace(/(\s*\(\?\))?:\s*$/,"")}function le(e){return"<p>"+ie[e].join("</p><p>")+"</p>"}var de={init:function(){var e=o()(this);e.on("submit",function(t){return ne(e)})},setClicked:function(e){r=e},check:function(e){var t=o()(this);return void 0===e&&(e=!0),ne(t,{only_check:e})},checkFields:function(e){var t=o()(this);return void 0===e&&(e=!0),_e(t,oe(t),e)}},ue=m.a,pe={},fe=!1;function he(){var e=o()(this).prop("class").match(/cm-location-([^\s]+)/i);e&&function(e,t){t=t||o()(".cm-state.cm-location-"+e).prop("id");var a,r=o()("#"+t).is("select")?o()("#"+t):o()("#"+t+"_d"),i=o()("#"+t).is("input")?o()("#"+t):o()("#"+t+"_d"),_=i.val(),n=o()(".cm-country.cm-location-"+e);a=n.length?n.prop("disabled"):r.prop("disabled");var s=n.length?n.val():pe.default_country;if(r.prop("id",t).prop("disabled",!1).removeClass("hidden cm-skip-avail-switch"),i.prop("id",t+"_d").prop("disabled",!0).addClass("hidden cm-skip-avail-switch").val(""),i.hasClass("disabled")||r.removeClass("disabled"),pe.states&&pe.states[s]){r.find("option").each(function(e,t){var a=o()(t);a.val()&&a.remove()});for(var c=0;c<pe.states[s].length;c++)r.append('<option value="'+pe.states[s][c].code+'"'+(pe.states[s][c].code==_?" selected":"")+">"+pe.states[s][c].state+"</option>");r.prop("id",t).prop("disabled",!1).removeClass("cm-skip-avail-switch"),i.prop("id",t+"_d").prop("disabled",!0).addClass("cm-skip-avail-switch"),i.hasClass("disabled")||r.removeClass("disabled")}else r.prop("id",t+"_d").prop("disabled",!0).addClass("hidden cm-skip-avail-switch"),i.prop("id",t).prop("disabled",!1).removeClass("hidden cm-skip-avail-switch").val(_),r.hasClass("disabled")||i.removeClass("disabled");1==a&&(r.prop("disabled",!0),i.prop("disabled",!0))}(e[1],o()(".cm-state.cm-location-"+e[1]).not(":disabled").prop("id"))}var me,ge={init:function(){o()(this).hasClass("cm-country")?(0==fe&&(o()(ue.doc).on("change","select.cm-country",he),fe=!0),o()(this).trigger("change",{is_triggered_by_user:!1})):he.call(this)}},Ee=(m.a,o()(window),{init:function(e){var t=!1;if(!(t=(t=(t=t||o.a.browser.edge&&+o.a.browser.version<17.17134||!1)||o.a.browser.msie||!1)||o.a.browser.chrome&&+o.a.browser.version.split(".")[0]<63||!1))return this.each(function(){var e=o()(this);e.data("caStickOnScreens")&&e.data("caStickOnScreens").split(",");e.css({position:"sticky",top:e.data("caTop")||0}),o.a.browser.safari&&e.css({position:"-webkit-sticky"})});o()("body").toggleClass("sticky-no-support")}}),ve=m.a,be={},De=0;function Ce(e){return ve.live_editor_mode&&-1!=e.indexOf("[lang")&&(e='<var class="live-edit-wrap"><i class="cm-icon-live-edit icon-live-edit ty-icon-live-edit"></i><var class="cm-live-edit live-edit-item" data-ca-live-edit="langvar::'+e.substring(e.indexOf("=")+1,e.indexOf("]"))+'">'+e.substring(e.indexOf("]")+1,e.lastIndexOf("["))+"</var></var>"),e}function ye(e){var t=o()(".cm-notification-content",o()(e.target));return t.length&&(Oe(t)||me.append(t)),!0}function Oe(e){var t=o.a.ceDialog("get_last");return!!t.length&&(o()(".object-container",t).prepend(e),t.off("dialogclose",ye),t.on("dialogclose",ye),!0)}var je={show:function(e,t){if(t||(t=o.a.crc32(e.message)),void 0===e.message)return!1;if(function(e){var t=o()("div[data-ca-notification-key="+e+"]");return!!t.length&&(Oe(t)||t.fadeTo("fast",.5).fadeTo("fast",1).fadeTo("fast",.5).fadeTo("fast",1),be[e]&&(clearTimeout(be[e]),je.close(t,!0)),!0)}(t))return!0;if(e.message=Ce(e.message),e.title=Ce(e.title),"I"==e.type){var a=o.a.getWindowSizes();o()(".cm-notification-content.cm-notification-content-extended").each(function(){je.close(o()(this),!1)}),o()(ve.body).append('<div class="ui-widget-overlay" style="z-index:1010" data-ca-notification-key="'+t+'"></div>');var r=o()('<div class="cm-notification-content cm-notification-content-extended notification-content-extended '+("I"==e.message_state?" cm-auto-hide":"")+'" data-ca-notification-key="'+t+'"><h1>'+e.title+'<span class="cm-notification-close close"></span></h1><div class="notification-body-extended">'+e.message+"</div></div>"),i=a.view_height-300;o()(r).find(".cm-notification-max-height").css({"max-height":i}),o()(ve.body).append(r),r.css("top",a.view_height/2-r.height()/2)}else{var _="alert",n="";"N"==e.type?_+=" alert-success":"W"==e.type?_+=" alert-warning":"S"==e.type?_+=" alert-info":_+=" alert-error","I"==e.message_state?_+=" cm-auto-hide":"S"==e.message_state&&(n+=" cm-notification-close-ajax"),Oe(r=o()('<div class="cm-notification-content notification-content '+_+'" data-ca-notification-key="'+t+'"><button type="button" class="close cm-notification-close '+n+'" data-dismiss="alert">&times;</button><strong>'+e.title+"</strong>"+e.message+"</div>"))||me.append(r)}o.a.ceEvent("trigger","ce.notificationshow",[r]),"I"==e.message_state&&je.close(r,!0)},showMany:function(e){for(var t in e)je.show(e[t],t)},closeAll:function(){var e=me.find(".cm-notification-content"),t=o.a.ceDialog("get_last");t.length&&(e=e.add(t.find(".cm-notification-content"))),e.each(function(){var e=o()(this);e.hasClass("cm-notification-close-ajax")||je.close(e,!1)})},close:function(e,t){if(1==t)return 0===De||(be[e.data("caNotificationKey")]=setTimeout(function(){je.close(e,!1)},De),!0);!function(e){if(e.find(".cm-notification-close-ajax").length&&o.a.ceAjax("request",fn_url("notifications.close?notification_id="+e.data("caNotificationKey")),{hidden:!0}),e.fadeOut("fast",function(){e.remove()}),e.hasClass("cm-notification-content-extended")){var t=o()(".ui-widget-overlay[data-ca-notification-key="+e.data("caNotificationKey")+"]");t.length&&t.fadeOut("fast",function(){t.remove()})}0==o()(".ui-dialog").is(":visible")&&o()("html").removeClass("dialog-is-open")}(e)},init:function(){De=1e3*ve.notice_displaying_time,me=o()(".cm-notification-container"),o()(ve.doc).on("click",".cm-notification-close",function(){je.close(o()(this).parents(".cm-notification-content:first"),!1)}),me.find(".cm-auto-hide").each(function(){je.close(o()(this),!0)})}},Me=(m.a,{}),Pe={on:function(e,t,a){a=a||!1,e in Me||(Me[e]=[]),Me[e].push({handler:t,one:a})},one:function(e,t){Pe.on(e,t,!0)},trigger:function(e,t){t=t||[];var a,r=!0;if(e in Me)for(var i=0;i<Me[e].length;i++)if(a=Me[e][i].handler.apply(Me[e][i].handler,t),Me[e][i].one&&(Me[e].splice(i,1),i--),!1===a){r=!1;break}return r}},we=(m.a,{_init:function(e){if(!e.data("codeEditor")){var t=ace.edit(e.prop("id"));t.session.setUseWrapMode(!0),t.session.setWrapLimitRange(),t.setFontSize("14px"),t.renderer.setShowPrintMargin(!1),t.getSession().on("change",function(t){e.addClass("cm-item-modified")}),e.data("codeEditor",t)}return o()(this)},init:function(e){var t=o()(this);return we._init(t),e&&t.data("codeEditor").getSession().setMode(e),o()(this)},set_value:function(e,t){var a=o()(this);return we._init(a),void 0==t&&(t="ace/mode/html"),a.data("codeEditor").getSession().setMode(t),a.data("codeEditor").setValue(e),a.data("codeEditor").navigateLineStart(),a.data("codeEditor").clearSelection(),a.data("codeEditor").scrollToRow(0),o()(this)},set_show_gutter:function(e){o()(this).data("codeEditor").renderer.setShowGutter(e)},value:function(){var e=o()(this);return we._init(e),e.data("codeEditor").getValue()},focus:function(){var e=o()(this),t=e.data("codeEditor").getSession(),a=t.getLength();e.data("codeEditor").focus(),e.data("codeEditor").gotoLine(a,t.getLine(a-1).length)},set_listener:function(e,t){return o()(this).data("codeEditor").getSession().on(e,function(e){t(e)}),o()(this)}}),Ae=m.a,ke={pageSize:10,enableSearch:!0,closeOnSelect:!0,loadViaAjax:!1,dataUrl:null,enableImages:!1,imageWidth:20,imageHeight:20,placeholder:null,allowClear:!1,debug:!1,autofocus:!1,dropdownCssClass:"",delay:0};function Be(e,t){this.$el=o()(e),this.settings=o.a.extend({},ke,t),this.init()}o.a.extend(Be.prototype,{init:function(){var e=this.$el.data();this.settings.bulkEditMode=e.caBulkEditMode||!1,this.settings.dropdownParent=e.caDropdownParent||!1,this.settings.placeholder=e.caPlaceholder||this.settings.placeholder,this.settings.pageSize=e.caPageSize||this.settings.pageSize,this.settings.dataUrl=e.caDataUrl||this.settings.dataUrl,this.settings.loadViaAjax=void 0===e.caLoadViaAjax?this.settings.loadViaAjax:e.caLoadViaAjax,this.settings.closeOnSelect=void 0===e.caCloseOnSelect?this.settings.closeOnSelect:e.caCloseOnSelect,this.settings.enableImages=void 0===e.caEnableImages?this.settings.enableImages:e.caEnableImages,this.settings.enableSearch=void 0===e.caEnableSearch?this.settings.enableSearch:e.caEnableSearch,this.settings.imageWidth=void 0===e.caImageWidth?this.settings.imageWidth:e.caImageWidth,this.settings.imageHeight=void 0===e.caImageHeight?this.settings.imageHeight:e.caImageHeight,this.settings.multiple=void 0===this.settings.multiple?this.$el.is("[multiple]"):this.settings.multiple,this.settings.debug=void 0===e.debug?this.settings.debug:e.caDebug,this.settings.allowClear=void 0===e.caAllowClear?this.settings.allowClear:e.caAllowClear,this.settings.autofocus=void 0===e.caAutofocus?this.settings.autofocus:e.caAutofocus,this.settings.dropdownCssClass=e.caDropdownCssClass||this.settings.dropdownCssClass,this.settings.delay=e.caAjaxDelay||this.settings.delay,this.settings.allowSorting=e.caAllowSorting||!1,this.settings.escapeHtml=void 0===e.caEscapeHtml||e.caEscapeHtml,this.settings.addTemplateSelectionHook=void 0!==e.caAddTemplateSelectionHook&&e.caAddTemplateSelectionHook,this.settings.isRequired=void 0!==e.caRequired&&e.caRequired,this.settings.width=void 0!==e.caSelectWidth&&e.caSelectWidth,this.settings.repaintDropdownOnChange=e.caRepaintDropdownOnChange||!1,this.initSelect2(this.settings)},initSelect2:function(e){var t=this,a={language:{loadingMore:function(){return Ae.tr("loading")},searching:function(){return Ae.tr("loading")},errorLoading:function(){return Ae.tr("error")},noResults:function(){return Ae.tr("nothing_found")}},closeOnSelect:this.settings.closeOnSelect,placeholder:this.settings.placeholder,allowClear:this.settings.allowClear,multiple:this.settings.multiple,dropdownCssClass:this.settings.dropdownCssClass};this.settings.loadViaAjax&&null!==this.settings.dataUrl&&(a.ajax={url:this.settings.dataUrl,delay:this.settings.delay,data:function(e){var a={q:e.term,page:e.page||1,page_size:t.settings.pageSize};return t.settings.enableImages&&(a.image_width=t.settings.imageWidth,a.image_height=t.settings.imageHeight),a},processResults:function(e,a){return a.page=a.page||1,{results:e.objects,pagination:{more:a.page*t.settings.pageSize<e.total_objects}}},transport:function(e,t,a){return e.callback=t,e.hidden=!0,o.a.ceAjax("request",e.url,e)}}),this.settings.escapeHtml||(a.escapeMarkup=function(e){return e}),a.templateSelection=function(a,r){return a.context=a.text,a.bulkEditMode=e.bulkEditMode,void 0!==a.element&&o()(a.element).data("caObjectSelectorItemTemplate")&&(a.context=o()(a.element).data("caObjectSelectorItemTemplate")),o.a.ceEvent("trigger","ce.select_template_selection",[a,r,t.$el]),a.context},this.settings.data&&(a.data=this.settings.data);var r=this.$el;this.settings.enableImages&&(a.templateResult=function(e){return e.context=e.text,void 0!==e.element&&o()(e.element).data("caObjectSelectorItemTemplate")&&(e.context=o()(e.element).data("caObjectSelectorItemTemplate")),o.a.ceEvent("trigger","ce.change_select_list",[e,r]),e.image_url?o()('<img src="'+e.image_url+'" alt="'+e.text+'" /><span>'+e.context+"</span>"):o()("<span>"+e.context+"</span>")}),this.settings.enableSearch||(a.minimumResultsForSearch=1/0),this.settings.width&&(a.width=this.settings.width),this.settings.repaintDropdownOnChange&&this.$el.on("select2:select select2:unselect",function(){var e=o()(this).data("select2");e.isOpen()&&e.dropdown._positionDropdown()}),this.settings.dropdownParent&&(a.dropdownParent=o()(this.settings.dropdownParent)),r.select2(a),o.a.ceEvent("on","ce.window.resize",function(e,t){r.parent().find("input.select2-search__field, .select2-container").css({width:"100%"})}),this.settings.allowSorting&&this.$el.select2Sortable(),this.settings.autofocus&&this.$el.select2("focus"),o.a.ceEvent("trigger","ce.select2.init",[r])}});m.a;var Te,xe={init:function(e){var t=this.get(0);if(document.selection)t.focus(),document.selection.createRange().text=e,t.focus();else if(t.selectionStart||"0"==t.selectionStart){var a=t.selectionStart,r=t.selectionEnd,i=t.scrollTop;t.value=t.value.substring(0,a)+e+t.value.substring(r,t.value.length),t.focus(),t.selectionStart=a+e.length,t.selectionEnd=a+e.length,t.scrollTop=i}else t.value+=e,t.focus()}},Ie=(m.a,{init:function(){var e=o()(this);return e.length?(o.a.fn.bootstrapSwitch?e.bootstrapSwitch():o.a.getScript("js/lib/bootstrap_switch/js/bootstrapSwitch.js",function(){e.bootstrapSwitch()}),e):e}}),qe=(m.a,{selectToggler:function(e,t){e.prop("checked",!1),t.prop("checked",!0).prop("disabled",!0)},init:function(){var e=o()(this),t=e.data("caCheckboxGroupRole"),a=e.data("caCheckboxGroup"),r=o()('[data-ca-checkbox-group="'.concat(a,'"][data-ca-checkbox-group-role="').concat("togglee",'"]')),i=o()('[data-ca-checkbox-group="'.concat(a,'"][data-ca-checkbox-group-role="').concat("toggler",'"]'));e.on("change",function(a){var _=e.is(":checked"),n=!1;r.each(function(e,t){o()(t).is(":checked")&&(n=!0)}),"toggler"===t&&_?qe.selectToggler(r,i):"togglee"===t&&_?i.prop("checked",!1).prop("disabled",!1):"togglee"!==t||n||qe.selectToggler(r,i)})}}),Le={grid_selector:"[data-ca-block-manager-grid-id]",block_selector:"[data-ca-block-manager-snapping-id]",block_disabled_class:"bm-block-manager__block--disabled",block_got_up_class:"bm-block-manager__block--got-up",block_got_down_class:"bm-block-manager__block--got-down",menu_selector:"[data-ca-block-manager-menu]",action_selector:"[data-ca-block-manager-action]",switch_selector:"[data-ca-block-manager-switch]",switch_icon_selector:"[data-ca-block-manager-switch-icon]",switch_icon_show_selector:'[data-ca-block-manager-switch-icon="show"]',switch_icon_hide_selector:'[data-ca-block-manager-switch-icon="hide"]',switch_icon_hidden_class:"bm-block-manager__icon--hidden",move_selector:"[data-ca-block-manager-move]",sortable_items_selector:"> *:not(#litecheckout_form):not(#litecheckout_final_section)",_hover_element:{},_self:{}},Re={sendRequest:function(e,t,a){o.a.ceAjax("request",fn_url("block_manager."+e+(t?"."+t:"")),{data:a,method:"post"})}},We=function(){Le._hover_element.addClass(Le.block_got_up_class),setTimeout(function(){Le._hover_element.removeClass(Le.block_got_up_class)},300)},Ue=function(){Le._hover_element.addClass(Le.block_got_down_class),setTimeout(function(){Le._hover_element.removeClass(Le.block_got_down_class)},300)},Ke={_snapBlocks:function(e){var t={};return e.parent().find(Le.block_selector).each(function(){var e=o()(this),a=e.index();t[a]={grid_id:e.parent().data("caBlockManagerGridId"),order:a,snapping_id:e.data("caBlockManagerSnappingId"),action:"update"}}),t},_executeAction:function(e){var t=!1;return"switch"==e?t=Ke._blockSwitch():"move"==e&&(t=Ke._blockMove()),t},_blockSwitch:function(){var e=Le._self.data("caBlockManagerSwitch")?"A":"D",t=Le._self.find(Le.switch_icon_show_selector),a=Le._self.find(Le.switch_icon_hide_selector),r={snapping_id:Le._hover_element.data("caBlockManagerSnappingId"),object_id:0,object_type:"",status:e,type:"block"};return Re.sendRequest("update_status","",r),"A"===e?(Le._self.removeClass(Le.block_disabled_class),Le._hover_element.removeClass(Le.block_disabled_class),Le._self.data("caBlockManagerSwitch",!1),a.addClass(Le.switch_icon_hidden_class),t.removeClass(Le.switch_icon_hidden_class)):(Le._self.addClass(Le.block_disabled_class),Le._hover_element.addClass(Le.block_disabled_class),Le._self.data("caBlockManagerSwitch",!0),t.addClass(Le.switch_icon_hidden_class),a.removeClass(Le.switch_icon_hidden_class)),!0},_blockMove:function(){var e,t=Le._self.data("caBlockManagerMove");return"up"===t?(Le._hover_element.prev().insertAfter(Le._hover_element),We()):"down"===t&&(Le._hover_element.next().insertBefore(Le._hover_element),Ue()),e=Ke._snapBlocks(Le._hover_element),Re.sendRequest("snapping","",{snappings:e}),!0}},Se=function(){var e={items:Le.sortable_items_selector,update:function(e,t){var a=Ke._snapBlocks(o()(t.item));Re.sendRequest("snapping","",{snappings:a})}};o.a.extend(Le,e),o()(Le.grid_selector).sortable(Le)},Fe={init:{init:function(){Te||(Se(),o()(m.a.doc).on("click",Le.action_selector,function(e){Le._self=o()(this);var t=Le._self.parents(Le.menu_selector).parent().parent();Le._hover_element=t;var a=Le._self.data("caBlockManagerAction");return Ke._executeAction(a)}),Te=!0)}}.init,api:{sendRequest:Re.sendRequest},defaults:Le};var ze={load:function(){o()(".cm-block-loader").each(function(e,t){var a;if(t.classList.forEach(function(e){0===e.indexOf("cm-block-loader--")&&(a=e.split("--")[1])}),void 0!==a){var r=o()('<div class="cm-block-loader" data-ca-object-key="'.concat(a,'"></div>'));o()(t).after(r),o()(t).remove(),o.a.ceAjax("request",fn_url("block_manager.render&object_key=".concat(encodeURIComponent(a))),{method:"get",callback:ze.processResponse(r),hidden:!0})}})},processResponse:function(e){return function(t){var a=o()(t.block_content);a.toggleClass("cm-block-loaded");var r=[];a.find("script").each(function(e,t){t.src&&r.push(t.src)}),function(e){var t=o.a.map(e,function(e){return o.a.getScript(e)});return t.push(o.a.Deferred(function(e){o()(e.resolve)})),o.a.when.apply(o.a,t)}(r).done(function(){a.find("script[src]").remove(),o()(".cm-block-loaded",o()(e)).remove(),o()(e).append(a),o.a.commonInit(e)})}}},He=function(e){!function(e){e.ceScrollerMethods=T}(e),function(e){e.fn.ceDialog=function(t){return I[t]?I[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==Object(_.a)(t)&&t?void e.error("ty.dialog: method "+t+" does not exist"):I._init.apply(this,arguments)},e.ceDialog=function(t,a){if(a=a||{},"get_last"==t){if(0==q.length)return e();var r=e("#"+q[q.length-1]);return a.getWidget?r.dialog("widget"):r}if("fit_elements"==t)a.jelm.parents(".cm-picker-options-container").length&&e.ceDialog("get_last").data("dialog")._trigger("resize");else if("reload_parent"==t){r=a.jelm.closest(".ui-dialog-content");var i=e(".object-container",r);if(i.length||r.wrapInner('<div class="object-container" />'),r.length&&r.is(":visible")){var o=i.scrollTop();r.ceDialog("reload"),i.animate({scrollTop:o},0)}}else{if("inside_dialog"==t)return 0!=a.jelm.closest(".ui-dialog-content").length;if("get_params"==t){var _={keepInPlace:a.hasClass("cm-dialog-keep-in-place"),nonClosable:a.hasClass("cm-dialog-non-closable"),scroll:a.data("caScroll")?a.data("caScroll"):"",titleTemplate:a.data("caDialogTemplate")||null,titleFirstChunk:a.data("caDialogTextFirst")||null,titleSecondChunk:a.data("caDialogTextSecond")||null};if(a.data("caDialogTitle")?_.title=a.data("caDialogTitle"):(_.title=a.prop("title")||e("#".concat(a.data("caTargetId"))).prop("title")||"",a.prop("title",_.title)),a.prop("href")&&(_.href=a.prop("href")),a.hasClass("cm-dialog-auto-size")?(_.width="auto",_.height="auto",_.dialogClass="dialog-auto-sized"):a.hasClass("cm-dialog-auto-width")&&(_.width="auto"),a.hasClass("cm-dialog-switch-avail")&&(_.switch_avail=!0),a.hasClass("cm-dialog-destroy-on-close")&&(_.destroyOnClose=!0),0==e("#"+a.data("caTargetId")).length){var n=a.data("caDialogTitle")?a.data("caDialogTitle"):a.prop("title");e('<div class="hidden" title="'+n+'" id="'+a.data("caTargetId")+'">\x3c!--'+a.data("caTargetId")+"--\x3e</div>").appendTo(x.body)}return a.prop("href")&&a.data("caViewId")&&(_.view_id=a.data("caViewId")),a.data("caDialogClass")&&(_.dialogClass=a.data("caDialogClass")),_}if("clear_stack"==t)return e.popupStack.clear_stack(),q=[];if("destroy_loaded"==t){var s=e("<div>").html(a.content);e.each(L,function(t,a){s.find("#"+a).length&&e("#"+a).ceDialog("destroy")})}}},e.extend({popupStack:{stack:[],add:function(e){return this.stack.push(e)},remove:function(e){var t=this.stack.indexOf(e);if(-1!=t)return this.stack.splice(t,1)},last_close:function(){var e=this.stack.pop();return!(!e||!e.close||(e.close(),0))},last:function(){return this.stack[this.stack.length-1]},close:function(e){var t=this.stack.indexOf(e);if(-1!=t){var a=this.stack.splice(t,1)[0];return a.close&&a.close(),!0}return!1},clear_stack:function(){return this.stack=[]}}})}(e),function(e){e.fn.ceAccordion=function(t){return W[t]?W[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==Object(_.a)(t)&&t?void e.error("ty.accordion: method "+t+" does not exist"):W.init.apply(this,arguments)},e.ceAccordion=function(t,a){if(W[t])return W[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("ty.notification: method "+t+" does not exist")}}(e),function(e){e.fn.ceEditor=function(t){return F[t]?F[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==Object(_.a)(t)&&t?void e.error("ty.editor: method "+t+" does not exist"):F.run.apply(this,arguments)},e.ceEditor=function(e,t,a){if("push"==e){if(!t)return S.unshift();S.push(t)}else if("state"==e){if(!t)return K;if(K=t,"loaded"==t&&S.length){for(var r=0;r<S.length;r++)S[r].ceEditor("run",a);S=[]}}else if("handlers"==e)U=t;else if("run"==e||"destroy"==e||"updateTextFields"==e||"recover"==e||"val"==e||"disable"==e||"insert"==e)return U[e](t,a)}}(e),function(e){e.fn.cePreviewer=function(t){return z[t]?z[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==Object(_.a)(t)&&t?void e.error("ty.previewer: method "+t+" does not exist"):z.run.apply(this,arguments)},e.cePreviewer=function(e,t){if("handlers"==e)this.handlers=t;else if("display"==e)return this.handlers[e](t)}}(e),function(e){e.fn.ceProgress=function(t){return $[t]?$[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==Object(_.a)(t)&&t?void e.error("ty.progress: method "+t+" does not exist"):$.init.apply(this,arguments)}}(e),function(e){e.ceHistory=function(t){if(V[t])return V[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("ty.history: method "+t+" does not exist")}}(e),function(e){e.fn.ceHint=function(t){return G[t]?G[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==Object(_.a)(t)&&t?void e.error("ty.hint: method "+t+" does not exist"):G.run.apply(this,arguments)}}(e),function(e){e.fn.ceTooltip=function(t){return J[t]?J[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==Object(_.a)(t)&&t?void e.error("ty.tooltip: method "+t+" does not exist"):J.init.apply(this,arguments)}}(e),function(e){e.fn.ceSortable=function(t){return Z[t]?Z[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==Object(_.a)(t)&&t?void e.error("ty.sortable: method "+t+" does not exist"):Z.init.apply(this,arguments)}}(e),function(e){e.fn.ceColorpicker=function(t){return X[t]?X[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==Object(_.a)(t)&&t?void e.error("ty.colorpicker: method "+t+" does not exist"):X.init.apply(this,arguments)}}(e),function(e){e.fn.ceFormValidator=function(t){var a,r=arguments;return e(this).each(function(i,o){de[t]?a=de[t].apply(this,Array.prototype.slice.call(r,1)):"object"!==Object(_.a)(t)&&t?e.error("ty.formvalidator: method "+t+" does not exist"):a=de.init.apply(this,r)}),a},e.ceFormValidator=function(t,a){if(a=a||{},"setZipcode"==t)te=a;else if("setRegexp"==t)"console"in window&&console.log('This method is deprecated, use data-attributes "data-ca-regexp" and "data-ca-message" instead'),ae=e.extend(ae,a);else if("registerValidator"==t)re.push(a);else if("check"==t&&a.form)return void 0===a.only_check&&(a.only_check=!0),de.check.apply(a.form,[a.only_check])}}(e),function(e){e.fn.ceRebuildStates=function(t){var a=arguments;return e(this).each(function(r,i){return ge[t]?ge[t].apply(this,Array.prototype.slice.call(a,1)):"object"!==Object(_.a)(t)&&t?void e.error("ty.rebuildstates: method "+t+" does not exist"):ge.init.apply(this,a)})},e.ceRebuildStates=function(e,t){t=t||{},"init"==e&&(pe=t)}}(e),function(e){e.fn.ceStickyScroll=function(t){return Ee[t]?Ee[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==Object(_.a)(t)&&t?void e.error("ty.stickyScroll: method "+t+" does not exist"):Ee.init.apply(this,arguments)}}(e),function(e){e.ceNotification=function(t){if(je[t])return je[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("ty.notification: method "+t+" does not exist")}}(e),function(e){e.ceEvent=function(t){if(Pe[t])return Pe[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("ty.event: method "+t+" does not exist")}}(e),function(e){e.fn.ceCodeEditor=function(t){return we[t]?we[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==Object(_.a)(t)&&t?void e.error("ty.codeeditor: method "+t+" does not exist"):we.init.apply(this,arguments)}}(e),function(e){e.fn.ceObjectSelector=function(t){var a=this,r=function(){var r=e.fn.select2.amd.require("select2/selection/multiple"),i=e.fn.select2.amd.require("select2/selection/search"),o=r.prototype.bind;return r.prototype.bind=function(t,a){this.$selection.on("click",function(t){e(t.target).hasClass("select2-search__field")||e(t.target).hasClass("select2-selection__rendered")||t.stopImmediatePropagation()}),o.apply(this,arguments)},i.prototype.searchRemoveChoice=function(){return!1},a.each(function(){if(e.data(this,"plugin_ceObjectSelector")){var a=e.data(this,"plugin_ceObjectSelector");a.settings=e.extend({},ke,t),a.init()}else e.data(this,"plugin_ceObjectSelector",new Be(this,t))})};if(this.length){if(e.fn.select2)return r();e.getScript("js/lib/select2/select2.full.min.js",function(){r()})}return this}}(e),function(e){e.fn.ceInsertAtCaret=function(){return xe.init.apply(this,arguments)}}(e),function(e){e.fn.ceSwitchCheckbox=function(t){return Ie[t]?Ie[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==Object(_.a)(t)&&t?void e.error("ty.switchcheckbox: method "+t+" does not exist"):Ie.init.apply(this,arguments)}}(e),function(e){e.fn.ceCheckboxGroup=function(t){var a=arguments;return e(this).each(function(r,i){return qe[t]?qe[t].apply(this,Array.prototype.slice.call(a,1)):"object"!==Object(_.a)(t)&&t?void e.error("ty.checkboxGroup: method "+t+" does not exist"):qe.init.apply(this,a)})}}(e),function(e){e.fn.ceBlockManager=function(t){return Fe[t]?Fe[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==Object(_.a)(t)&&t?void e.error("ty.accordion: method "+t+" does not exist"):Fe.init.apply(this,arguments)},e.ceBlockManager=function(t,a){if(Fe[t])return Fe[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("ty.notification: method "+t+" does not exist")}}(e),Object(B.createPlugin)("ceBlockLoader",ze,"ce.block_loader")};String.prototype.str_replace=function(e,t){return this.toString().split(e).join(t)},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),window.Tygh=m.a,window.fn_print_r=n,window.fn_alert=s,window.fn_print_array=c,window.fn_url=l,window.fn_strip_tags=d,window.fn_reload_form=u,window.fn_get_listed_lang=p,window.fn_query_remove=f,window.fn_calculate_total_shipping=h,function(e,t){if(e.$=t,t.fn.extend({select2Sortable:E,toggleBy:v,moveOptions:b,swapOptions:D,selectOptions:C,alignElement:y,formIsChanged:O,fieldIsChanged:j,disableFields:M,click:P,switchAvailability:w,serializeObject:A,positionElm:k}),t.extend(B),He(t),function(e){var t,a=!0,r={"screen--xs":[0,350],"screen--xs-large":[350,480],"screen--sm":[481,767],"screen--sm-large":[768,1024],"screen--md":[1024,1280],"screen--md-large":[1280,1440],"screen--lg":[1440,1920],"screen--uhd":[1920,9999]};function i(){clearTimeout(t),t=void 0}var o=function(t){i();var o={old:"",new:""},_=e(window).width();for(var n in r){e("body").hasClass(n)&&(o.old=n,e("body").removeClass(n));var s=r[n];_>=s[0]&&_<=s[1]&&(e("body").addClass(n),o.new=n)}e.ceEvent("trigger","ce.window.resize",[t,o]),a&&(a=!1,e.ceEvent("trigger","ce.responsive_classes.ready",[]))};e.ceEvent("on","ce.commoninit",function(){e(window).on("resize",function(e){"undefined"!=Object(_.a)(t)&&i(),t=setTimeout(o,200,e)}),e(window).trigger("resize")})}(t),!e.embedded&&location.hash&&0===decodeURIComponent(location.hash).indexOf("#!/")){var a=t.parseUrl(location.href),r=t.ceHistory("parseHash",location.hash);t.browser.msie&&t.browser.version>=9?t.redirect(a.protocol+"://"+a.host+r):t.redirect(a.protocol+"://"+a.host+a.directory+r)}}(m.a,o.a)},3:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var r=a(2),i={embedded:"undefined"!=typeof TYGH_LOADER,doc:"undefined"!=typeof TYGH_LOADER?TYGH_LOADER.doc:document,body:"undefined"!=typeof TYGH_LOADER?TYGH_LOADER.body:null,otherjQ:"undefined"!=typeof TYGH_LOADER&&TYGH_LOADER.otherjQ,facebook:"undefined"!=typeof TYGH_FACEBOOK&&TYGH_FACEBOOK,container:"tygh_main_container",init_container:"tygh_container",area:"",security_hash:"",isTouch:!1,anchor:"undefined"!=typeof TYGH_LOADER?"":window.location.hash},o={};i.tr=function(e,t){var a=i.$;return"string"==typeof e&&void 0===t?(o[e]||console.error("'".concat(e,"' is not defined")),o[e]):void 0!==t?(o[e]=t,!0):"object"==Object(r.a)(e)&&(a.extend(o,e),!0)},i.lang=o,i.toNumeric=function(e){var t=Number(String(e).str_replace(",","."));return isNaN(t)?0:t},i.getFloatPrecision=function(e){return String(e).replace(".","").length-e.toFixed().length}},6:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"lastClickedElement",function(){return lastClickedElement}),__webpack_require__.d(__webpack_exports__,"getWindowSizes",function(){return getWindowSizes}),__webpack_require__.d(__webpack_exports__,"disable_elms",function(){return disable_elms}),__webpack_require__.d(__webpack_exports__,"ua",function(){return ua}),__webpack_require__.d(__webpack_exports__,"is",function(){return is}),__webpack_require__.d(__webpack_exports__,"cookie",function(){return cookie}),__webpack_require__.d(__webpack_exports__,"redirect",function(){return redirect}),__webpack_require__.d(__webpack_exports__,"dispatchEvent",function(){return dispatchEvent}),__webpack_require__.d(__webpack_exports__,"runCart",function(){return runCart}),__webpack_require__.d(__webpack_exports__,"commonInit",function(){return commonInit}),__webpack_require__.d(__webpack_exports__,"afterLoad",function(){return afterLoad}),__webpack_require__.d(__webpack_exports__,"processForms",function(){return processForms}),__webpack_require__.d(__webpack_exports__,"formatPrice",function(){return formatPrice}),__webpack_require__.d(__webpack_exports__,"formatNum",function(){return formatNum}),__webpack_require__.d(__webpack_exports__,"utf8Encode",function(){return utf8Encode}),__webpack_require__.d(__webpack_exports__,"crc32",function(){return crc32}),__webpack_require__.d(__webpack_exports__,"rc64_helper",function(){return rc64_helper}),__webpack_require__.d(__webpack_exports__,"utf8_decode",function(){return utf8_decode}),__webpack_require__.d(__webpack_exports__,"rc64",function(){return rc64}),__webpack_require__.d(__webpack_exports__,"toggleStatusBox",function(){return toggleStatusBox}),__webpack_require__.d(__webpack_exports__,"scrollToElm",function(){return scrollToElm}),__webpack_require__.d(__webpack_exports__,"stickyFooter",function(){return stickyFooter}),__webpack_require__.d(__webpack_exports__,"showPickerByAnchor",function(){return showPickerByAnchor}),__webpack_require__.d(__webpack_exports__,"ltrim",function(){return ltrim}),__webpack_require__.d(__webpack_exports__,"rtrim",function(){return rtrim}),__webpack_require__.d(__webpack_exports__,"loadCss",function(){return loadCss}),__webpack_require__.d(__webpack_exports__,"loadAjaxContent",function(){return loadAjaxContent}),__webpack_require__.d(__webpack_exports__,"ajaxLink",function(){return ajaxLink}),__webpack_require__.d(__webpack_exports__,"isJson",function(){return isJson}),__webpack_require__.d(__webpack_exports__,"isMobile",function(){return isMobile}),__webpack_require__.d(__webpack_exports__,"isUndefined",function(){return isUndefined}),__webpack_require__.d(__webpack_exports__,"debounce",function(){return debounce}),__webpack_require__.d(__webpack_exports__,"matchScreenSize",function(){return matchScreenSize}),__webpack_require__.d(__webpack_exports__,"createPlugin",function(){return createPlugin}),__webpack_require__.d(__webpack_exports__,"sprintf",function(){return sprintf}),__webpack_require__.d(__webpack_exports__,"parseUrl",function(){return parseUrl}),__webpack_require__.d(__webpack_exports__,"attachToUrl",function(){return attachToUrl}),__webpack_require__.d(__webpack_exports__,"matchClass",function(){return matchClass}),__webpack_require__.d(__webpack_exports__,"getProcessItemsMeta",function(){return getProcessItemsMeta}),__webpack_require__.d(__webpack_exports__,"getTargetForm",function(){return getTargetForm}),__webpack_require__.d(__webpack_exports__,"checkSelectedItems",function(){return checkSelectedItems}),__webpack_require__.d(__webpack_exports__,"submitForm",function(){return submitForm}),__webpack_require__.d(__webpack_exports__,"externalLink",function(){return externalLink}),__webpack_require__.d(__webpack_exports__,"toggleCheckbox",function(){return toggleCheckbox});var _tmp_ipac_builder_CsCartMultivendor_79751_528_repo_js_core_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),jquery__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),jquery__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__),___WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_=___WEBPACK_IMPORTED_MODULE_2__.a;!function(e){var t=navigator.userAgent.toLowerCase(),a=/(edge)[ \/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||(/(trident\/7.0;)/.exec(t)?[null,"msie","11"]:void 0)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],r={browser:a[1]||"",version:a[2]||"0"},i={};r.browser&&(i[r.browser]=!0,i.version=r.version),i.chrome?i.webkit=!0:i.webkit&&(i.safari=!0),e.browser=i}(jquery__WEBPACK_IMPORTED_MODULE_1___default.a);var lastClickedElement=null,getWindowSizes=function(){var e=document.compatMode&&"BackCompat"!=document.compatMode?document.documentElement:document.body;return{offset_x:e.scrollLeft?e.scrollLeft:self.pageXOffset?self.pageXOffset:0,offset_y:e.scrollTop?e.scrollTop:self.pageYOffset?self.pageYOffset:0,view_height:self.innerHeight?self.innerHeight:e.clientHeight,view_width:self.innerWidth?self.innerWidth:e.clientWidth,height:e.scrollHeight?e.scrollHeight:window.height,width:e.scrollWidth?e.scrollWidth:window.width}},disable_elms=function(e,t){jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+e.join(",#")).prop("disabled",t)},ua={version:navigator.userAgent.toLowerCase().indexOf("chrome")>=0?(navigator.userAgent.match(/.+(?:chrome)[\/: ]([\d.]+)/i)||[])[1]:navigator.userAgent.toLowerCase().indexOf("msie")>=0?(navigator.userAgent.match(/.*?msie[\/:\ ]([\d.]+)/i)||[])[1]:(navigator.userAgent.match(/.+(?:it|pera|irefox|ersion)[\/: ]([\d.]+)/i)||[])[1],browser:navigator.userAgent.toLowerCase().indexOf("chrome")>=0?"Chrome":jquery__WEBPACK_IMPORTED_MODULE_1___default.a.browser.safari?"Safari":jquery__WEBPACK_IMPORTED_MODULE_1___default.a.browser.opera?"Opera":jquery__WEBPACK_IMPORTED_MODULE_1___default.a.browser.msie?"Internet Explorer":"Firefox",os:-1!=navigator.platform.toLowerCase().indexOf("mac")?"MacOS":-1!=navigator.platform.toLowerCase().indexOf("win")?"Windows":"Linux",language:navigator.language?navigator.language:navigator.browserLanguage?navigator.browserLanguage:navigator.userLanguage?navigator.userLanguage:navigator.systemLanguage?navigator.systemLanguage:""},is={email:function(e){return!!/\S+@\S+.\S+/i.test(e)},blank:function(e){return!!(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.isArray(e)&&0==e.length||"null"===jquery__WEBPACK_IMPORTED_MODULE_1___default.a.type(e)||""==(""+e).replace(/[\n\r\t]/gi,""))},integer:function(e){return!(!/^[0-9]+$/.test(e)||jquery__WEBPACK_IMPORTED_MODULE_1___default.a.is.blank(e))},rgbColor:function(e){return/^(rgb)\((\d*)(,|,*)(\d*)(,|,*)(\d*)\)$/.test(e)},rgbaColor:function(e){return/^(rgba)\((\d*)(,|,*)(\d*)(,|,*)(\d*)(,|,*)(\d*|\d.\d*)\)$/.test(e)},hex6Color:function(e){return/^\#[0-9a-fA-F]{6}$/.test(e)},color:function(e){return jquery__WEBPACK_IMPORTED_MODULE_1___default.a.is.rgbColor(e)||jquery__WEBPACK_IMPORTED_MODULE_1___default.a.is.rgbaColor(e)||jquery__WEBPACK_IMPORTED_MODULE_1___default.a.is.hex6Color(e)},phone:function(e){return!(!/^[\s()+-]*([0-9][\s()+-]*){6,20}$/.test(e)||!e.length)}},cookie={get:function(e){for(var t=e+"=",a=t.length,r=document.cookie.length,i=0;i<r;){var o=i+a;if(document.cookie.substring(i,o)==t){var _=document.cookie.indexOf(";",o);return-1==_&&(_=document.cookie.length),decodeURI(document.cookie.substring(o,_))}if(0==(i=document.cookie.indexOf(" ",i)+1))break}return null},set:function(e,t,a,r,i,o){document.cookie=e+"="+encodeURIComponent(t)+(a?"; expires="+a.toGMTString():"")+(r?"; path="+r:"")+(i?"; domain="+i:"")+(o?"; secure":"")},remove:function(e,t,a){jquery__WEBPACK_IMPORTED_MODULE_1___default.a.cookie.get(e)&&(document.cookie=e+"="+(t?"; path="+t:"")+(a?"; domain="+a:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT")}},redirect=function(e,t){t=t||!1,jquery__WEBPACK_IMPORTED_MODULE_1___default()("base").length&&0!=e.indexOf("/")&&0!==e.indexOf("http")&&(e=jquery__WEBPACK_IMPORTED_MODULE_1___default()("base").prop("href")+e),_.embedded?jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceAjax("request",e,{result_ids:_.container}):t?window.location.replace(e):window.location.href=e},dispatchEvent=function dispatchEvent(e){var jelm=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target),elm=e.target,s;if(e.which=e.which||1,("click"==e.type||"mousedown"==e.type)&&jquery__WEBPACK_IMPORTED_MODULE_1___default.a.browser.mozilla&&1!=e.which)return!0;var processed={status:!1,to_return:!0};if(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceEvent("trigger","dispatch_event_pre",[e,jelm,processed]),processed.status)return processed.to_return;if("click"==e.type){if(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.getProcessItemsMeta(elm)){if(!jquery__WEBPACK_IMPORTED_MODULE_1___default.a.checkSelectedItems(elm))return!1}else if((jelm.hasClass("cm-confirm")||jelm.parents().hasClass("cm-confirm"))&&!jelm.parents().hasClass("cm-skip-confirmation")){var confirm_text=_.tr("text_are_you_sure_to_proceed"),$parent_confirm;if(jelm.hasClass("cm-confirm")&&jelm.data("ca-confirm-text")?confirm_text=jelm.data("ca-confirm-text"):($parent_confirm=jelm.parents('[class="cm-confirm"][data-ca-confirm-text]').first(),$parent_confirm.get(0)&&(confirm_text=$parent_confirm.data("ca-confirm-text"))),!1===confirm(fn_strip_tags(confirm_text)))return!1;jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceEvent("trigger","ce.form_confirm",[jelm])}if(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.lastClickedElement=jelm,jelm.hasClass("cm-disabled")||jelm.parents(".cm-disabled").length)return!1;if(jelm.hasClass("cm-delete-row")||jelm.parents(".cm-delete-row").length){var holder;if(jelm.is("tr")||jelm.hasClass("cm-row-item"))holder=jelm;else if(jelm.parents(".cm-row-item").length)holder=jelm.parents(".cm-row-item:first");else{if(!jelm.parents("tr").length||jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-picker",jelm.parents("tr:first")).length)return!1;holder=jelm.parents("tr:first")}jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-combination[id^=off_]",holder).click(),holder.parent("tbody.cm-row-item").length&&(holder=holder.parent("tbody.cm-row-item")),jelm.hasClass("cm-ajax")||jelm.parents(".cm-ajax").length?(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceAjax("clearCache"),holder.remove()):holder.hasClass("cm-opacity")?(jquery__WEBPACK_IMPORTED_MODULE_1___default()(":input",holder).each(function(){jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).prop("name",jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).data("caInputName"))}),holder.removeClass("cm-delete-row cm-opacity"),(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.browser.msie||jquery__WEBPACK_IMPORTED_MODULE_1___default.a.browser.opera)&&jquery__WEBPACK_IMPORTED_MODULE_1___default()("*",holder).removeClass("cm-opacity")):(jquery__WEBPACK_IMPORTED_MODULE_1___default()(":input[name]",holder).each(function(){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this),t=e.prop("name");e.data("caInputName",t).attr("data-ca-input-name",t).prop("name","")}),holder.addClass("cm-delete-row cm-opacity"),(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.browser.msie&&jquery__WEBPACK_IMPORTED_MODULE_1___default.a.browser.version<9||jquery__WEBPACK_IMPORTED_MODULE_1___default.a.browser.opera)&&jquery__WEBPACK_IMPORTED_MODULE_1___default()("*",holder).addClass("cm-opacity"))}if(jelm.hasClass("cm-save-and-close")&&jelm.parents("form:first").append('<input type="hidden" name="return_to_list" value="Y" />'),jelm.hasClass("cm-new-window")&&jelm.prop("href")||jelm.closest(".cm-new-window")&&jelm.closest(".cm-new-window").prop("href")){var _e=jelm.hasClass("cm-new-window")?jelm.prop("href"):jelm.closest(".cm-new-window").prop("href");return window.open(_e),!1}if(jelm.hasClass("cm-select-text"))if(jelm.data("caSelectId")){var c_elm=jelm.data("caSelectId");c_elm&&jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+c_elm).length&&jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+c_elm).select()}else jelm.get(0).select();if(jelm.hasClass("cm-external-click")||jelm.parents(".cm-external-click").length){var _e=jelm.hasClass("cm-external-click")?jelm:jelm.parents(".cm-external-click:first"),c_elm=_e.data("caExternalClickId");c_elm&&jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+c_elm).length&&jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+c_elm).click();var opt={need_scroll:!0,jelm:_e};jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceEvent("trigger","ce.needScroll",[opt]),_e.data("caScroll")&&opt.need_scroll&&jquery__WEBPACK_IMPORTED_MODULE_1___default.a.scrollToElm(_e.data("caScroll"))}if(jelm.closest(".cm-dialog-opener").length){var _e=jelm.closest(".cm-dialog-opener"),params=jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceDialog("get_params",_e);return jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+_e.data("caTargetId")).ceDialog("open",params),!1}if("modal"==jelm.data("toggle")&&jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceDialog("get_last").length){var href=jelm.prop("href"),target=jquery__WEBPACK_IMPORTED_MODULE_1___default()(jelm.data("target")||href&&href.replace(/.*(?=#[^\s]+$)/,""));if(target.length){var minZ=jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceDialog("get_last").zIndex();target.zIndex(minZ+2),target.on("shown",function(){jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).data("modal").$backdrop.zIndex(minZ+1)})}}if(jelm.hasClass("cm-cancel")){var form=jelm.parents("form");form.length&&(form.get(0).reset(),_.fileuploader&&_.fileuploader.clean_form(),form.find(".error-message").remove(),form.find("input[checked]").change(),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceEvent("trigger","ce.cm_cancel.clean_form",[form,jelm]))}if(jelm.hasClass("cm-scroll")&&jelm.data("caScroll")&&jquery__WEBPACK_IMPORTED_MODULE_1___default.a.scrollToElm(jelm.data("caScroll")),"Y"==_.changes_warning&&jelm.parents(".cm-confirm-changes").length&&jelm.parents("form").length&&jelm.parents("form:first").formIsChanged()&&!1===confirm(fn_strip_tags(_.tr("text_changes_not_saved"))))return!1;if(jelm.hasClass("cm-check-items")||jelm.parents(".cm-check-items").length){var form=elm.form;form||(form=jelm.parents("form:first"));var item_class=".cm-item"+(jelm.data("caTarget")?"-"+jelm.data("caTarget"):"");if(jelm.data("caStatus")){var items=jquery__WEBPACK_IMPORTED_MODULE_1___default()("input"+item_class+"[type=checkbox]:not(:disabled)",form);items.prop("checked",!1),items.trigger("change"),item_class+=".cm-item-status-"+jelm.data("caStatus")}var inputs=jquery__WEBPACK_IMPORTED_MODULE_1___default()("input"+item_class+"[type=checkbox]:not(:disabled)",form);if(inputs.length){var flag=!0;jelm.is("[type=checkbox]")&&(flag=jelm.prop("checked")),jelm.hasClass("cm-on")?flag=!0:jelm.hasClass("cm-off")&&(flag=!1),inputs.prop("checked",flag),inputs.trigger("change")}}else{if(jelm.hasClass("cm-promo-popup")||jelm.parents(".cm-promo-popup").length)return jquery__WEBPACK_IMPORTED_MODULE_1___default()("#restriction_promo_dialog").ceDialog("open",{width:"auto",height:"auto",dialogClass:"restriction-promo"}),e.stopPropagation(),!1;if("submit"==jelm.prop("type")||jelm.closest("button[type=submit]").length){var _jelm=jelm.is("input,button")?jelm:jelm.closest("button[type=submit]");return jquery__WEBPACK_IMPORTED_MODULE_1___default()(_jelm.prop("form")).ceFormValidator("setClicked",_jelm),1==_jelm.length&&null==_jelm.prop("form")?jquery__WEBPACK_IMPORTED_MODULE_1___default.a.submitForm(_jelm):!_jelm.hasClass("cm-no-submit")}}var $ajax_link=jelm.closest("a.cm-ajax[href]");if($ajax_link.length)return jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ajaxLink(e,void 0,function(t){var a=$ajax_link.data("caEventName")?"."+$ajax_link.data("caEventName"):"";jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceEvent("trigger","ce.ajaxlink.done"+a,[e,t])});if(jelm.parents(".cm-reset-link").length||jelm.hasClass("cm-reset-link")){var frm=jelm.parents("form:first");jquery__WEBPACK_IMPORTED_MODULE_1___default()("[type=checkbox]",frm).prop("checked",!1).change(),jquery__WEBPACK_IMPORTED_MODULE_1___default()("input[type=text], input[type=password], input[type=file]",frm).val(""),jquery__WEBPACK_IMPORTED_MODULE_1___default()("select",frm).each(function(){jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).val(jquery__WEBPACK_IMPORTED_MODULE_1___default()("option:first",this).val()).change()});var radio_names=[];return jquery__WEBPACK_IMPORTED_MODULE_1___default()("input[type=radio]",frm).each(function(){-1==jquery__WEBPACK_IMPORTED_MODULE_1___default.a.inArray(this.name,radio_names)?(jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).prop("checked",!0).change(),radio_names.push(this.name)):jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).prop("checked",!1)}),!0}if(jelm.hasClass("cm-submit")||jelm.parents(".cm-submit").length){if(!jelm.is("select,input"))return jquery__WEBPACK_IMPORTED_MODULE_1___default.a.submitForm(jelm)}else{if(jelm.hasClass("cm-popup-switch")||jelm.parents(".cm-popup-switch").length)return jelm.parents(".cm-popup-box:first").hide(),!1;if(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.matchClass(elm,/cm-combinations([-\w]+)?/gi)){var s=elm.className.match(/cm-combinations([-\w]+)?/gi)||jelm.parent().get(0).className.match(/cm-combinations(-[\w]+)?/gi),p_elm=jelm.prop("id")?jelm:jelm.parent(),class_group=s[0].replace(/cm-combinations/,""),id_group=p_elm.prop("id").replace(/on_|off_|sw_/,"");return jquery__WEBPACK_IMPORTED_MODULE_1___default()("#on_"+id_group).toggle(),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#off_"+id_group).toggle(),0==p_elm.prop("id").indexOf("sw_")?jquery__WEBPACK_IMPORTED_MODULE_1___default()('[data-ca-switch-id="'+id_group+'"]').toggle():0==p_elm.prop("id").indexOf("on_")?jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-combination"+class_group+':visible[id^="on_"]').click():jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-combination"+class_group+':visible[id^="off_"]').click(),!0}if(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.matchClass(elm,/cm-combination(-[\w]+)?/gi)||jelm.parents(".cm-combination").length){var p_elm=jelm.parents(".cm-combination").length?jelm.parents(".cm-combination:first"):jelm.prop("id")?jelm:jelm.parent(),id,prefix;p_elm.prop("id")&&(prefix=p_elm.prop("id").match(/^(on_|off_|sw_)/)[0]||"",id=p_elm.prop("id").replace(/^(on_|off_|sw_)/,""));var container=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+id),flag="on_"!=prefix&&("off_"==prefix||!!container.is(":visible"));p_elm.hasClass("cm-uncheck")&&jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+id+" [type=checkbox]").prop("disabled",flag),container.removeClass("hidden"),container.toggleBy(flag),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceEvent("trigger","ce.switch_"+id,[flag]),container.is(".cm-smart-position:visible")&&container.position({my:"right top",at:"right top",of:p_elm});var s_elm=jelm.hasClass("cm-save-state")?jelm:!!p_elm.hasClass("cm-save-state")&&p_elm;if(s_elm){var _s=s_elm.hasClass("cm-ss-reverse")?":hidden":":visible";container.is(_s)?jquery__WEBPACK_IMPORTED_MODULE_1___default.a.cookie.set(id,1):jquery__WEBPACK_IMPORTED_MODULE_1___default.a.cookie.remove(id)}if("sw_"==prefix&&(p_elm.hasClass("open")?p_elm.removeClass("open"):p_elm.hasClass("open")||p_elm.addClass("open")),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#on_"+id).removeClass("hidden").toggleBy(!flag),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#off_"+id).removeClass("hidden").toggleBy(flag),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceDialog("fit_elements",{container:container,jelm:jelm}),!jelm.is("[type=checkbox]"))return!1}else{if((jelm.is(":not(:focusable)")||jelm.is("label"))&&(jelm.hasClass("cm-click-on-visible")||jelm.parents(".cm-click-on-visible").length)){var data=jelm.parents(".cm-click-on-visible:first").data()||jelm.data(),clickAt=jquery__WEBPACK_IMPORTED_MODULE_1___default()(_.body);return clickAt=void 0!=data.caSearchInner?jquery__WEBPACK_IMPORTED_MODULE_1___default()(data.caSearchInnerContainer).find("".concat(data.caTarget,":visible")):jquery__WEBPACK_IMPORTED_MODULE_1___default()("".concat(data.caTarget,":visible")),clickAt.click(),!1}if((jelm.is("a.cm-increase, a.cm-decrease")||jelm.parents("a.cm-increase").length||jelm.parents("a.cm-decrease").length)&&jelm.parents(".cm-value-changer").length){var inp=jquery__WEBPACK_IMPORTED_MODULE_1___default()("input",jelm.closest(".cm-value-changer")),step=1,min_qty=0,currentValue=inp.val();inp.attr("data-ca-step")&&(step=parseInt(inp.attr("data-ca-step"))),inp.data("caMinQty")&&(min_qty=parseInt(inp.data("caMinQty")));var new_val=parseInt(inp.val())+(jelm.is("a.cm-increase")||jelm.parents("a.cm-increase").length?step:-step),newValue=new_val>min_qty?new_val:min_qty;inp.val(newValue),inp.keypress(),currentValue!=newValue&&inp.trigger("change");var trigger_name="ce.valuechangerincrease",trigger_params=[inp,step,min_qty,new_val];return jelm.is("a.cm-decrease")&&(trigger_name="ce.valuechangerdecrease"),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceEvent("trigger",trigger_name,trigger_params),!0}if(jelm.hasClass("cm-external-focus")||jelm.parents(".cm-external-focus").length){var f_elm=jelm.data("caExternalFocusId")?jelm.data("caExternalFocusId"):jelm.parents(".cm-external-focus:first").data("caExternalFocusId");f_elm&&jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+f_elm).length&&jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+f_elm).focus()}else{if(jelm.hasClass("cm-previewer")||jelm.parent().hasClass("cm-previewer")){var lnk=jelm.hasClass("cm-previewer")?jelm:jelm.parent();return lnk.cePreviewer("display"),!1}if(jelm.hasClass("cm-update-for-all-icon")){if(jelm.toggleClass("visible"),jelm.prop("title",jelm.data("caTitle"+(jelm.hasClass("visible")?"Active":"Disabled"))),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#hidden_update_all_vendors_"+jelm.data("caDisableId")).prop("disabled",!jelm.hasClass("visible")),jelm.data("caHideId")){var parent_elm=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#container_"+jelm.data("caHideId"));parent_elm.find(":input:visible").prop("disabled",!jelm.hasClass("visible")),parent_elm.find(":input[type=hidden]").prop("disabled",!jelm.hasClass("visible")),parent_elm.find("textarea.cm-wysiwyg").ceEditor("disable",!jelm.hasClass("visible"))}var state_select_trigger=jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-state").parent().find(".cm-update-for-all-icon");jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+jelm.data("caHideId")).hasClass("cm-country")&&jelm.hasClass("visible")!=state_select_trigger.hasClass("visible")&&state_select_trigger.click();var country_select_trigger=jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-country").parent().find(".cm-update-for-all-icon");jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+jelm.data("caHideId")).hasClass("cm-state")&&jelm.hasClass("visible")!=country_select_trigger.hasClass("visible")&&country_select_trigger.click()}else{if((jelm.hasClass("cm-toggle-checked")||jelm.parents(".cm-toggle-checked").length)&&!jelm.is('input[type="checkbox"]')&&!jelm.is('input[type="radio"]')){var $target=jquery__WEBPACK_IMPORTED_MODULE_1___default()(jelm.data("caTarget")||jelm.parents(".cm-toggle-checked:first").data("caTarget"));return toggleCheckbox($target),!1}if(jelm.hasClass("cm-toggle-checkbox"))jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-toggle-element").prop("disabled",!jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-toggle-checkbox").prop("checked"));else if(jelm.hasClass("cm-back-link")||jelm.parents(".cm-back-link").length)parent.history.back();else if(jelm.closest(".cm-post").length){var _elm=jelm.closest(".cm-post");if(!_elm.hasClass("cm-ajax")){var href=_elm.prop("href"),target=_elm.prop("target")||"";return jquery__WEBPACK_IMPORTED_MODULE_1___default()('<form class="hidden" action="'+href+'" method="post" target="'+target+'"><input type="hidden" name="security_hash" value="'+_.security_hash+'"></form>').appendTo(_.body).submit(),!1}}}}}}if(jelm.closest(".cm-dialog-closer").length&&jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceDialog("get_last").ceDialog("close"),jelm.hasClass("cm-instant-upload")){var href=jelm.data("caHref"),result_ids=jelm.data("caTargetId")||"",placeholder=jelm.data("caPlaceholder")||"",form_elm=jquery__WEBPACK_IMPORTED_MODULE_1___default()('<form class="cm-ajax hidden" name="instant_upload_form" action="'+href+'" method="post" enctype="multipart/form-data"><input type="hidden" name="result_ids" value="'+result_ids+'"><input type="file" name="upload" value=""><input type="submit"></form>'),clicked_elm=form_elm.find("input[type=submit]"),file_elm=form_elm.find("input[type=file]");file_elm.on("change",function(){clicked_elm.click()}),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceEvent("one","ce.formajaxpost_instant_upload_form",function(e,t){if(e.placeholder){var a=(new Date).getTime()/1e3;jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+placeholder).prop("src",e.placeholder+"?"+a)}t.form.remove()}),form_elm.ceFormValidator(),jquery__WEBPACK_IMPORTED_MODULE_1___default()(_.body).append(form_elm),file_elm.click()}if(jelm.is("a")||jelm.parents("a").length){var _lnk=jelm.is("a")?jelm:jelm.parents("a:first");if(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.showPickerByAnchor(_lnk.prop("href")),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.browser.msie&&_lnk.prop("href")&&-1!=_lnk.prop("href").indexOf("window.open"))return eval(_lnk.prop("href")),!1;if(jquery__WEBPACK_IMPORTED_MODULE_1___default()("base").length&&_lnk.attr("href")&&0==_lnk.attr("href").indexOf("#")){var anchor_name=_lnk.attr("href").substr(1,_lnk.attr("href").length),url=window.location.href;return-1!=url.indexOf("#")&&(url=url.substr(0,url.indexOf("#"))),url+="#"+anchor_name,jquery__WEBPACK_IMPORTED_MODULE_1___default.a.redirect(url),!1}}if(_.embedded&&(jelm.is("a")||jelm.closest("a").length)){var _elm=jelm.is("a")?jelm:jelm.closest("a");if(_elm.prop("href")&&"_blank"!=_elm.prop("target")&&-1==_elm.prop("href").search(/javascript:/i)){if(!_elm.hasClass("cm-no-ajax")&&!jquery__WEBPACK_IMPORTED_MODULE_1___default.a.externalLink(fn_url(_elm.prop("href"))))return _elm.data("caScroll")||_elm.data("caScroll",_.container),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ajaxLink(e,_.container);_elm.prop("target","_parent")}}}else{if("keydown"==e.type){var char_code=e.which?e.which:e.keyCode;if(27==char_code){var comet_controller=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#comet_container_controller");if(comet_controller.length&&0!=comet_controller.ceProgress("getValue")&&100!=comet_controller.ceProgress("getValue"))return!1;jquery__WEBPACK_IMPORTED_MODULE_1___default.a.popupStack.last_close();var _notification_container=jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-notification-content-extended:visible");_notification_container.length&&jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceNotification("close",_notification_container,!1)}if("A"===_.area&&e.ctrlKey&&222===char_code){var productId=prompt("Product ID","");productId&&jquery__WEBPACK_IMPORTED_MODULE_1___default.a.redirect(fn_url("products.update?product_id="+productId))}return!0}if("mousedown"==e.type){if(jelm.hasClass("cm-disabled")||jelm.parents(".cm-disabled").length)return!1;if(jelm.hasClass("cm-select-option")){jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-popup-box").removeClass("open");var upd_elm=jelm.parents(".cm-popup-box:first");jquery__WEBPACK_IMPORTED_MODULE_1___default()("a:first",upd_elm).html(jelm.text()+' <span class="caret"></span>'),jquery__WEBPACK_IMPORTED_MODULE_1___default()("li a",upd_elm).removeClass("active").addClass("cm-select-option"),jquery__WEBPACK_IMPORTED_MODULE_1___default()("li",upd_elm).removeClass("disabled"),jelm.removeClass("cm-select-option").addClass("active"),jelm.parents("li:first").addClass("disabled"),jquery__WEBPACK_IMPORTED_MODULE_1___default()("input",upd_elm).val(jelm.data("caListItem"))}var popups=jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-popup-box:visible");if(popups.length){var zindex=jelm.zIndex(),foundz=0;0==zindex&&(jelm.parents().each(function(){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this);0==foundz&&0!=e.zIndex()&&(foundz=e.zIndex())}),zindex=foundz),popups.each(function(){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this);if(e.zIndex()>zindex&&!e.has(jelm).length){if(e.prop("id")){var t=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#sw_"+e.prop("id"));if(t.length)return jelm.closest(t).length||t.click(),!0}e.hide()}})}return!0}if("keyup"==e.type){var elm_val=jelm.val(),negative_expr=new RegExp("^-.*","i");if(jelm.hasClass("cm-value-integer")){var new_val=elm_val.replace(/[^\d]+/,"");elm_val!=new_val&&jelm.val(new_val)}else if(jelm.hasClass("cm-value-decimal")){var is_negative=negative_expr.test(elm_val),new_val=elm_val.replace(/[^.0-9]+/g,"");new_val=new_val.replace(/([0-9]+[.]?[0-9]*).*$/g,"$1"),elm_val!=new_val&&jelm.val(new_val)}if(jelm.hasClass("cm-ajax-content-input")){if(39==e.which||37==e.which)return;var delay=500;void 0!==this.to&&clearTimeout(this.to),this.to=setTimeout(function(){jquery__WEBPACK_IMPORTED_MODULE_1___default.a.loadAjaxContent(jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+jelm.data("caTargetId")),jelm.val().trim())},delay)}return!0}if("change"==e.type){if(jelm.hasClass("cm-amount")&&jquery__WEBPACK_IMPORTED_MODULE_1___default.a.is.blank(jelm.val())){var _jelm$data=jelm.data(),caMinQty=_jelm$data.caMinQty;jelm.val(caMinQty||0)}if(jelm.hasClass("cm-select-with-input-key")){var value=jelm.val(),assoc_input=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+jelm.prop("id").replace("_select",""));assoc_input.prop("value",value),assoc_input.prop("disabled",""!=value),""==value?assoc_input.removeClass("input-text-disabled"):assoc_input.addClass("input-text-disabled")}if(jelm.hasClass("cm-reload-form")&&fn_reload_form(jelm),jelm.hasClass("cm-submit")&&jquery__WEBPACK_IMPORTED_MODULE_1___default.a.submitForm(jelm),jelm.hasClass("cm-bs-trigger")){var container=jelm.closest(".cm-bs-container"),block=container.find(".cm-bs-block"),group=jelm.closest(".cm-bs-group"),other_blocks=group.find(".cm-bs-block").not(block);block.switchAvailability(!jelm.prop("checked"),!1),block.find(".cm-bs-off").hide(),other_blocks.switchAvailability(jelm.prop("checked"),!1),other_blocks.find(".cm-bs-off").show()}if(jelm.hasClass("cm-switch-availability")){var linked_elm=jelm.prop("id").replace("sw_","").replace(/_suffix.*/,""),state,hide_flag=!1;jelm.hasClass("cm-switch-visibility")&&(hide_flag=!0),jelm.is("[type=checkbox],[type=radio]")?state=jelm.hasClass("cm-switch-inverse")?jelm.prop("checked"):!jelm.prop("checked"):jelm.hasClass("cm-switched")?(jelm.removeClass("cm-switched"),state=!0):(jelm.addClass("cm-switched"),state=!1),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+linked_elm).switchAvailability(state,hide_flag),jelm.is("[type=checkbox],[type=radio]")&&jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceDialog("get_last").ceDialog("resize")}if(jelm.hasClass("cm-enable-class")||jelm.hasClass("cm-disable-class")){var _jelm$data2=jelm.data(),caDisableClassName=_jelm$data2.caDisableClassName,caDisableClassTarget=_jelm$data2.caDisableClassTarget,caEnableClassName=_jelm$data2.caEnableClassName,caEnableClassTarget=_jelm$data2.caEnableClassTarget;caDisableClassName?jquery__WEBPACK_IMPORTED_MODULE_1___default()(caDisableClassTarget).removeClass(caDisableClassName):caEnableClassName&&jquery__WEBPACK_IMPORTED_MODULE_1___default()(caEnableClassTarget).addClass(caEnableClassName)}if(jelm.hasClass("cm-combo-checkbox")){var combo_block=jelm.parents(".control-group:first"),combo_select=combo_block.next(".control-group").find("select.cm-combo-select:first"),current_val=combo_select.val();if(combo_select.length){var options=jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-combo-checkbox:checked",combo_block),_options="";0===options.length?_options+='<option value="'+jelm.val()+'">'+jquery__WEBPACK_IMPORTED_MODULE_1___default()("label[for="+jelm.prop("id")+"]").text()+"</option>":jquery__WEBPACK_IMPORTED_MODULE_1___default.a.each(options,function(){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this),t=e.val(),a=jquery__WEBPACK_IMPORTED_MODULE_1___default()("label[for="+e.prop("id")+"]").text();_options+='<option value="'+t+'"'+(t==current_val?' selected="selected"':"")+">"+a+"</option>"}),combo_select.html(_options)}}}}},runCart=function(e){_.area=e,_.body||(_.body=document.body),jquery__WEBPACK_IMPORTED_MODULE_1___default()('<style type="text/css">.cm-noscript {display:none}</style>').appendTo("head"),jquery__WEBPACK_IMPORTED_MODULE_1___default()(_.doc).on("click mousedown keyup keydown change",function(e){return jquery__WEBPACK_IMPORTED_MODULE_1___default.a.dispatchEvent(e)}),"A"==e?(-1!==location.href.indexOf("?")||jquery__WEBPACK_IMPORTED_MODULE_1___default()(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.rc64_helper("Lm9uZS1waXhlbC1iYWNrZ3JvdW5k")).length||jquery__WEBPACK_IMPORTED_MODULE_1___default()(".admin-content-wrapper",_.body).after(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.rc64()),jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-popover").popover({html:!0}),webshim.setOptions("basePath",_.current_location+"/js/lib/js-webshim/shims/"),webshim.polyfill("forms")):"C"==e&&jquery__WEBPACK_IMPORTED_MODULE_1___default.a.browser.msie&&jquery__WEBPACK_IMPORTED_MODULE_1___default.a.browser.version<8&&jquery__WEBPACK_IMPORTED_MODULE_1___default()("ul.dropdown li").hover(function(){jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).addClass("hover"),jquery__WEBPACK_IMPORTED_MODULE_1___default()("> .dir",this).addClass("open"),jquery__WEBPACK_IMPORTED_MODULE_1___default()("ul:first",this).css("display","block")},function(){jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).removeClass("hover"),jquery__WEBPACK_IMPORTED_MODULE_1___default()(".open",this).removeClass("open"),jquery__WEBPACK_IMPORTED_MODULE_1___default()("ul:first",this).css("display","none")}),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#push").length>0&&jquery__WEBPACK_IMPORTED_MODULE_1___default.a.stickyFooter(),jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-sticky-scroll").ceStickyScroll(),jquery__WEBPACK_IMPORTED_MODULE_1___default()(_.doc).on("mouseover",".cm-tooltip[title]",function(){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this);e.data("tooltip")||e.ceTooltip(),e.data("tooltip").show()});var t=jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-dialog-auto-open");return t.ceDialog("open",jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceDialog("get_params",t)),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceNotification("init"),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.showPickerByAnchor(location.href),jquery__WEBPACK_IMPORTED_MODULE_1___default()(window).on("load",function(){jquery__WEBPACK_IMPORTED_MODULE_1___default.a.afterLoad(e)}),jquery__WEBPACK_IMPORTED_MODULE_1___default()(window).on("beforeunload",function(e){var t=jquery__WEBPACK_IMPORTED_MODULE_1___default.a.lastClickedElement;if("Y"==_.changes_warning&&jquery__WEBPACK_IMPORTED_MODULE_1___default()("form.cm-check-changes").formIsChanged()&&(null===t||t&&!t.is("[type=submit]")&&!t.is("input[type=image]")&&!t.hasClass("cm-submit")&&!t.parents().hasClass("cm-submit")&&!t.hasClass("cm-confirm")&&!t.parents().hasClass("cm-confirm")))return _.tr("text_changes_not_saved")}),jquery__WEBPACK_IMPORTED_MODULE_1___default()(window).bind("pageshow",function(e){e.originalEvent.persisted&&window.location.reload()}),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceHistory("init"),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.commonInit(),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.widget("ui.dialog",jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ui.dialog,{_moveToTop:function(e,t){var a=!!this.uiDialog.nextAll(":visible:not(.tooltip)").insertBefore(this.uiDialog).length;return a&&!t&&this._trigger("focus",e),a},_allowInteraction:function(e){return jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target).closest(".editable-input").length?!!jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target).closest(".editable-input").length||this._super(e):!!jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target).is(".select2-search__field")||this._super(e)},_focusTabbable:function(){this.options.delayFocusTabbable?setTimeout(this._super.bind(this),this.options.delayFocusTabbable):this._super()}}),"undefined"==typeof Modernizr||0!=Modernizr.cookies||_.embedded||jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceNotification("show",{title:_.tr("warning"),message:_.tr("cookie_is_disabled")}),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceBlockLoader("load"),!0},commonInit=function(e){e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e||_.doc);var t=jquery__WEBPACK_IMPORTED_MODULE_1___default()("body"),a=jquery__WEBPACK_IMPORTED_MODULE_1___default()("html");if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||navigator.userAgent.match(/IEMobile/i)){t.on("mousemove touchstart",function e(r){"mousemove"===r.type?(jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+_.container).addClass("no-touch"),a.addClass("mouseevents")):"touchstart"===r.type&&(_.isTouch=!0,jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+_.container).addClass("touch")),t.off("mousemove touchstart",e)})}else jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+_.container).addClass("no-touch"),a.addClass("mouseevents");if("A"!=_.area&&"C"!=_.area||jquery__WEBPACK_IMPORTED_MODULE_1___default.a.fn.autoNumeric&&jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-numeric",e).autoNumeric("init"),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.fn.ceTabs&&jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-j-tabs",e).ceTabs(),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.fn.ceSidebar&&jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-sidebar",e).ceSidebar(),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.fn.ceProductImageGallery&&jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-image-gallery",e).ceProductImageGallery(),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.fn.ceSwitchCheckbox&&jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-switch-checkbox",e).ceSwitchCheckbox(),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.processForms(e),e.closest(".cm-hide-inputs").length&&e.disableFields(),jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-hide-inputs",e).disableFields(),jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-hint",e).ceHint("init"),0==_.isTouch&&jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-focus:visible:first",e).focus(),jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-autocomplete-off",e).prop("autocomplete","off"),jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-ajax-content-more",e).each(function(){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this);e.appear(function(){jquery__WEBPACK_IMPORTED_MODULE_1___default.a.loadAjaxContent(e)},{one:!1,container:"#scroller_"+e.data("caTargetId")})}),jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-colorpicker",e).ceColorpicker(),jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-sortable",e).ceSortable(),jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-accordion",e).ceAccordion(),jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-checkbox-group",e).ceCheckboxGroup(),jquery__WEBPACK_IMPORTED_MODULE_1___default()("[data-ca-block-manager]",e).ceBlockManager(),jquery__WEBPACK_IMPORTED_MODULE_1___default()("select.cm-country",e).length?jquery__WEBPACK_IMPORTED_MODULE_1___default()("select.cm-country",e).ceRebuildStates():jquery__WEBPACK_IMPORTED_MODULE_1___default()("select.cm-state",e).ceRebuildStates(),jquery__WEBPACK_IMPORTED_MODULE_1___default()(".dropdown-menu",e).on("click",function(e){var t=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target);if(t.parents(".cm-dropdown-skip-processing").length)return e.stopPropagation(),!0;if(t.is("a")){if(!jquery__WEBPACK_IMPORTED_MODULE_1___default()("input[type=checkbox]:enabled",t).length)return!t.hasClass("cm-ajax")||(jquery__WEBPACK_IMPORTED_MODULE_1___default()("a.dropdown-toggle",t.parents(".dropdown:first")).dropdown("toggle"),!0);jquery__WEBPACK_IMPORTED_MODULE_1___default()("input[type=checkbox]:enabled",t).click()}jquery__WEBPACK_IMPORTED_MODULE_1___default.a.dispatchEvent(e),e.stopPropagation()}),jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-back-link").length){var r=!0;jquery__WEBPACK_IMPORTED_MODULE_1___default.a.browser.opera?0==parent.history.length&&(r=!1):1==parent.history.length&&(r=!1),r||jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-back-link").addClass("cm-disabled")}jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-bs-trigger[checked]",e).change(),jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-object-selector",e).ceObjectSelector(),jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-combo-checkbox-group",e).each(function(e,t){jquery__WEBPACK_IMPORTED_MODULE_1___default()(t).find(".cm-combo-checkbox:first").change()}),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceEvent("trigger","ce.commoninit",[e])},afterLoad=function(e){return!0},processForms=function(e){var t=jquery__WEBPACK_IMPORTED_MODULE_1___default()("form:not(.cm-processed-form)",e);if(t.addClass("cm-processed-form"),t.ceFormValidator(),"A"==_.area){t.filter("[method=post]:not(.cm-disable-check-changes)").addClass("cm-check-changes");var a=0==t.length?e:t}jquery__WEBPACK_IMPORTED_MODULE_1___default()("textarea.cm-wysiwyg",a).appear(function(){jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).ceEditor()})},formatPrice=function(e,t){void 0===t&&(t=2);var a=(e=parseFloat(e.toString())+1e-11).toFixed(t);return"."==a.charAt(0)?"0"+a:a},formatNum=function(e,t,a){var r="",i="",o=0,n=0,s=0,c=_.currencies,l=1==a?c.primary.thousands_separator:c.secondary.thousands_separator,d=1==a?c.primary.decimals_separator:c.secondary.decimals_separator,u=(t=1==a?c.primary.decimals:c.secondary.decimals,!0);if(e=e.toString(),o=parseInt(e),t>0){if(-1!=e.indexOf(".")){var p=e.substr(e.indexOf(".")+1,e.length);p.length>t?((i=Math.round(p/Math.pow(10,p.length-t)).toString()).length>t&&(o=Math.floor(o)+1,i="0"),u=!1):i=e.substr(e.indexOf(".")+1,t)}else i="0";if(i.length<t){var f=i.length;for(s=0;s<t-f;s++)u?i+="0":i="0"+i}}else e=Math.round(parseFloat(e)),o=parseInt(e);if((r=o.toString()).length>=4&&""!=l){o=new Array;for(s=r.length-3;s>-4&&(n=3,s<0&&(n=3+s,s=0),o.push(r.substr(s,n)),0!=s);s-=3);r=o.reverse().join(l)}return t>0&&(r+=d+i),r},utf8Encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var r=e.charCodeAt(a);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},crc32=function(e){e=this.utf8Encode(e);var t=0,a=0,r=0;t^=-1;for(var i=0,o=e.length;i<o;i++)r=255&(t^e.charCodeAt(i)),a="0x"+"00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D".substr(9*r,8),t=t>>>8^parseInt(a);return Math.abs(-1^t)},rc64_helper=function(e){var t,a,r,i,o,_,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,c=0,l="",d=[];do{t=(_=n.indexOf(e.charAt(s++))<<18|n.indexOf(e.charAt(s++))<<12|(i=n.indexOf(e.charAt(s++)))<<6|(o=n.indexOf(e.charAt(s++))))>>16&255,a=_>>8&255,r=255&_,d[c++]=64==i?String.fromCharCode(t):64==o?String.fromCharCode(t,a):String.fromCharCode(t,a,r)}while(s<e.length);return l=d.join(""),l=jquery__WEBPACK_IMPORTED_MODULE_1___default.a.utf8_decode(l)},utf8_decode=function(e){for(var t=[],a=0,r=0,i=0,o=0,_=0;a<e.length;)(i=e.charCodeAt(a))<128?(t[r++]=String.fromCharCode(i),a++):i>191&&i<224?(o=e.charCodeAt(a+1),t[r++]=String.fromCharCode((31&i)<<6|63&o),a+=2):(o=e.charCodeAt(a+1),_=e.charCodeAt(a+2),t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&_),a+=3);return t.join("")},rc64=function(){return jquery__WEBPACK_IMPORTED_MODULE_1___default.a.rc64_helper("PGltZyBjbGFzcz0ib25lLXBpeGVsLWJhY2tncm91bmQiIHNyYz0iaHR0cHM6Ly93d3cuY3MtY2FydC5jb20vaW1hZ2VzL2JhY2tncm91bmQuZ2lmIiBoZWlnaHQ9IjEiIHdpZHRoPSIxIiBhbHQ9IiIgLz4=")},toggleStatusBox=function(e,t){var a=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#ajax_loading_box");e=e||"show",t=t||null,a.data("default_class")||a.data("default_class",a.prop("statusClass")),"show"==e?(t&&(t.statusContent&&a.html(t.statusContent),t.statusClass&&a.addClass(t.statusClass),t.overlay&&jquery__WEBPACK_IMPORTED_MODULE_1___default()(t.overlay).addClass("cm-overlay").css("opacity","0.4")),a.show(),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#ajax_overlay").show(),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceEvent("trigger","ce.loadershow",[a])):(a.hide(),a.empty(),a.prop("class",a.data("default_class")),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#ajax_overlay").hide(),jquery__WEBPACK_IMPORTED_MODULE_1___default()(".cm-overlay").removeClass("cm-overlay").css("opacity","1"),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceEvent("trigger","ce.loaderhide",[a]))},scrollToElm=function(e,t,a){if(t=t||void 0,a=a||{},"string"==typeof e&&(e.length&&"."!==e.charAt(0)&&"#"!==e.charAt(0)&&(e="#"+e),e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e,t)),!(e instanceof jquery__WEBPACK_IMPORTED_MODULE_1___default.a&&e.size())){if(!(t instanceof jquery__WEBPACK_IMPORTED_MODULE_1___default.a&&t.length))return;e=t}var r,i=jquery__WEBPACK_IMPORTED_MODULE_1___default()(_.body).data("caScrollToElmDelay")||a.delay||500,o=jquery__WEBPACK_IMPORTED_MODULE_1___default()(_.body).data("caScrollToElmOffset")||a.offset||0;e.is(":hidden")&&(e=e.parent());var n=e.offset().top;_.scrolling=!0,!jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceDialog("inside_dialog",{jelm:e})||jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceDialog("get_last").data("caDialogAutoHeight")?(r=jquery__WEBPACK_IMPORTED_MODULE_1___default()(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.browser.opera?"html":"html,body"),n-=o):(r=jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceDialog("get_last").find(".object-container"),e=jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceDialog("get_last").find(e),r.length&&e.length&&(n=(n=e.offset().top)<0?r.scrollTop()-Math.abs(n)-r.offset().top-o:r.scrollTop()+Math.abs(n)-r.offset().top-o)),"-ms-user-select"in document.documentElement.style&&navigator.userAgent.match(/IEMobile\/10\.0/)?(setTimeout(function(){jquery__WEBPACK_IMPORTED_MODULE_1___default()("html, body").scrollTop(n)},300),_.scrolling=!1):jquery__WEBPACK_IMPORTED_MODULE_1___default()(r).animate({scrollTop:n},i,function(){_.scrolling=!1}),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceEvent("trigger","ce.scrolltoelm",[e])},stickyFooter=function(){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#tygh_footer").height(),t=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#tygh_wrap"),a=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#push");t.css({"margin-bottom":-e}),a.css({height:e})},showPickerByAnchor=function(e){if(e&&"#"!=e&&-1!=e.indexOf("#")){var t=e.split("#");/^[a-z0-9_]+$/.test(t[1])&&jquery__WEBPACK_IMPORTED_MODULE_1___default()("#opener_"+t[1]).click()}},ltrim=function(e,t){t=t?t.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" s";var a=new RegExp("^["+t+"]+","g");return e.replace(a,"")},rtrim=function(e,t){t=t?t.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" s";var a=new RegExp("["+t+"]+$","g");return e.replace(a,"")},loadCss=function(e,t,a){a=void 0!==a;var r,i=document.getElementsByTagName("head")[0];(t=t||!1)&&jquery__WEBPACK_IMPORTED_MODULE_1___default.a.toggleStatusBox("show");for(var o=0;o<e.length;o++)(r=document.createElement("link")).type="text/css",r.rel="stylesheet",r.href=-1==e[o].indexOf("://")?_.current_location+"/"+e[o]:e[o],r.media="screen",a?jquery__WEBPACK_IMPORTED_MODULE_1___default()(i).prepend(r):jquery__WEBPACK_IMPORTED_MODULE_1___default()(i).append(r),t&&jquery__WEBPACK_IMPORTED_MODULE_1___default()(r).on("load",function(){jquery__WEBPACK_IMPORTED_MODULE_1___default.a.toggleStatusBox("hide")})},loadAjaxContent=function(e,t){var a=e.data("caTargetId"),r=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+a);if(r.data("ajax_content")){var i=r.data("ajax_content");void 0!==t?(i.pattern=t,i.start=0):i.start+=i.limit,r.data("ajax_content",i)}else r.data("ajax_content",{start:0,limit:6});jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceAjax("request",e.data("caTargetUrl"),{full_render:e.hasClass("cm-ajax-full-render"),result_ids:a,data:r.data("ajax_content"),caching:!0,hidden:!0,append:0!=r.data("ajax_content").start,callback:function(t){var r=jquery__WEBPACK_IMPORTED_MODULE_1___default()("a[data-ca-action]",jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+a));"href"==t.action&&0!=r.length?r.each(function(){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this);if(""==e.data("caAction")&&"0"!=e.data("caAction"))return!0;var t=fn_query_remove(_.current_url,["switch_company_id","meta_redirect_url"]);t.indexOf("#")>0&&(t=t.substr(0,t.indexOf("#"))),e.prop("href",jquery__WEBPACK_IMPORTED_MODULE_1___default.a.attachToUrl(t,"switch_company_id="+e.data("caAction"))),e.data("caAction","")}):(jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+a+" .divider").remove(),jquery__WEBPACK_IMPORTED_MODULE_1___default()("a[data-ca-action]",jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+a)).each(function(){var t=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this);t.on("click",function(){jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+e.data("caResultId")).val(t.data("caAction")).trigger("change"),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+e.data("caResultId")+"_name").val(t.text()),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#sw_"+a+"_wrap_").html(t.html()),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceEvent("trigger","ce.picker_js_action_"+a,[e]),"C"==_.area&&t.addClass("cm-popup-switch")})})),e.toggle(!t.completed)}})},ajaxLink=function(e,t,a){var r=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target),i=r.is("a")?r:r.parents("a").eq(0),o=i.data("caTargetId"),_=i.prop("href");if(_){var n=i.hasClass("cm-ajax-cache"),s=i.hasClass("cm-ajax-force"),c=i.hasClass("cm-ajax-full-render"),l=i.hasClass("cm-history"),d=i.hasClass("cm-ajax-send-form"),u={method:i.hasClass("cm-post")?"post":"get",result_ids:t||o,force_exec:s,caching:n,save_history:l,obj:i,scroll:i.data("caScroll"),overlay:i.data("caOverlay"),callback:a||(i.data("caEvent")?i.data("caEvent"):"")};d&&(u.data=jquery__WEBPACK_IMPORTED_MODULE_1___default()(i.data("caTargetForm")).serializeObject()),c&&(u.full_render=c),jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ceAjax("request",fn_url(_),u)}return e.preventDefault(),!0},isJson=function(e){return""!=jquery__WEBPACK_IMPORTED_MODULE_1___default.a.trim(e)&&(e=e.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,""),/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(e))},isMobile=function(){return"iPad"==navigator.platform||"iPhone"==navigator.platform||"iPod"==navigator.platform||navigator.userAgent.match(/Android/i)},isUndefined=function(e){return"undefined"===Object(_tmp_ipac_builder_CsCartMultivendor_79751_528_repo_js_core_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__.a)(e)},debounce=function(e,t){var a;return function(){clearTimeout(a);var r=arguments,i=this;a=setTimeout(function(){e.apply(i,r)},t)}},matchScreenSize=function(e,t){var a=function(e){return jquery__WEBPACK_IMPORTED_MODULE_1___default()("body").hasClass("screen--"+e)};if(Object(_tmp_ipac_builder_CsCartMultivendor_79751_528_repo_js_core_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__.a)(e)==Object(_tmp_ipac_builder_CsCartMultivendor_79751_528_repo_js_core_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__.a)("string"))return a(e);if(Object(_tmp_ipac_builder_CsCartMultivendor_79751_528_repo_js_core_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__.a)(e)==Object(_tmp_ipac_builder_CsCartMultivendor_79751_528_repo_js_core_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__.a)([])){var r=!1;return e.forEach(function(e){r=!0===t?r&&a(e):r||a(e)}),r}return!1},createPlugin=function(e,t,a){jquery__WEBPACK_IMPORTED_MODULE_1___default.a[e]=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==Object(_tmp_ipac_builder_CsCartMultivendor_79751_528_repo_js_core_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__.a)(e)&&e?void jquery__WEBPACK_IMPORTED_MODULE_1___default.a.error(a+": method "+e+" does not exist"):t.init.apply(this,arguments)}},sprintf=function(e,t,a){var r="";return e.split(a||"?").forEach(function(e,a){t[a]?r+=e+t[a].toString():r+=e}),r},parseUrl=function(e){for(var t={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},a=t.parser[t.strictMode?"strict":"loose"].exec(e),r={},i=14;i--;)r[t.key[i]]=a[i]||"";(r.location=r.protocol+"://"+r.host+r.path,r.base_dir="",r.directory)&&((_=r.directory.split("/")).pop(),_.pop(),r.base_dir=_.join("/"));if(r.parsed_query={},r.query){var o=r.query.split("&");for(i=0;i<o.length;i++){var _;2==(_=o[i].split("=")).length&&(r.parsed_query[decodeURIComponent(_[0])]=decodeURIComponent(_[1].replace(/\+/g," ")))}}return r},attachToUrl=function(e,t){return-1==e.indexOf(t)?-1!==e.indexOf("?")?e+"&"+t:e+"?"+t:e},matchClass=function(e,t){var a=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e);if("object"!==Object(_tmp_ipac_builder_CsCartMultivendor_79751_528_repo_js_core_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__.a)(a.prop("class"))&&void 0!==a.prop("class")){var r=a.prop("class").match(t);if(r)return r;if("object"!==Object(_tmp_ipac_builder_CsCartMultivendor_79751_528_repo_js_core_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__.a)(a.parent().prop("class"))&&void 0!==a.parent().prop("class"))return a.parent().prop("class").match(t)}},getProcessItemsMeta=function(e){var t=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e);return jquery__WEBPACK_IMPORTED_MODULE_1___default.a.matchClass(t,/cm-process-items(-[\w]+)?/gi)},getTargetForm=function(e){var t;jquery__WEBPACK_IMPORTED_MODULE_1___default()(e);return e.data("caTargetForm")&&((t=jquery__WEBPACK_IMPORTED_MODULE_1___default()("form[name="+e.data("caTargetForm")+"]")).length||(t=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+e.data("caTargetForm")))),t&&t.length||(t=e.parents("form")),t},checkSelectedItems=function(e){var t,a,r,i=!1,o=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e),n=jquery__WEBPACK_IMPORTED_MODULE_1___default.a.getProcessItemsMeta(e);if(!o.length||!n)return!0;for(var s=0;s<n.length;s++)if(t=o.hasClass(n[s])?o:o.parents("."+n[s]),a=jquery__WEBPACK_IMPORTED_MODULE_1___default.a.getTargetForm(t),!(r=jquery__WEBPACK_IMPORTED_MODULE_1___default()("input.cm-item"+n[s].str_replace("cm-process-items","")+"[type=checkbox]",a)).length||r.filter(":checked").length){i=!0;break}if(0==i)return fn_alert(_.tr("error_no_items_selected")),!1;if(o.hasClass("cm-confirm")&&!o.hasClass("cm-disabled")||o.parents().hasClass("cm-confirm")){var c,l=_.tr("text_are_you_sure_to_proceed");if(o.hasClass("cm-confirm")&&o.data("ca-confirm-text")?l=o.data("ca-confirm-text"):(c=o.parents('[class="cm-confirm"][data-ca-confirm-text]').first()).get(0)&&(l=c.data("ca-confirm-text")),!1===confirm(fn_strip_tags(l)))return!1}return!0},submitForm=function(e){var t=e.hasClass("cm-submit")?e:e.parents(".cm-submit"),a=jquery__WEBPACK_IMPORTED_MODULE_1___default.a.getTargetForm(t);if(a.length){a.append('<input type="submit" class="'+t.prop("class")+'" name="'+t.data("caDispatch")+'" value="" style="display:none;" />');var r=jquery__WEBPACK_IMPORTED_MODULE_1___default()('input[name="'+t.data("caDispatch")+'"]:last',a),i=["caDispatch","caTargetForm"];return jquery__WEBPACK_IMPORTED_MODULE_1___default.a.each(e.data(),function(e,t){0==e.indexOf("ca")&&-1==jquery__WEBPACK_IMPORTED_MODULE_1___default.a.inArray(e,i)&&r.data(e,t)}),r.data("original_element",t),r.removeClass("cm-submit"),r.removeClass("cm-confirm"),r.click(),!0}return!1},externalLink=function(e){return-1!=e.indexOf("://")&&-1==e.indexOf(_.current_location)};function toggleCheckbox(e){e.prop("checked",!e.prop("checked"))}}});(function(_,$){var loadedScripts={};var loadedScriptPromises={};var sessionData={};(function($){var REQUEST_XML=1;var REQUEST_IFRAME=2;var REQUEST_COMET=3;var REQUEST_JSONP_POST=5;var QUERIES_LIMIT=1;var queryStack=[];var activeQueries=0;var evalCache={};var responseCache={};var getScriptQueries=0;var oldjQuery={};var methods={request:function(url,params){params=params||{};params.method=params.method||'get';params.data=params.data||{};params.message=params.message||_.tr('loading');params.caching=params.caching||false;params.hidden=params.hidden||false;params.repeat_on_error=params.repeat_on_error||false;params.force_exec=params.force_exec||false;params.obj=params.obj||null;params.append=params.append||null;params.scroll=params.scroll||null;params.overlay=params.overlay||null;params.original_url=_.current_url||null;if(_.embedded){params.full_render=true;}
if(params.full_render){params.data.full_render=params.full_render;}
if(typeof(params.data.security_hash)=='undefined'&&typeof(_.security_hash)!='undefined'&&params.method.toLowerCase()=='post'){params.data.security_hash=_.security_hash;}
if(params.result_ids){params.data.result_ids=params.result_ids;}
if(params.skip_result_ids_check){params.data.skip_result_ids_check=params.skip_result_ids_check;}
if(activeQueries>=QUERIES_LIMIT){queryStack.unshift(function(){methods.request(url,params);});return true;}
if(params.hidden===false){$.toggleStatusBox('show',{overlay:params.overlay});}
var hash='';if(params.caching===true){hash=$.crc32(url+$.param(params.data));}
if(!hash||!responseCache[hash]){var saved_data={};var result_ids=(params.data.result_ids)?params.data.result_ids.split(','):[];if(result_ids.length>0){for(var j=0;j<result_ids.length;j++){var container=$('#'+result_ids[j]);if(container.hasClass('cm-save-fields')){saved_data[result_ids[j]]=$(':input:visible',container).serializeArray();}}
params.saved_data=saved_data;}
if(url){url=fn_query_remove(url,'result_ids');if(url.indexOf('://')==-1){url=_.current_location+'/'+url;}
if(params.obj&&params.obj.hasClass('cm-comet')){params.url=url+'&result_ids='+params.result_ids+'&is_ajax='+REQUEST_COMET;return transports.iframe(null,params,{is_comet:true});}else{activeQueries++;var data_type=(!$.support.cors&&url.indexOf('://'+window.location.hostname)==-1)?'jsonp':'json';if(!('is_ajax'in params.data)&&data_type=='json'){params.data.is_ajax=REQUEST_XML;}
if(sessionData.name&&url.indexOf(sessionData.name)==-1){params.data[sessionData.name]=localStorage.getItem(sessionData.name);}
var components=$.parseUrl(url);if(components.anchor){params.data.anchor=components.anchor;}
return $.ajax({type:params.method,url:url,dataType:data_type,cache:true,data:params.data,xhrFields:{withCredentials:true},success:function(data,textStatus){if(hash){responseCache[hash]=data;}
_response(data,params);},error:function(XMLHttpRequest,textStatus,errorThrown){if(params.repeat_on_error){params.repeat_on_error=false;methods.request(url,params);return false;}
$.toggleStatusBox('hide');if(params.hidden===false&&errorThrown){var err_msg=_.tr('error_ajax').str_replace('[error]',errorThrown);$.ceNotification('show',{type:'E',title:_.tr('error'),message:err_msg});}
if(params.error_callback&&typeof(params.error_callback)=='function'){params.error_callback(XMLHttpRequest,textStatus,errorThrown);}},complete:function(XMLHttpRequest,textStatus){activeQueries--;if(queryStack.length){var f=queryStack.shift();f();}}});}}}else if(hash&&responseCache[hash]){_response(responseCache[hash],params);}
return false;},submitForm:function(form,clicked_elm){if(activeQueries>=QUERIES_LIMIT){queryStack.unshift(function(){var submit_name=clicked_elm.attr('name'),submit_value=clicked_elm.val(),input;if(submit_name){input=$('<input>',{type:'hidden',value:submit_value,name:submit_name}).appendTo(form);}
if(methods.submitForm(form,clicked_elm)){form.get(0).submit();}
if(input){input.remove();}});return false;}
var params={form:form,obj:clicked_elm,scroll:clicked_elm.data('caScroll')||'',overlay:clicked_elm.data('caOverlay')||'',callback:'ce.formajaxpost_'+form.prop('name')};$.ceNotification('closeAll');$.toggleStatusBox('show',{overlay:params.overlay});var options=_getOptions(form,params);if(options.force_exec){params['force_exec']=true;}
if(sessionData.name){form.append('<input type="hidden" name="'+sessionData.name+'" value="'+localStorage.getItem(sessionData.name)+'">');}
if(options.full_render){form.append('<input type="hidden" name="full_render" value="Y">');}
form.append('<input type="hidden" name="is_ajax" value="'+(options.transport=='iframe'?(options.is_comet?REQUEST_COMET:REQUEST_IFRAME):(options.transport=='jsonpPOST'?REQUEST_JSONP_POST:REQUEST_XML))+'">');return transports[options.transport](form,params,options);},inProgress:function(){return activeQueries!==0;},clearCache:function(){responseCache={};return true;},response:function(response,params){return _response(response,params);}};var transports={iframe:function(form,params,options){var iframe=$('<iframe name="upload_iframe" src="javascript: false;" class="hidden"></iframe>').appendTo(_.body);activeQueries++;if(options.is_comet&&$('#comet_control:visible').length===0){$('#comet_container_controller').ceProgress('init');}
iframe.on('load',function(){var response={};var self=$(this);if(self.contents().text()!==null){eval('var response = '+self.contents().find('textarea').val());}
response=response||{};_response(response,params);if(options.is_comet&&jQuery.isEmptyObject(response)==false){if(typeof response.comet_is_finished==='undefined'){response.comet_is_finished=true;}
if(response.comet_is_finished){$('#comet_container_controller').ceProgress('finish');}
$.ceEvent('trigger','ce.cometdone',[form,params,options,response]);}
self.remove();activeQueries--;if(queryStack.length){var f=queryStack.shift();f();}});if(form){form.prop('target','upload_iframe');}else if(params.url){if(params.method=='post'){$('<form class="hidden" action="'+params.url+'" method="post" target="upload_iframe"><input type="hidden" name="security_hash" value="'+_.security_hash+'"></form>').appendTo(_.body).submit();}else{iframe.prop('src',params.url);}}
return true;},xml:function(form,params){var hash=$(':input',form).serializeObject();if(params.obj&&params.obj.prop('name')){hash[params.obj.prop('name')]=params.obj.val();}
params['method']=form.prop('method');params['data']=hash;params['result_ids']=form.data('caTargetId');methods.request(form.prop('action'),params);return false;},jsonpPOST:function(form,params,options){$.receiveMessage(function(e){if(options.is_comet){$('#comet_container_controller').ceProgress('finish');}
iframe.remove();_response($.parseJSON(e.data),params);activeQueries--;});var iframe=$('<iframe name="upload_iframe" src="javascript: false;" class="hidden"></iframe>').appendTo(_.body);activeQueries++;if(options.is_comet){$('#comet_container_controller').ceProgress('init');}
if(form){form.prop('target','upload_iframe');}else if(params.url){iframe.prop('src',params.url);}
return true;}};function _getOptions(obj,params){var is_comet=obj.hasClass('cm-comet')||(params.obj&&params.obj.hasClass('cm-comet'));var transport='xml';var uploads=is_comet;if(!is_comet&&obj.prop('enctype')=='multipart/form-data'){obj.find('input[type=file]').each(function(){if($(this).val()){uploads=true;}});}
if((!$.support.cors||(_.embedded&&uploads))&&obj.prop('action').indexOf('//')!=-1&&obj.prop('action').indexOf('//'+window.location.hostname)==-1&&obj.prop('method')=='post'){transport='jsonpPOST';}else if(uploads){transport='iframe';}
return{'full_render':obj.hasClass('cm-ajax-full-render'),'is_comet':is_comet,'force_exec':obj.hasClass('cm-ajax-force'),'transport':transport};}
function _response(response,params){params=params||{};params.force_exec=params.force_exec||false;params.pre_processing=params.pre_processing||{};var regex_all=new RegExp('<script[^>]*>([\u0001-\uFFFF]*?)</script>','img');var matches=[];var match='';var elm;var data=response||{};var inline_scripts=null;var scripts_to_load=[];var elms=[];var content;if(params.pre_processing&&typeof(params.pre_processing)=='function'){params.pre_processing(data,params);}
if(data.force_redirection){$.toggleStatusBox('hide');$.redirect(data.force_redirection);return true;}
if($.isEmptyObject(evalCache)){$('script:not([src])').each(function(){var self=$(this);evalCache[$.crc32(self.html())]=true;});}
if(data.html){for(var k in data.html){elm=$('#'+k);if(elm.length!=1||data.html[k]===null){continue;}
if(data.html[k].indexOf('<form')!=-1&&elm.parents('form').length){$(_.body).append(elm);}
matches=data.html[k].match(regex_all);content=matches?data.html[k].replace(regex_all,''):data.html[k];$('textarea.cm-wysiwyg',elm).each(function(){$(this).ceEditor('destroy');});$.ceDialog('destroy_loaded',{content:content});if(params.append){elm.append(content);}else{elm.html(content);}
if(typeof(params.saved_data)!='undefined'&&typeof(params.saved_data[k])!='undefined'){var elements=[];for(var i in params.saved_data[k]){elements[params.saved_data[k][i]['name']]=params.saved_data[k][i]['value'];}
$('input:visible, select:visible',elm).each(function(id,local_elm){var jelm=$(local_elm);if(typeof(elements[jelm.prop('name')])!='undefined'&&!jelm.parents().hasClass('cm-skip-save-fields')){if(jelm.prop('type')=='radio'){if(jelm.val()==elements[jelm.prop('name')]){jelm.prop('checked',true);}}else{jelm.val(elements[jelm.prop('name')]);}
jelm.trigger('change');}});}
if(elm.html().trim()){elm.parents('.hidden.cm-hidden-wrapper').removeClass('hidden');}else{elm.parents('.cm-hidden-wrapper').addClass('hidden');}
var all_scripts=null,ext_scripts=null;if(matches){all_scripts=$(matches.join('\n'));ext_scripts=all_scripts.filter('[src]');inline_scripts=(inline_scripts)?inline_scripts.add(all_scripts.filter(':not([src])')):all_scripts.filter(':not([src])');if(ext_scripts.length){for(var i=0;i<ext_scripts.length;i++){var _src=ext_scripts.eq(i).prop('src');if(loadedScripts[_src]){if(ext_scripts.eq(i).hasClass('cm-ajax-force')){loadedScripts[_src]=null;}else{continue;}}
scripts_to_load.push($.getScript(_src));}}}
elms.push(elm);}
if($.ceDialog('inside_dialog',{jelm:elm})){$.ceDialog('reload_parent',{jelm:elm});}
if(response.title){$(document).prop('title',response.title);}}
var done_event=function(){$.ceEvent('trigger','ce.ajaxdone',[elms,inline_scripts,params,data,response.text||'']);};if(scripts_to_load.length){$.when.apply(null,scripts_to_load).then(done_event);}else{done_event();}}
var ajax=$.ajax;$.ajax=function(origSettings){if(origSettings.dataType&&origSettings.dataType==='script'){var _src=origSettings.url,promise;if(loadedScripts[_src]){promise=_src in loadedScriptPromises?loadedScriptPromises[_src]:$.Deferred().resolve().promise();if('success'in origSettings){promise.done(origSettings.success);}}else{promise=ajax(origSettings);loadedScripts[_src]=true;loadedScriptPromises[_src]=promise;}
return promise;}
return ajax(origSettings);};$.getScript=function(url,callback){url=(url.indexOf('//')==-1)?_.current_location+'/'+url:url;if(_.otherjQ&&getScriptQueries===0){oldjQuery=jQuery;jQuery=_.$;}
getScriptQueries++;return $.ajax({type:"GET",url:url,success:function(data,textStatus,jqxhr){getScriptQueries--;if(_.otherjQ&&getScriptQueries===0){_.$=jQuery;jQuery=oldjQuery;}
if(callback){callback(data,textStatus,jqxhr);}},dataType:"script",cache:true});};$.ceEvent('on','ce.ajaxdone',function(elms,scripts,params,response_data,response_text){var i;if(_.embedded&&response_data.language_changed){_.embedded=false;$.redirect(response_data.current_url,false);window.location.reload(true);return;}
if(params.on_ajax_done&&typeof(params.on_ajax_done)=='function'){params.on_ajax_done(response_data,params,response_text);}
if(scripts){for(i=0;i<scripts.length;i++){var _hash=$.crc32(scripts.eq(i).html());if(!evalCache[_hash]||params.force_exec||scripts.eq(i).hasClass('cm-ajax-force')){$.globalEval(scripts.eq(i).html());evalCache[_hash]=true;}}}
if(response_data.debug_info){console.log(response_data.debug_info);}
var link_history=(params.save_history&&(!params.obj||(params.obj&&$.ceDialog('inside_dialog',{jelm:params.obj})===false)));if(response_data.session_data){sessionData=response_data.session_data;localStorage.setItem(sessionData.name,sessionData.id);}
if(response_data.current_url){var current_url=decodeURIComponent(response_data.current_url);if(!params.skip_history&&(_.embedded||link_history)){var _params=params;if(!link_history){_params.result_ids=_.container;}
if(response_data.anchor){current_url+='#'+response_data.anchor;}
$.ceHistory('load',current_url,_params,true);_.current_url=current_url;}
if(response_data.anchor){params.scroll=response_data.anchor;_.anchor='#'+response_data.anchor;}}
for(i=0;i<elms.length;i++){$.commonInit(elms[i]);}
if(params.form){$('input[name=is_ajax]',params.form).remove();$('input[name=full_render]',params.form).remove();if(params.form.hasClass('cm-disable-empty')||params.form.hasClass('cm-disable-empty-files')){$('input.cm-disabled',params.form).prop('disabled',false).removeClass('cm-disabled');}}
if(params.callback&&$.isFunction(params.callback)){params.callback(response_data,params,response_text);}else{$.ceEvent('trigger',params.callback,[response_data,params,response_text]);}
if(!params.keep_status_box){$.toggleStatusBox('hide');}
if(params.scroll){if(!_.scrolling){$.scrollToElm(params.scroll);}}
if(response_data.notifications){$.ceNotification('showMany',response_data.notifications);}});$.ceAjax=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}else{$.error('ty.ajax: method '+method+' does not exist');}};})($);$(document).ready(function(){$('script').each(function(){var _src=$(this).prop('src');if(_src){loadedScripts[_src]=true;}});if(typeof(ajax_callback_data)!='undefined'&&ajax_callback_data){$.globalEval(ajax_callback_data);ajax_callback_data=false;}});}(Tygh,Tygh.$));(function(_,$){var locationWrapper={put:function(hash,win){(win||window).location.hash=this.encoder(hash);},get:function(win){var hash=((win||window).location.hash).replace(/^#/,'');try{return decodeURIComponent(hash);}
catch(error){return hash;}},encoder:encodeURIComponent};var historyState={storage:null,first:'',put:function(hash,params){if(!this.storage){this.storage={};this.first=hash;}
this.storage[hash]=params;},get:function(hash){if(hash in this.storage){return this.storage[hash];}
return{};}};function initObjects(options){options=$.extend({unescape:false},options||{});locationWrapper.encoder=encoder(options.unescape);function encoder(unescape_){if(unescape_===true){return function(hash){return hash;};}
if(typeof unescape_=="string"&&(unescape_=partialDecoder(unescape_.split("")))||typeof unescape_=="function"){return function(hash){return unescape_(encodeURIComponent(hash));};}
return encodeURIComponent;}
function partialDecoder(chars){var re=new RegExp($.map(chars,encodeURIComponent).join("|"),"ig");return function(enc){return enc.replace(re,decodeURIComponent);};}}
var implementations={};implementations.base={callback:undefined,type:undefined,check:function(){},load:function(hash){},init:function(callback,options){initObjects(options);self.callback=callback;self._options=options;self._init();},_init:function(){},_options:{}};implementations.hashchangeEvent={_skip:false,_init:function(){$(window).bind('hashchange',function(){if(self._skip===true){self._skip=false;return;}
self.check();});},check:function(){var hash=locationWrapper.get()?locationWrapper.get():historyState.first;self.callback(hash,historyState.get(hash));},load:function(hash,params){var current_hash=locationWrapper.get()?locationWrapper.get():historyState.first;historyState.put(hash,params);if(hash!=current_hash){self._skip=true;}
locationWrapper.put(hash);},reload:function(hash,params){historyState.put(hash,params);}};implementations.HTML5={_init:function(){$(window).bind('popstate',self.check);},check:function(evt){var state=evt.originalEvent.state;self.callback(state?'#!/'+document.location:'',state);},load:function(hash,params){window.history.pushState(params,null,_.current_location+'/'+hash.replace(/^\!\//,''));},reload:function(hash,params){window.history.replaceState(params,null,_.current_location+'/'+hash.replace(/^\!\//,''));}};var self=$.extend({},implementations.base);if(!_.embedded&&"pushState"in window.history){self.type='HTML5';}else if("onhashchange"in window){self.type='hashchangeEvent';}
if(self.type){$.extend(self,implementations[self.type]);$.history=self;}})(Tygh,Tygh.$);(function(factory){if(typeof define==="function"&&define.noamd){define(["jquery"],factory);}else if(typeof module==="object"&&module.exports){module.exports=factory(require("jquery"));}else{factory(window.jQuery);}}(function($){"use strict";function getElementSelection(that){var position={};if(that.selectionStart===undefined){that.focus();var select=document.selection.createRange();position.length=select.text.length;select.moveStart('character',-that.value.length);position.end=select.text.length;position.start=position.end-position.length;}else{position.start=that.selectionStart;position.end=that.selectionEnd;position.length=position.end-position.start;}
return position;}
function setElementSelection(that,start,end){if(that.selectionStart===undefined){that.focus();var r=that.createTextRange();r.collapse(true);r.moveEnd('character',end);r.moveStart('character',start);r.select();}else{that.selectionStart=start;that.selectionEnd=end;}}
function runCallbacks($this,settings){$.each(settings,function(k,val){if(typeof val==='function'){settings[k]=val($this,settings,k);}else if(typeof $this.autoNumeric[val]==='function'){settings[k]=$this.autoNumeric[val]($this,settings,k);}});}
function convertKeyToNumber(settings,key){if(typeof(settings[key])==='string'){settings[key]*=1;}}
function autoCode($this,settings){runCallbacks($this,settings);settings.tagList=['b','caption','cite','code','dd','del','div','dfn','dt','em','h1','h2','h3','h4','h5','h6','ins','kdb','label','li','output','p','q','s','sample','span','strong','td','th','u','var'];var vmax=settings.vMax.toString().split('.'),vmin=(!settings.vMin&&settings.vMin!==0)?[]:settings.vMin.toString().split('.');convertKeyToNumber(settings,'vMax');convertKeyToNumber(settings,'vMin');convertKeyToNumber(settings,'mDec');settings.mDec=(settings.mRound==='CHF')?'2':settings.mDec;settings.allowLeading=true;settings.aNeg=settings.vMin<0?'-':'';vmax[0]=vmax[0].replace('-','');vmin[0]=vmin[0].replace('-','');settings.mInt=Math.max(vmax[0].length,vmin[0].length,1);if(settings.mDec===null){var vmaxLength=0,vminLength=0;if(vmax[1]){vmaxLength=vmax[1].length;}
if(vmin[1]){vminLength=vmin[1].length;}
settings.mDec=Math.max(vmaxLength,vminLength);}
if(settings.altDec===null&&settings.mDec>0){if(settings.aDec==='.'&&settings.aSep!==','){settings.altDec=',';}else if(settings.aDec===','&&settings.aSep!=='.'){settings.altDec='.';}}
var aNegReg=settings.aNeg?'([-\\'+settings.aNeg+']?)':'(-?)';settings.aNegRegAutoStrip=aNegReg;settings.skipFirstAutoStrip=new RegExp(aNegReg+'[^-'+(settings.aNeg?'\\'+settings.aNeg:'')+'\\'+settings.aDec+'\\d]'+'.*?(\\d|\\'+settings.aDec+'\\d)');settings.skipLastAutoStrip=new RegExp('(\\d\\'+settings.aDec+'?)[^\\'+settings.aDec+'\\d]\\D*$');var allowed='-'+settings.aNum+'\\'+settings.aDec;settings.allowedAutoStrip=new RegExp('[^'+allowed+']','gi');settings.numRegAutoStrip=new RegExp(aNegReg+'(?:\\'+settings.aDec+'?(\\d+\\'+settings.aDec+'\\d+)|(\\d*(?:\\'+settings.aDec+'\\d*)?))');return settings;}
function autoStrip(s,settings,strip_zero){if(settings.aSign){while(s.indexOf(settings.aSign)>-1){s=s.replace(settings.aSign,'');}}
s=s.replace(settings.skipFirstAutoStrip,'$1$2');s=s.replace(settings.skipLastAutoStrip,'$1');s=s.replace(settings.allowedAutoStrip,'');if(settings.altDec){s=s.replace(settings.altDec,settings.aDec);}
var m=s.match(settings.numRegAutoStrip);s=m?[m[1],m[2],m[3]].join(''):'';if((settings.lZero==='allow'||settings.lZero==='keep')&&strip_zero!=='strip'){var parts=[],nSign='';parts=s.split(settings.aDec);if(parts[0].indexOf('-')!==-1){nSign='-';parts[0]=parts[0].replace('-','');}
if(parts[0].length>settings.mInt&&parts[0].charAt(0)==='0'){parts[0]=parts[0].slice(1);}
s=nSign+parts.join(settings.aDec);}
if((strip_zero&&settings.lZero==='deny')||(strip_zero&&settings.lZero==='allow'&&settings.allowLeading===false)){var strip_reg='^'+settings.aNegRegAutoStrip+'0*(\\d'+(strip_zero==='leading'?')':'|$)');strip_reg=new RegExp(strip_reg);s=s.replace(strip_reg,'$1$2');}
return s;}
function negativeBracket(s,settings){if(settings.pSign==='p'){var brackets=settings.nBracket.split(',');if(!settings.hasFocus&&!settings.removeBrackets){s=s.replace(settings.aNeg,'');s=brackets[0]+s+brackets[1];}else if((settings.hasFocus&&s.charAt(0)===brackets[0])||(settings.removeBrackets&&s.charAt(0)===brackets[0])){s=s.replace(brackets[0],settings.aNeg);s=s.replace(brackets[1],'');}}
return s;}
function checkValue(value,settings){if(value){var checkSmall=+value;if(checkSmall<0.000001&&checkSmall>-1){value=+value;if(value<0.000001&&value>0){value=(value+10).toString();value=value.substring(1);}
if(value<0&&value>-1){value=(value-10).toString();value='-'+value.substring(2);}
value=value.toString();}else{var parts=value.split('.');if(parts[1]!==undefined){if(+parts[1]===0){value=parts[0];}else{parts[1]=parts[1].replace(/0*$/,'');value=parts.join('.');}}}}
return(settings.lZero==='keep')?value:value.replace(/^0*(\d)/,'$1');}
function fixNumber(s,aDec,aNeg){if(aDec&&aDec!=='.'){s=s.replace(aDec,'.');}
if(aNeg&&aNeg!=='-'){s=s.replace(aNeg,'-');}
if(!s.match(/\d/)){s+='0';}
return s;}
function presentNumber(s,aDec,aNeg){if(aNeg&&aNeg!=='-'){s=s.replace('-',aNeg);}
if(aDec&&aDec!=='.'){s=s.replace('.',aDec);}
return s;}
function checkEmpty(iv,settings,signOnEmpty){if(iv===''||iv===settings.aNeg){if(settings.wEmpty==='zero'){return iv+'0';}
if(settings.wEmpty==='sign'||signOnEmpty){return iv+settings.aSign;}
return iv;}
return null;}
function autoGroup(iv,settings){iv=autoStrip(iv,settings);var testNeg=iv.replace(',','.'),empty=checkEmpty(iv,settings,true);if(empty!==null){return empty;}
var digitalGroup='';if(settings.dGroup===2){digitalGroup=/(\d)((\d)(\d{2}?)+)$/;}else if(settings.dGroup===4){digitalGroup=/(\d)((\d{4}?)+)$/;}else{digitalGroup=/(\d)((\d{3}?)+)$/;}
var ivSplit=iv.split(settings.aDec);if(settings.altDec&&ivSplit.length===1){ivSplit=iv.split(settings.altDec);}
var s=ivSplit[0];if(settings.aSep){while(digitalGroup.test(s)){s=s.replace(digitalGroup,'$1'+settings.aSep+'$2');}}
if(settings.mDec!==0&&ivSplit.length>1){if(ivSplit[1].length>settings.mDec){ivSplit[1]=ivSplit[1].substring(0,settings.mDec);}
iv=s+settings.aDec+ivSplit[1];}else{iv=s;}
if(settings.aSign){var has_aNeg=iv.indexOf(settings.aNeg)!==-1;iv=iv.replace(settings.aNeg,'');iv=settings.pSign==='p'?settings.aSign+iv:iv+settings.aSign;if(has_aNeg){iv=settings.aNeg+iv;}}
if(testNeg<0&&settings.nBracket!==null){iv=negativeBracket(iv,settings);}
return iv;}
function autoRound(iv,settings){iv=(iv==='')?'0':iv.toString();convertKeyToNumber(settings,'mDec');if(settings.mRound==='CHF'){iv=(Math.round(iv*20)/ 20).toString();}
var ivRounded='',i=0,nSign='',rDec=(typeof(settings.aPad)==='boolean'||settings.aPad===null)?(settings.aPad?settings.mDec:0):+settings.aPad;var truncateZeros=function(ivRounded){var regex=(rDec===0)?(/(\.(?:\d*[1-9])?)0*$/):rDec===1?(/(\.\d(?:\d*[1-9])?)0*$/):new RegExp('(\\.\\d{'+rDec+'}(?:\\d*[1-9])?)0*$');ivRounded=ivRounded.replace(regex,'$1');if(rDec===0){ivRounded=ivRounded.replace(/\.$/,'');}
return ivRounded;};if(iv.charAt(0)==='-'){nSign='-';iv=iv.replace('-','');}
if(!iv.match(/^\d/)){iv='0'+iv;}
if(nSign==='-'&&+iv===0){nSign='';}
if((+iv>0&&settings.lZero!=='keep')||(iv.length>0&&settings.lZero==='allow')){iv=iv.replace(/^0*(\d)/,'$1');}
var dPos=iv.lastIndexOf('.'),vdPos=(dPos===-1)?iv.length-1:dPos,cDec=(iv.length-1)-vdPos;if(cDec<=settings.mDec){ivRounded=iv;if(cDec<rDec){if(dPos===-1){ivRounded+=settings.aDec;}
var zeros='000000';while(cDec<rDec){zeros=zeros.substring(0,rDec-cDec);ivRounded+=zeros;cDec+=zeros.length;}}else if(cDec>rDec){ivRounded=truncateZeros(ivRounded);}else if(cDec===0&&rDec===0){ivRounded=ivRounded.replace(/\.$/,'');}
if(settings.mRound!=='CHF'){return(+ivRounded===0)?ivRounded:nSign+ivRounded;}
if(settings.mRound==='CHF'){dPos=ivRounded.lastIndexOf('.');iv=ivRounded;}}
var rLength=dPos+settings.mDec,tRound=+iv.charAt(rLength+1),ivArray=iv.substring(0,rLength+1).split(''),odd=(iv.charAt(rLength)==='.')?(iv.charAt(rLength-1)%2):(iv.charAt(rLength)%2),onePass=true;if(odd!==1){odd=(odd===0&&(iv.substring(rLength+2,iv.length)>0))?1:0;}
if((tRound>4&&settings.mRound==='S')||(tRound>4&&settings.mRound==='A'&&nSign==='')||(tRound>5&&settings.mRound==='A'&&nSign==='-')||(tRound>5&&settings.mRound==='s')||(tRound>5&&settings.mRound==='a'&&nSign==='')||(tRound>4&&settings.mRound==='a'&&nSign==='-')||(tRound>5&&settings.mRound==='B')||(tRound===5&&settings.mRound==='B'&&odd===1)||(tRound>0&&settings.mRound==='C'&&nSign==='')||(tRound>0&&settings.mRound==='F'&&nSign==='-')||(tRound>0&&settings.mRound==='U')||(settings.mRound==='CHF')){for(i=(ivArray.length-1);i>=0;i-=1){if(ivArray[i]!=='.'){if(settings.mRound==='CHF'&&ivArray[i]<=2&&onePass){ivArray[i]=0;onePass=false;break;}
if(settings.mRound==='CHF'&&ivArray[i]<=7&&onePass){ivArray[i]=5;onePass=false;break;}
if(settings.mRound==='CHF'&&onePass){ivArray[i]=10;onePass=false;}else{ivArray[i]=+ivArray[i]+1;}
if(ivArray[i]<10){break;}
if(i>0){ivArray[i]='0';}}}}
ivArray=ivArray.slice(0,rLength+1);ivRounded=truncateZeros(ivArray.join(''));return(+ivRounded===0)?ivRounded:nSign+ivRounded;}
function truncateDecimal(s,settings,paste){var aDec=settings.aDec,mDec=settings.mDec;s=(paste==='paste')?autoRound(s,settings):s;if(aDec&&mDec){var parts=s.split(aDec);if(parts[1]&&parts[1].length>mDec){if(mDec>0){parts[1]=parts[1].substring(0,mDec);s=parts.join(aDec);}else{s=parts[0];}}}
return s;}
function autoCheck(s,settings){s=autoStrip(s,settings);s=truncateDecimal(s,settings);s=fixNumber(s,settings.aDec,settings.aNeg);var value=+s;return value>=settings.vMin&&value<=settings.vMax;}
function AutoNumericHolder(that,settings){this.settings=settings;this.that=that;this.$that=$(that);this.formatted=false;this.settingsClone=autoCode(this.$that,this.settings);this.value=that.value;}
AutoNumericHolder.prototype={init:function(e){this.value=this.that.value;this.settingsClone=autoCode(this.$that,this.settings);this.ctrlKey=e.ctrlKey;this.cmdKey=e.metaKey;this.shiftKey=e.shiftKey;this.selection=getElementSelection(this.that);if(e.type==='keydown'||e.type==='keyup'){this.kdCode=e.keyCode;}
this.which=e.which;this.processed=false;this.formatted=false;},setSelection:function(start,end,setReal){start=Math.max(start,0);end=Math.min(end,this.that.value.length);this.selection={start:start,end:end,length:end-start};if(setReal===undefined||setReal){setElementSelection(this.that,start,end);}},setPosition:function(pos,setReal){this.setSelection(pos,pos,setReal);},getBeforeAfter:function(){var value=this.value,left=value.substring(0,this.selection.start),right=value.substring(this.selection.end,value.length);return[left,right];},getBeforeAfterStriped:function(){var parts=this.getBeforeAfter();parts[0]=autoStrip(parts[0],this.settingsClone);parts[1]=autoStrip(parts[1],this.settingsClone);return parts;},normalizeParts:function(left,right){var settingsClone=this.settingsClone;right=autoStrip(right,settingsClone);var strip=right.match(/^\d/)?true:'leading';left=autoStrip(left,settingsClone,strip);if((left===''||left===settingsClone.aNeg)&&settingsClone.lZero==='deny'){if(right>''){right=right.replace(/^0*(\d)/,'$1');}}
var new_value=left+right;if(settingsClone.aDec){var m=new_value.match(new RegExp('^'+settingsClone.aNegRegAutoStrip+'\\'+settingsClone.aDec));if(m){left=left.replace(m[1],m[1]+'0');new_value=left+right;}}
if(settingsClone.wEmpty==='zero'&&(new_value===settingsClone.aNeg||new_value==='')){left+='0';}
return[left,right];},setValueParts:function(left,right,paste){var settingsClone=this.settingsClone,parts=this.normalizeParts(left,right),new_value=parts.join(''),position=parts[0].length;if(autoCheck(new_value,settingsClone)){new_value=truncateDecimal(new_value,settingsClone,paste);if(position>new_value.length){position=new_value.length;}
this.value=new_value;this.setPosition(position,false);return true;}
return false;},signPosition:function(){var settingsClone=this.settingsClone,aSign=settingsClone.aSign,that=this.that;if(aSign){var aSignLen=aSign.length;if(settingsClone.pSign==='p'){var hasNeg=settingsClone.aNeg&&that.value&&that.value.charAt(0)===settingsClone.aNeg;return hasNeg?[1,aSignLen+1]:[0,aSignLen];}
var valueLen=that.value.length;return[valueLen-aSignLen,valueLen];}
return[1000,-1];},expandSelectionOnSign:function(setReal){var sign_position=this.signPosition(),selection=this.selection;if(selection.start<sign_position[1]&&selection.end>sign_position[0]){if((selection.start<sign_position[0]||selection.end>sign_position[1])&&this.value.substring(Math.max(selection.start,sign_position[0]),Math.min(selection.end,sign_position[1])).match(/^\s*$/)){if(selection.start<sign_position[0]){this.setSelection(selection.start,sign_position[0],setReal);}else{this.setSelection(sign_position[1],selection.end,setReal);}}else{this.setSelection(Math.min(selection.start,sign_position[0]),Math.max(selection.end,sign_position[1]),setReal);}}},checkPaste:function(){if(this.valuePartsBeforePaste!==undefined){var parts=this.getBeforeAfter(),oldParts=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste;parts[0]=parts[0].substr(0,oldParts[0].length)+autoStrip(parts[0].substr(oldParts[0].length),this.settingsClone);if(!this.setValueParts(parts[0],parts[1],'paste')){this.value=oldParts.join('');this.setPosition(oldParts[0].length,false);}}},skipAllways:function(e){var kdCode=this.kdCode,which=this.which,ctrlKey=this.ctrlKey,cmdKey=this.cmdKey,shiftKey=this.shiftKey;if(((ctrlKey||cmdKey)&&e.type==='keyup'&&this.valuePartsBeforePaste!==undefined)||(shiftKey&&kdCode===45)){this.checkPaste();return false;}
if((kdCode>=112&&kdCode<=123)||(kdCode>=91&&kdCode<=93)||(kdCode>=9&&kdCode<=31)||(kdCode<8&&(which===0||which===kdCode))||kdCode===144||kdCode===145||kdCode===45||kdCode===224){return true;}
if((ctrlKey||cmdKey)&&kdCode===65){return true;}
if((ctrlKey||cmdKey)&&(kdCode===67||kdCode===86||kdCode===88)){if(e.type==='keydown'){this.expandSelectionOnSign();}
if(kdCode===86||kdCode===45){if(e.type==='keydown'||e.type==='keypress'){if(this.valuePartsBeforePaste===undefined){this.valuePartsBeforePaste=this.getBeforeAfter();}}else{this.checkPaste();}}
return e.type==='keydown'||e.type==='keypress'||kdCode===67;}
if(ctrlKey||cmdKey){return true;}
if(kdCode===37||kdCode===39){var aSep=this.settingsClone.aSep,start=this.selection.start,value=this.that.value;if(e.type==='keydown'&&aSep&&!this.shiftKey){if(kdCode===37&&value.charAt(start-2)===aSep){this.setPosition(start-1);}else if(kdCode===39&&value.charAt(start+1)===aSep){this.setPosition(start+1);}}
return true;}
if(kdCode>=34&&kdCode<=40){return true;}
return false;},processAllways:function(){var parts;if(this.kdCode===8||this.kdCode===46){if(!this.selection.length){parts=this.getBeforeAfterStriped();if(this.kdCode===8){parts[0]=parts[0].substring(0,parts[0].length-1);}else{parts[1]=parts[1].substring(1,parts[1].length);}
this.setValueParts(parts[0],parts[1]);}else{this.expandSelectionOnSign(false);parts=this.getBeforeAfterStriped();this.setValueParts(parts[0],parts[1]);}
return true;}
return false;},processKeypress:function(){var settingsClone=this.settingsClone,cCode=String.fromCharCode(this.which),parts=this.getBeforeAfterStriped(),left=parts[0],right=parts[1];if(cCode===settingsClone.aDec||(settingsClone.altDec&&cCode===settingsClone.altDec)||((cCode==='.'||cCode===',')&&this.kdCode===110)){if(!settingsClone.mDec||!settingsClone.aDec){return true;}
if(settingsClone.aNeg&&right.indexOf(settingsClone.aNeg)>-1){return true;}
if(left.indexOf(settingsClone.aDec)>-1){return true;}
if(right.indexOf(settingsClone.aDec)>0){return true;}
if(right.indexOf(settingsClone.aDec)===0){right=right.substr(1);}
this.setValueParts(left+settingsClone.aDec,right);return true;}
if(cCode==='-'||cCode==='+'){if(!settingsClone.aNeg){return true;}
if(left===''&&right.indexOf(settingsClone.aNeg)>-1){left=settingsClone.aNeg;right=right.substring(1,right.length);}
if(left.charAt(0)===settingsClone.aNeg){left=left.substring(1,left.length);}else{left=(cCode==='-')?settingsClone.aNeg+left:left;}
this.setValueParts(left,right);return true;}
if(cCode>='0'&&cCode<='9'){if(settingsClone.aNeg&&left===''&&right.indexOf(settingsClone.aNeg)>-1){left=settingsClone.aNeg;right=right.substring(1,right.length);}
if(settingsClone.vMax<=0&&settingsClone.vMin<settingsClone.vMax&&this.value.indexOf(settingsClone.aNeg)===-1&&cCode!=='0'){left=settingsClone.aNeg+left;}
this.setValueParts(left+cCode,right);return true;}
return true;},formatQuick:function(){var settingsClone=this.settingsClone,parts=this.getBeforeAfterStriped(),leftLength=this.value;if((settingsClone.aSep===''||(settingsClone.aSep!==''&&leftLength.indexOf(settingsClone.aSep)===-1))&&(settingsClone.aSign===''||(settingsClone.aSign!==''&&leftLength.indexOf(settingsClone.aSign)===-1))){var subParts=[],nSign='';subParts=leftLength.split(settingsClone.aDec);if(subParts[0].indexOf('-')>-1){nSign='-';subParts[0]=subParts[0].replace('-','');parts[0]=parts[0].replace('-','');}
if(subParts[0].length>settingsClone.mInt&&parts[0].charAt(0)==='0'){parts[0]=parts[0].slice(1);}
parts[0]=nSign+parts[0];}
var value=autoGroup(this.value,this.settingsClone),position=value.length;if(value){var left_ar=parts[0].split(''),i=0;for(i;i<left_ar.length;i+=1){if(!left_ar[i].match('\\d')){left_ar[i]='\\'+left_ar[i];}}
var leftReg=new RegExp('^.*?'+left_ar.join('.*?'));var newLeft=value.match(leftReg);if(newLeft){position=newLeft[0].length;if(((position===0&&value.charAt(0)!==settingsClone.aNeg)||(position===1&&value.charAt(0)===settingsClone.aNeg))&&settingsClone.aSign&&settingsClone.pSign==='p'){position=this.settingsClone.aSign.length+(value.charAt(0)==='-'?1:0);}}else if(settingsClone.aSign&&settingsClone.pSign==='s'){position-=settingsClone.aSign.length;}}
this.that.value=value;this.setPosition(position);this.formatted=true;}};function autoGet(obj){if(typeof obj==='string'){obj=obj.replace(/\[/g,"\\[").replace(/\]/g,"\\]");obj='#'+obj.replace(/(:|\.)/g,'\\$1');}
return $(obj);}
function getHolder($that,settings,update){var data=$that.data('autoNumeric');if(!data){data={};$that.data('autoNumeric',data);}
var holder=data.holder;if((holder===undefined&&settings)||update){holder=new AutoNumericHolder($that.get(0),settings);data.holder=holder;}
return holder;}
var methods={init:function(options){return this.each(function(){var $this=$(this),settings=$this.data('autoNumeric'),tagData=$this.data(),$input=$this.is('input[type=text], input[type=hidden], input[type=tel], input:not([type])');if(typeof settings!=='object'){settings=$.extend({},$.fn.autoNumeric.defaults,tagData,options,{aNum:'0123456789',hasFocus:false,removeBrackets:false,runOnce:false,tagList:['b','caption','cite','code','dd','del','div','dfn','dt','em','h1','h2','h3','h4','h5','h6','ins','kdb','label','li','output','p','q','s','sample','span','strong','td','th','u','var']});if(settings.aDec===settings.aSep){$.error("autoNumeric will not function properly when the decimal character aDec: '"+settings.aDec+"' and thousand separator aSep: '"+settings.aSep+"' are the same character");}
$this.data('autoNumeric',settings);}else{return this;}
var holder=getHolder($this,settings);if(!$input&&$this.prop('tagName').toLowerCase()==='input'){$.error('The input type "'+$this.prop('type')+'" is not supported by autoNumeric()');}
if($.inArray($this.prop('tagName').toLowerCase(),settings.tagList)===-1&&$this.prop('tagName').toLowerCase()!=='input'){$.error("The <"+$this.prop('tagName').toLowerCase()+"> is not supported by autoNumeric()");}
if(settings.runOnce===false&&settings.aForm){if($input){var setValue=true;if($this[0].value===''&&settings.wEmpty==='empty'){$this[0].value='';setValue=false;}
if($this[0].value===''&&settings.wEmpty==='sign'){$this[0].value=settings.aSign;setValue=false;}
if(setValue&&$this.val()!==''&&((settings.anDefault===null&&$this[0].value===$this.prop('defaultValue'))||(settings.anDefault!==null&&settings.anDefault.toString()===$this.val()))){$this.autoNumeric('set',$this.val());}}
if($.inArray($this.prop('tagName').toLowerCase(),settings.tagList)!==-1&&$this.text()!==''){$this.autoNumeric('set',$this.text());}}
settings.runOnce=true;if($this.is('input[type=text], input[type=hidden], input[type=tel], input:not([type])')){$this.on('keydown.autoNumeric',function(e){holder=getHolder($this);if(holder.settings.aDec===holder.settings.aSep){$.error("autoNumeric will not function properly when the decimal character aDec: '"+holder.settings.aDec+"' and thousand separator aSep: '"+holder.settings.aSep+"' are the same character");}
if(holder.that.readOnly){holder.processed=true;return true;}
holder.init(e);if(holder.skipAllways(e)){holder.processed=true;return true;}
if(holder.processAllways()){holder.processed=true;holder.formatQuick();e.preventDefault();return false;}
holder.formatted=false;return true;});$this.on('keypress.autoNumeric',function(e){holder=getHolder($this);var processed=holder.processed;holder.init(e);if(holder.skipAllways(e)){return true;}
if(processed){e.preventDefault();return false;}
if(holder.processAllways()||holder.processKeypress()){holder.formatQuick();e.preventDefault();return false;}
holder.formatted=false;});$this.on('keyup.autoNumeric',function(e){holder=getHolder($this);holder.init(e);var skip=holder.skipAllways(e);holder.kdCode=0;delete holder.valuePartsBeforePaste;if($this[0].value===holder.settings.aSign){if(holder.settings.pSign==='s'){setElementSelection(this,0,0);}else{setElementSelection(this,holder.settings.aSign.length,holder.settings.aSign.length);}}
if(skip){return true;}
if(this.value===''){return true;}
if(!holder.formatted){holder.formatQuick();}});$this.on('focusin.autoNumeric',function(){holder=getHolder($this);var $settings=holder.settingsClone;$settings.hasFocus=true;if($settings.nBracket!==null){var checkVal=$this.val();$this.val(negativeBracket(checkVal,$settings));}
holder.inVal=$this.val();var onEmpty=checkEmpty(holder.inVal,$settings,true);if(onEmpty!==null&&onEmpty!==''){$this.val(onEmpty);}});$this.on('focusout.autoNumeric',function(){holder=getHolder($this);var $settings=holder.settingsClone,value=$this.val(),origValue=value;$settings.hasFocus=false;var strip_zero='';if($settings.lZero==='allow'){$settings.allowLeading=false;strip_zero='leading';}
if(value!==''){value=autoStrip(value,$settings,strip_zero);if(checkEmpty(value,$settings)===null&&autoCheck(value,$settings,$this[0])){value=fixNumber(value,$settings.aDec,$settings.aNeg);value=autoRound(value,$settings);value=presentNumber(value,$settings.aDec,$settings.aNeg);}else{value='';}}
var groupedValue=checkEmpty(value,$settings,false);if(groupedValue===null){groupedValue=autoGroup(value,$settings);}
if(groupedValue!==holder.inVal||groupedValue!==origValue){$this.val(groupedValue);$this.change();delete holder.inVal;}});}});},destroy:function(){return $(this).each(function(){var $this=$(this);$this.removeData('autoNumeric');$this.off('autoNumeric');});},update:function(options){return $(this).each(function(){var $this=autoGet($(this)),settings=$this.data('autoNumeric');if(typeof settings!=='object'){$.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method");}
var strip=$this.autoNumeric('get');settings=$.extend(settings,options);getHolder($this,settings,true);if(settings.aDec===settings.aSep){$.error("autoNumeric will not function properly when the decimal character aDec: '"+settings.aDec+"' and thousand separator aSep: '"+settings.aSep+"' are the same character");}
$this.data('autoNumeric',settings);if($this.val()!==''||$this.text()!==''){return $this.autoNumeric('set',strip);}
return;});},set:function(valueIn){if(valueIn===null||isNaN(valueIn)){return;}
return $(this).each(function(){var $this=autoGet($(this)),settings=$this.data('autoNumeric'),value=valueIn.toString(),testValue=valueIn.toString(),$input=$this.is('input[type=text], input[type=hidden], input[type=tel], input:not([type])');if(typeof settings!=='object'){$.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method");}
if((testValue===$this.attr('value')||testValue===$this.text())&&settings.runOnce===false){value=value.replace(',','.');}
if(!$.isNumeric(+value)){$.error("The value ("+value+") being 'set' is not numeric and has caused a error to be thrown");}
value=checkValue(value,settings);settings.setEvent=true;value.toString();if(value!==''){value=autoRound(value,settings);}
value=presentNumber(value,settings.aDec,settings.aNeg);if(!autoCheck(value,settings)){value=autoRound('',settings);}
value=autoGroup(value,settings);if($input){return $this.val(value);}
if($.inArray($this.prop('tagName').toLowerCase(),settings.tagList)!==-1){return $this.text(value);}
return false;});},get:function(){var $this=autoGet($(this)),settings=$this.data('autoNumeric');if(typeof settings!=='object'){$.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method");}
var getValue='';if($this.is('input[type=text], input[type=hidden], input[type=tel], input:not([type])')){getValue=$this.eq(0).val();}else if($.inArray($this.prop('tagName').toLowerCase(),settings.tagList)!==-1){getValue=$this.eq(0).text();}else{$.error("The <"+$this.prop('tagName').toLowerCase()+"> is not supported by autoNumeric()");}
if((getValue===''&&settings.wEmpty==='empty')||(getValue===settings.aSign&&(settings.wEmpty==='sign'||settings.wEmpty==='empty'))){return'';}
if(getValue!==''&&settings.nBracket!==null){settings.removeBrackets=true;getValue=negativeBracket(getValue,settings);settings.removeBrackets=false;}
if(settings.runOnce||settings.aForm===false){getValue=autoStrip(getValue,settings);}
getValue=fixNumber(getValue,settings.aDec,settings.aNeg);if(+getValue===0&&settings.lZero!=='keep'){getValue='0';}
if(settings.lZero==='keep'){return getValue;}
getValue=checkValue(getValue,settings);return getValue;},getString:function(){var isAutoNumeric=false,$this=autoGet($(this)),formFields=$this.serialize(),formParts=formFields.split('&'),formIndex=$('form').index($this),allFormElements=$('form:eq('+formIndex+')'),aiIndex=[],scIndex=[],rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i,rcheckableType=/^(?:checkbox|radio)$/i,rnonAutoNumericTypes=/^(?:button|checkbox|color|date|datetime|datetime-local|email|file|image|month|number|password|radio|range|reset|search|submit|time|url|week)/i,count=0;$.each(allFormElements[0],function(i,field){if(field.name!==''&&rsubmittable.test(field.localName)&&!rsubmitterTypes.test(field.type)&&!field.disabled&&(field.checked||!rcheckableType.test(field.type))){scIndex.push(count);count=count+1;}else{scIndex.push(-1);}});count=0;$.each(allFormElements[0],function(i,field){if(field.localName==='input'&&(field.type===''||field.type==='text'||field.type==='hidden'||field.type==='tel')){aiIndex.push(count);count=count+1;}else{aiIndex.push(-1);if(field.localName==='input'&&rnonAutoNumericTypes.test(field.type)){count=count+1;}}});$.each(formParts,function(i,miniParts){miniParts=formParts[i].split('=');var scElement=$.inArray(i,scIndex);if(scElement>-1&&aiIndex[scElement]>-1){var testInput=$('form:eq('+formIndex+') input:eq('+aiIndex[scElement]+')'),settings=testInput.data('autoNumeric');if(typeof settings==='object'){if(miniParts[1]!==null){miniParts[1]=$('form:eq('+formIndex+') input:eq('+aiIndex[scElement]+')').autoNumeric('get').toString();formParts[i]=miniParts.join('=');isAutoNumeric=true;}}}});if(!isAutoNumeric){$.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method");}
return formParts.join('&');},getArray:function(){var isAutoNumeric=false,$this=autoGet($(this)),formFields=$this.serializeArray(),formIndex=$('form').index($this),allFormElements=$('form:eq('+formIndex+')'),aiIndex=[],scIndex=[],rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i,rcheckableType=/^(?:checkbox|radio)$/i,rnonAutoNumericTypes=/^(?:button|checkbox|color|date|datetime|datetime-local|email|file|image|month|number|password|radio|range|reset|search|submit|time|url|week)/i,count=0;$.each(allFormElements[0],function(i,field){if(field.name!==''&&rsubmittable.test(field.localName)&&!rsubmitterTypes.test(field.type)&&!field.disabled&&(field.checked||!rcheckableType.test(field.type))){scIndex.push(count);count=count+1;}else{scIndex.push(-1);}});count=0;$.each(allFormElements[0],function(i,field){if(field.localName==='input'&&(field.type===''||field.type==='text'||field.type==='hidden'||field.type==='tel')){aiIndex.push(count);count=count+1;}else{aiIndex.push(-1);if(field.localName==='input'&&rnonAutoNumericTypes.test(field.type)){count=count+1;}}});$.each(formFields,function(i,field){var scElement=$.inArray(i,scIndex);if(scElement>-1&&aiIndex[scElement]>-1){var testInput=$('form:eq('+formIndex+') input:eq('+aiIndex[scElement]+')'),settings=testInput.data('autoNumeric');if(typeof settings==='object'){field.value=$('form:eq('+formIndex+') input:eq('+aiIndex[scElement]+')').autoNumeric('get').toString();isAutoNumeric=true;}}});if(!isAutoNumeric){$.error("None of the successful form inputs are initialized by autoNumeric.");}
return formFields;},getSettings:function(){var $this=autoGet($(this));return $this.eq(0).data('autoNumeric');}};$.fn.autoNumeric=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}
if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}
$.error('Method "'+method+'" is not supported by autoNumeric()');};$.fn.autoNumeric.defaults={aSep:',',dGroup:'3',aDec:'.',altDec:null,aSign:'',pSign:'p',vMax:'9999999999999.99',vMin:'-9999999999999.99',mDec:null,mRound:'S',aPad:true,nBracket:null,wEmpty:'empty',lZero:'allow',sNumber:true,aForm:true,anDefault:null};}));(function($){$.fn.appear=function(fn,options){var settings=$.extend({data:undefined,one:true},options);return this.each(function(){var t=$(this);t.appeared=false;if(!fn){t.trigger('appear',settings.data);return;}
var w=settings.container?$(settings.container):$(window);if(settings.container){w.data('customContainer',true);}
var check=function(){if(!t.is(':visible')){t.appeared=false;return;}
var a=w.scrollLeft();var b=w.scrollTop();var wh=w.height();var ww=w.width();var o=t.offset();if(w.data('customContainer')){var cOffset=w.offset();var x=o.left-cOffset.left+a;var y=o.top-cOffset.top+b;}else{var x=o.left;var y=o.top;}
if(y+t.height()>=b&&y<=b+wh&&x+t.width()>=a&&x<=a+ww){if(!t.appeared)t.trigger('appear',settings.data);}else{t.appeared=false;}};var modifiedFn=function(){t.appeared=true;if(settings.one){w.unbind('scroll',check);var i=$.inArray(check,$.fn.appear.checks);if(i>=0)$.fn.appear.checks.splice(i,1);}
fn.apply(this,arguments);};if(settings.one)t.one('appear',settings.data,modifiedFn);else t.bind('appear',settings.data,modifiedFn);w.scroll(check);$.fn.appear.checks.push(check);(check)();});};$.extend($.fn.appear,{checks:[],timeout:null,checkAll:function(){var length=$.fn.appear.checks.length;if(length>0)while(length--)($.fn.appear.checks[length])();},run:function(){if($.fn.appear.timeout)clearTimeout($.fn.appear.timeout);$.fn.appear.timeout=setTimeout($.fn.appear.checkAll,20);}});$.each(['append','prepend','after','before','attr','removeAttr','addClass','removeClass','toggleClass','remove','css','show','hide'],function(i,n){var old=$.fn[n];if(old){$.fn[n]=function(){var r=old.apply(this,arguments);$.fn.appear.run();return r;}}});})(jQuery);(function(a){a.tools=a.tools||{version:"v1.2.7"},a.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(a,c,d){b[a]=[c,d]}};var b={toggle:[function(a){var b=this.getConf(),c=this.getTip(),d=b.opacity;d<1&&c.css({opacity:d}),c.show(),a.call()},function(a){this.getTip().hide(),a.call()}],fade:[function(b){var c=this.getConf();!a.browser.msie||c.fadeIE?this.getTip().fadeTo(c.fadeInSpeed,c.opacity,b):(this.getTip().show(),b())},function(b){var c=this.getConf();!a.browser.msie||c.fadeIE?this.getTip().fadeOut(c.fadeOutSpeed,b):(this.getTip().hide(),b())}]};function c(b,c,d){var e=d.relative?b.position().top:b.offset().top,f=d.relative?b.position().left:b.offset().left,g=d.position[0];e-=c.outerHeight()-d.offset[0],f+=b.outerWidth()+d.offset[1],/iPad/i.test(navigator.userAgent)&&(e-=a(window).scrollTop());var h=c.outerHeight()+b.outerHeight();g=="center"&&(e+=h/2),g=="bottom"&&(e+=h),g=d.position[1];var i=c.outerWidth()+b.outerWidth();g=="center"&&(f-=i/2),g=="left"&&(f-=i);return{top:e,left:f}}function d(d,e){var f=this,g=d.add(f),h,i=0,j=0,k=d.attr("title"),l=d.attr("data-tooltip"),m=b[e.effect],n,o=d.is(":input"),p=o&&d.is(":checkbox, :radio, select, :button, :submit"),q=d.attr("type"),r=e.events[q]||e.events[o?p?"widget":"input":"def"];if(!m)throw"Nonexistent effect \""+e.effect+"\"";r=r.split(/,\s*/);if(r.length!=2)throw"Tooltip: bad events configuration for "+q;d.on(r[0],function(a){clearTimeout(i),e.predelay?j=setTimeout(function(){f.show(a)},e.predelay):f.show(a)}).on(r[1],function(a){clearTimeout(j),e.delay?i=setTimeout(function(){f.hide(a)},e.delay):f.hide(a)}),k&&e.cancelDefault&&(d.removeAttr("title"),d.data("title",k)),a.extend(f,{show:function(b){if(!h){l?h=a(l):e.tip?h=a(e.tip).eq(0):k?h=a(e.layout).addClass(e.tipClass).appendTo(document.body).hide().append(k):(h=d.next(),h.length||(h=d.parent().next()));if(!h.length)throw"Cannot find tooltip for "+d}if(f.isShown())return f;h.stop(!0,!0);var o=c(d,h,e);e.tip&&h.html(d.data("title")),b=a.Event(),b.type="onBeforeShow",g.trigger(b,[o]);if(b.isDefaultPrevented())return f;o=c(d,h,e),h.css({position:"absolute",top:o.top,left:o.left}),n=!0,m[0].call(f,function(){b.type="onShow",n="full",g.trigger(b)});var p=e.events.tooltip.split(/,\s*/);h.data("__set")||(h.off(p[0]).on(p[0],function(){clearTimeout(i),clearTimeout(j)}),p[1]&&!d.is("input:not(:checkbox, :radio), textarea")&&h.off(p[1]).on(p[1],function(a){a.relatedTarget!=d[0]&&d.trigger(r[1].split(" ")[0])}),e.tip||h.data("__set",!0));return f},hide:function(c){if(!h||!f.isShown())return f;c=a.Event(),c.type="onBeforeHide",g.trigger(c);if(!c.isDefaultPrevented()){n=!1,b[e.effect][1].call(f,function(){c.type="onHide",g.trigger(c)});return f}},isShown:function(a){return a?n=="full":n},getConf:function(){return e},getTip:function(){return h},getTrigger:function(){return d}}),a.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(b,c){a.isFunction(e[c])&&a(f).on(c,e[c]),f[c]=function(b){b&&a(f).on(c,b);return f}})}a.fn.tooltip=function(b){var c=this.data("tooltip");if(c)return c;b=a.extend(!0,{},a.tools.tooltip.conf,b),typeof b.position=="string"&&(b.position=b.position.split(/,?\s/)),this.each(function(){c=new d(a(this),b),a(this).data("tooltip",c)});return b.api?c:this}})(jQuery);(function(a){var b=a.tools.tooltip;b.dynamic={conf:{classNames:"top right bottom left"}};function c(b){var c=a(window),d=c.width()+c.scrollLeft(),e=c.height()+c.scrollTop();return[b.offset().top<=c.scrollTop(),d<=b.offset().left+b.width(),e<=b.offset().top+b.height(),c.scrollLeft()>=b.offset().left]}function d(a){var b=a.length;while(b--)if(a[b])return!1;return!0}a.fn.dynamic=function(e){typeof e=="number"&&(e={speed:e}),e=a.extend({},b.dynamic.conf,e);var f=a.extend(!0,{},e),g=e.classNames.split(/\s/),h;this.each(function(){var b=a(this).tooltip().onBeforeShow(function(b,e){var i=this.getTip(),j=this.getConf();h||(h=[j.position[0],j.position[1],j.offset[0],j.offset[1],a.extend({},j)]),a.extend(j,h[4]),j.position=[h[0],h[1]],j.offset=[h[2],h[3]],i.css({visibility:"hidden",position:"absolute",top:e.top,left:e.left}).show();var k=a.extend(!0,{},f),l=c(i);if(!d(l)){l[2]&&(a.extend(j,k.top),j.position[0]="top",i.addClass(g[0])),l[3]&&(a.extend(j,k.right),j.position[1]="right",i.addClass(g[1])),l[0]&&(a.extend(j,k.bottom),j.position[0]="bottom",i.addClass(g[2])),l[1]&&(a.extend(j,k.left),j.position[1]="left",i.addClass(g[3]));if(l[0]||l[2])j.offset[0]*=-1;if(l[1]||l[3])j.offset[1]*=-1}i.css({visibility:"visible"}).hide()});b.onBeforeShow(function(){var a=this.getConf(),b=this.getTip();setTimeout(function(){a.position=[h[0],h[1]],a.offset=[h[2],h[3]]},0)}),b.onHide(function(){var a=this.getTip();a.removeClass(e.classNames)}),ret=b});return e.api?ret:this}})(jQuery);(function(a){var b=a.tools.tooltip;a.extend(b.conf,{direction:"up",bounce:!1,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!a.browser.msie});var c={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};b.addEffect("slide",function(a){var b=this.getConf(),d=this.getTip(),e=b.slideFade?{opacity:b.opacity}:{},f=c[b.direction]||c.up;e[f[1]]=f[0]+"="+b.slideOffset,b.slideFade&&d.css({opacity:0}),d.show().animate(e,b.slideInSpeed,a)},function(b){var d=this.getConf(),e=d.slideOffset,f=d.slideFade?{opacity:0}:{},g=c[d.direction]||c.up,h=""+g[0];d.bounce&&(h=h=="+"?"-":"+"),f[g[1]]=h+"="+e,this.getTip().animate(f,d.slideOutSpeed,function(){a(this).hide(),b.call()})})})(jQuery);(function(_,$){$.widget("ui.dialog",$.ui.dialog,{_allowInteraction:function(event){if(this._super(event)){return true;}
if(event.target.ownerDocument!=this.document[0]){return true;}
if($(event.target).closest(".ui-draggable").length){return true;}
if($(event.target).closest(".cke").length){return true;}},_moveToTop:function(event,silent){if(!event||!this.options.modal){this._super(event,silent);}}});var methods={_getEditor:function(elm){var obj=$('#'+elm.prop('id'));if(obj.data('redactor')){return obj;}
return false;}};$.ceEditor('handlers',{editorName:'redactor',params:null,elms:[],run:function(elm,params){var support_langs=['ar','az','ba','bg','by','ca','cs','da','de','el','en','eo','es','fa','fi','fr','he','hr','hu','id','it','ja','ko','lt','lv','mk','nl','no','pl','pt','ro','ru','sk','sl','sq','sr','sv','th','tr','ua','vi','zh'];var lang_map={'no':'no_NB','pt':'pt_pt','sr':'sr-cir','zh':'zh_tw'};var lang_code=fn_get_listed_lang(support_langs);if(lang_code in lang_map){lang_code=lang_map[lang_code];}
if(typeof($.fn.redactor)=='undefined'){$.ceEditor('state','loading');$.loadCss(['js/lib/redactor/redactor.css']);$.loadCss(['js/lib/elfinder/css/elfinder.min.css']);$.loadCss(['js/lib/elfinder/css/theme.css']);$.getScript('js/lib/elfinder/js/elfinder.min.js');$.getScript('js/lib/redactor/plugins/fontcolor/fontcolor.js');$.getScript('js/lib/redactor/plugins/table/table.js');$.getScript('js/lib/redactor/plugins/video/video.js');$.getScript('js/lib/redactor/plugins/imageupload/imageupload.js');$.getScript('js/lib/redactor/redactor.min.js',function(){if(lang_code!='en'){$.getScript('js/lib/redactor/lang/'+lang_code+'.js',function(){callback();});}else{callback();}});var callback=function(){$.ceEditor('state','loaded');elm.ceEditor('run',params);};return true;}
if(!this.params){this.params={lang:lang_code};this.params.direction=_.language_direction;}
if(typeof params!=='undefined'&&params[this.editorName]){$.extend(this.params,params[this.editorName]);}
this.params.initCallback=function(){$('.redactor-toolbar-tooltip').each(function(){$(this).css('z-index',50001);});}
this.params.blurCallback=function(){if(elm.hasClass('redactor-focus')){elm.redactor('selection.restore');elm.redactor('selection.save');elm.removeClass('redactor-focus');}}
this.params.focusCallback=function(){elm.addClass('redactor-focus');}
this.params.modalOpenedCallback=function(){$('#redactor-modal-overlay, #redactor-modal-box, #redactor-modal, .redactor-dropdown').each(function(){$(this).css('z-index',50001,'important');});};this.params.dropdownShowCallback=function(){$('#redactor-modal-overlay, #redactor-modal-box, #redactor-modal, .redactor-dropdown').each(function(){$(this).css('z-index',50001,'important');});};this.params.buttonSource=true;this.params.plugins=['fontcolor','table'];if(_.area=='A'||_.live_editor_mode==true){this.params.plugins.push('imageupload','video');}
this.params.buttons=['html','formatting','bold','italic','deleted','unorderedlist','orderedlist','outdent','indent','image','video','table','link','alignment','horizontalrule'];this.params.replaceDivs=false;this.params.changeCallback=function(html){elm.ceEditor('changed',html);};elm.redactor(this.params);if(elm.prop('disabled')){elm.ceEditor('disable',true);}
this.elms.push(elm.get(0));return true;},destroy:function(elm){var ed=methods._getEditor(elm);if(ed){ed.redactor('core.destroy');}},recover:function(elm){if($.inArray(elm.get(0),this.elms)!==-1){$.ceEditor('run',elm);}},val:function(elm,value){var ed=methods._getEditor(elm);if(!ed){return false;}
if(typeof(value)=='undefined'){return ed.redactor('code.get');}else{ed.redactor('code.set',value);}
return true;},updateTextFields:function(elm){return true;},insert:function(elm,text){var ed=methods._getEditor(elm);if(ed){ed.redactor('selection.restore');ed.redactor('insert.text',text);}},disable:function(elm,value){var ed=methods._getEditor(elm);if(ed){var obj=ed.redactor('core.getBox');if(value==true){if(!$(obj).parent().hasClass('disable-overlay-wrap')){$(obj).wrap("<div class='disable-overlay-wrap wysiwyg-overlay'></div>");$(obj).before("<div id='"+elm.prop('id')+"_overlay' class='disable-overlay'></div>");elm.prop('disabled',true);}}else{$(obj).unwrap();$('#'+elm.prop('id')+'_overlay').remove();elm.prop('disabled',false);}}}});}(Tygh,Tygh.$));(function(_,$){'use strict';var ui=(function(){return{winWidth:function(){return $(window).width();},responsiveScroll:function(){$.ceEvent('on','ce.needScroll',function(opt){opt.need_scroll=false;setTimeout(function(){$.scrollToElm(opt.jelm.data('caScroll'));},310);});},responsiveTabs:function(){if(this.winWidth()<=480){$('.cm-j-tabs:not(.cm-j-tabs-disable-convertation)').each(function(index){var accordion=$('<div class="ty-accordion cm-accordion" id="accordion_id_'+index+'">');var tabsContent=$('.cm-tabs-content:not(.cm-j-content-disable-convertation)');var self=this;$(this).hide();tabsContent.hide();if(!$('#accordion_id_'+index).length){$(this).find('>ul>li').each(function(){var id=$(this).attr('id');var content=$('.cm-tabs-content > #content_'+id).show();$(this).attr('id','hidden_tab_'+id);accordion.append('<h3 id="'+id+'">'+$(this).text()+'</h3>');$(content).appendTo(accordion);});$(self).before(accordion);}});$('.cm-accordion').ceAccordion('reinit',{animate:$(_.body).data('caAccordionAnimateDelay')||300,heightStyle:"content",activate:function(event,ui){var selectedItem=$(ui.newHeader);if(!selectedItem.length)return;$.scrollToElm(selectedItem)}});var active=_.anchor;if(typeof active!=='undefined'&&$(active).length>0){$(active).click();}}else{$('.cm-accordion').accordion('destroy');$('.cm-accordion > div').each(function(index){$(this).hide();$(this).appendTo($('.cm-tabs-content'));});$('.cm-accordion').remove();$('.cm-j-tabs>ul>li').each(function(){var id=$(this).attr('id').replace('hidden_tab_','');$(this).attr('id',id);$('#content_'+$(this).attr('id')).css('display','');});$('.cm-j-tabs, .cm-tabs-content').show();}},responsiveMenu:function(){var whichEvent=('ontouch'in document.documentElement?"touch":"click");if(_.isTouch&&window.navigator.msPointerEnabled){whichEvent='click';}
if($('.ty-menu__menu-btn').data('ca-responsive-menu')!==true){$('.ty-menu__menu-btn').on(whichEvent,function(e){var menu_elm=$('.cm-responsive-menu');$(this).parent(menu_elm).find('.ty-menu__item').toggle();});$('.cm-responsive-menu-toggle').on(whichEvent,function(e){$(this).toggleClass('ty-menu__item-toggle-active');$('.icon-down-open',this).toggleClass('icon-up-open');$(this).parent().find('.cm-responsive-menu-submenu').first().toggleClass('ty-menu__items-show');});$('.ty-menu__menu-btn').data('ca-responsive-menu',true);}
if(_.isTouch==false&&ui.winWidth()>=767){$('.cm-responsive-menu').on('mouseover mouseout',function(e){ui.detectMenuWidth(e);});}},responsiveMenuLargeTouch:function(e){var elm=$(e.target);var menuWidth=$('.cm-responsive-menu').width();if(ui.winWidth()>=767&&e.type=='touchstart'){if(elm.is('.ty-menu__submenu-link')){elm.click();}
var menuItem=elm.hasClass('cm-menu-item-responsive')?elm:elm.closest('.cm-menu-item-responsive');if(!menuItem.hasClass('is-hover-menu')&&menuItem.find('.ty-menu__submenu-items').length>0){e.preventDefault();menuItem.siblings('.cm-menu-item-responsive').removeClass('is-hover-menu');menuItem.addClass('is-hover-menu');}
var subMenu=$('.ty-menu__submenu-items');if(subMenu.is(':visible')&&!elm.closest('.cm-menu-item-responsive').length){$('.cm-menu-item-responsive').removeClass('is-hover-menu');}}else{$('.cm-menu-item-responsive').removeClass('is-hover-menu');}
ui.detectMenuWidth(e);},detectMenuWidth:function(e){var $self=$(e.target),$menuItem=$self.closest('.cm-menu-item-responsive'),$menuItemSubmenu=$('.cm-responsive-menu-submenu',$menuItem).first(),$menu=$self.parents('.cm-responsive-menu');var verticalMenuClassName='ty-menu-vertical',reverseDirectionClassName='ty-menu__submenu-reverse-direction',isHorizontal=!$menu.parent().hasClass(verticalMenuClassName);if(!isHorizontal||!$menuItemSubmenu.length||!$menuItem.length){return false;}
var menuWidth=$menu.outerWidth(),itemWidth=$menuItem.outerWidth(),menuItemSubmenuWidth=_getSubmenuOriginWidth($menuItemSubmenu);$('.'+reverseDirectionClassName).removeClass(reverseDirectionClassName);if($menuItem.index()/ $menu.children().length>0.5){var _offset=Math.abs((_.language_direction=="rtl"?($menuItem.offset().left+itemWidth)-($menu.offset().left+menuWidth):$menuItem.offset().left-$menu.offset().left));$menuItemSubmenu.toggleClass(reverseDirectionClassName,((menuWidth-(itemWidth*2)<(menuItemSubmenuWidth+itemWidth))||(_offset+menuItemSubmenuWidth>menuWidth)));}
function _getSubmenuOriginWidth($submenu){$submenu.css({visibility:'hidden',left:0});var _width=$submenu.outerWidth()||0;$submenu.get(0).style.left='';$submenu.get(0).style.visibility='';return _width;}},responsiveTables:function(e){var tables=$('.ty-table');if(this.winWidth()<=767){tables.each(function(){var thTexts=[];var subTable=$(this).find('.ty-table');if(subTable.length){var subTableStack=[];subTable.each(function(index){$(this).parent().attr('data-ca-has-sub-table_'+index,'true');subTableStack.push($(this).detach());});}
$(this).find('th:not(.ty-table-disable-convertation)').each(function(){thTexts.push($(this).text());});$(this).find('tr:not(.ty-table__no-items)').each(function(){$(this).find('td:not(.ty-table-disable-convertation)').each(function(index){var $elm=$(this);if($elm.find('.ty-table__responsive-content').length==0){$elm.wrapInner('<div class="ty-table__responsive-content"></div>');$elm.prepend('<div class="ty-table__responsive-header">'+thTexts[index]+'</div>');}});});if(subTable.length){subTable.each(function(index){var subTableElm=$('[data-ca-has-sub-table_'+index+']');subTableElm.prepend(subTableStack[index]);subTableElm.removeAttr('data-ca-has-sub-table_'+index);});}});}},resizeDialog:function(){var self=this;var dlg=$('.ui-dialog');var $contentElem=$(dlg).find('.ui-dialog-content');if(self.winWidth()>767){$contentElem.data('caDialogAutoHeight',false);return;}
$contentElem.data('caDialogAutoHeight',true);$('.ui-widget-overlay').css({'min-height':$(window).height()});$(dlg).css({'position':'absolute','width':$(window).width()-20,'left':'10px','top':'10px','max-height':'none','height':'auto','margin-bottom':'10px'});$(dlg).find('.ui-dialog-title').css({'width':$(window).width()-80});$contentElem.css({'height':'auto','max-height':'none'});$(dlg).find('.object-container').css({'height':'auto'});$(dlg).find('.buttons-container').css({'position':'relative','top':'auto','left':'0px','right':'0px','bottom':'0px','width':'auto'});var w=$.getWindowSizes();$('.cm-notification-content.notification-content-extended').each(function(id,elm){var notification=$(elm),notificationMaxHeight=w.view_height-300;notification.find('.cm-notification-max-height').css({'max-height':notificationMaxHeight});notification.css('top',w.view_height / 2-(notification.height()/ 2));});},responsiveDialog:function(){var self=this;$.ceEvent('on','ce.dialogshow',function(){if(self.winWidth()<=767){var currentScrollPosition=$(document).scrollTop();self.resizeDialog();$('body,html').scrollTop(0);$.ceEvent('on','ce.dialogclose',function(){$('body,html').scrollTop(currentScrollPosition);});}});},responsiveFilters:function(e){var filtersContent=$('.cm-horizontal-filters-content');if(this.winWidth()<=767){filtersContent.removeClass('cm-popup-box');}else{filtersContent.addClass('cm-popup-box');}
if(this.winWidth()>767){$('.ty-horizontal-filters-content-to-right').removeClass('ty-horizontal-filters-content-to-right');$('.ty-horizontal-product-filters-dropdown').click(function(){var hrFiltersWidth=$(".cm-horizontal-filters").width();var hrFiltersContent=$('.cm-horizontal-filters-content',this);setTimeout(function(){var position=hrFiltersContent.offset().left+hrFiltersContent.width();if(position>hrFiltersWidth){hrFiltersContent.addClass("ty-horizontal-filters-content-to-right");}},1);});}},responsiveInlineTextLinksLargeTouch:function(e){var elm=$(e.target);if(ui.winWidth()>=767&&e.type=='touchstart'){var linksItem=elm.hasClass('ty-text-links__item')?elm:elm.closest('.ty-text-links__item');if(!linksItem.hasClass('is-hover-link')&&linksItem.hasClass('ty-text-links__subitems')){e.preventDefault();linksItem.siblings('.ty-text-links__item').removeClass('is-hover-link');linksItem.addClass('is-hover-link');}}else{$('.ty-text-links__item').removeClass('is-hover-link');}}};})();$(document).ready(function(){$(window).resize(function(e){ui.winWidth();ui.responsiveTables();ui.responsiveFilters();ui.resizeDialog();});if(window.addEventListener){window.addEventListener('orientationchange',function(){ui.resizeDialog();$.ceDialog('get_last').ceDialog('reload');},false);}
ui.responsiveDialog();ui.responsiveTables();ui.responsiveFilters();$.ceEvent('on','ce.ajaxdone',function(){ui.responsiveTables();ui.responsiveMenu();ui.responsiveFilters();ui.resizeDialog();});ui.responsiveMenu();$(document).on('touchstart',function(e){var elm=$(e.target);if(elm.hasClass('cm-menu-item-responsive')||elm.closest('.cm-menu-item-responsive').length){ui.responsiveMenuLargeTouch(e);}else{$('.is-hover-menu').removeClass('is-hover-menu');}
if(elm.hasClass('ty-text-links__subitems')||elm.closest('.ty-text-links__subitems').length){ui.responsiveInlineTextLinksLargeTouch(e);}else{$('.is-hover-link').removeClass('is-hover-link');}});});$.ceEvent('on','ce.tab.init',function(){$(window).resize(function(e){ui.responsiveTabs();});ui.responsiveTabs();ui.responsiveScroll();});}(Tygh,Tygh.$));(function(e){function t(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),"function"==typeof e[t]?"paste":"input"}var n,a=t()+".mask",r=navigator.userAgent,i=/iphone/i.test(r),o=/android/i.test(r);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(n=this.createTextRange(),n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,r){var c,l,s,u,f,h;return!t&&this.length>0?(c=e(this[0]),c.data(e.mask.dataName)()):(r=e.extend({placeholder:e.mask.placeholder,completed:null},r),l=e.mask.definitions,s=[],u=h=t.length,f=null,e.each(t.split(""),function(e,t){"?"==t?(h--,u=e):l[t]?(s.push(RegExp(l[t])),null===f&&(f=s.length-1)):s.push(null)}),this.trigger("unmask").each(function(){function c(e){for(;h>++e&&!s[e];);return e}function d(e){for(;--e>=0&&!s[e];);return e}function m(e,t){var n,a;if(!(0>e)){for(n=e,a=c(t);h>n;n++)if(s[n]){if(!(h>a&&s[n].test(R[a])))break;R[n]=R[a],R[a]=r.placeholder,a=c(a)}b(),x.caret(Math.max(f,e))}}function p(e){var t,n,a,i;for(t=e,n=r.placeholder;h>t;t++)if(s[t]){if(a=c(t),i=R[t],R[t]=n,!(h>a&&s[a].test(i)))break;n=i}}function g(e){var t,n,a,r=e.which;8===r||46===r||i&&127===r?(t=x.caret(),n=t.begin,a=t.end,0===a-n&&(n=46!==r?d(n):a=c(n-1),a=46===r?c(a):a),k(n,a),m(n,a-1),e.preventDefault()):27==r&&(x.val(S),x.caret(0,y()),e.preventDefault())}function v(t){var n,a,i,l=t.which,u=x.caret();t.ctrlKey||t.altKey||t.metaKey||32>l||l&&(0!==u.end-u.begin&&(k(u.begin,u.end),m(u.begin,u.end-1)),n=c(u.begin-1),h>n&&(a=String.fromCharCode(l),s[n].test(a)&&(p(n),R[n]=a,b(),i=c(n),o?setTimeout(e.proxy(e.fn.caret,x,i),0):x.caret(i),r.completed&&i>=h&&r.completed.call(x))),t.preventDefault())}function k(e,t){var n;for(n=e;t>n&&h>n;n++)s[n]&&(R[n]=r.placeholder)}function b(){x.val(R.join(""))}function y(e){var t,n,a=x.val(),i=-1;for(t=0,pos=0;h>t;t++)if(s[t]){for(R[t]=r.placeholder;pos++<a.length;)if(n=a.charAt(pos-1),s[t].test(n)){R[t]=n,i=t;break}if(pos>a.length)break}else R[t]===a.charAt(pos)&&t!==u&&(pos++,i=t);return e?b():u>i+1?(x.val(""),k(0,h)):(b(),x.val(x.val().substring(0,i+1))),u?t:f}var x=e(this),R=e.map(t.split(""),function(e){return"?"!=e?l[e]?r.placeholder:e:void 0}),S=x.val();x.data(e.mask.dataName,function(){return e.map(R,function(e,t){return s[t]&&e!=r.placeholder?e:null}).join("")}),x.attr("readonly")||x.one("unmask",function(){x.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(n);var e;S=x.val(),e=y(),n=setTimeout(function(){b(),e==t.length?x.caret(0,e):x.caret(e)},10)}).bind("blur.mask",function(){y(),x.val()!=S&&x.change()}).bind("keydown.mask",g).bind("keypress.mask",v).bind(a,function(){setTimeout(function(){var e=y(!0);x.caret(e),r.completed&&e==x.val().length&&r.completed.call(x)},0)}),y()}))}})})(jQuery);!function(a){function b(a){var b=document.createElement("input"),c="on"+a,d=c in b;return d||(b.setAttribute(c,"return;"),d="function"==typeof b[c]),b=null,d}function c(a){var b="text"==a||"tel"==a;if(!b){var c=document.createElement("input");c.setAttribute("type",a),b="text"===c.type,c=null}return b}function d(b,c,e){var f=e.aliases[b];return f?(f.alias&&d(f.alias,void 0,e),a.extend(!0,e,f),a.extend(!0,e,c),!0):!1}function e(b){function c(c){function d(a,b,c,d){this.matches=[],this.isGroup=a||!1,this.isOptional=b||!1,this.isQuantifier=c||!1,this.isAlternator=d||!1,this.quantifier={min:1,max:1}}function e(c,d,e){var f=b.definitions[d],g=0==c.matches.length;if(e=void 0!=e?e:c.matches.length,f&&!m){f.placeholder=a.isFunction(f.placeholder)?f.placeholder.call(this,b):f.placeholder;for(var h=f.prevalidator,i=h?h.length:0,j=1;j<f.cardinality;j++){var k=i>=j?h[j-1]:[],l=k.validator,n=k.cardinality;c.matches.splice(e++,0,{fn:l?"string"==typeof l?new RegExp(l):new function(){this.test=l}:new RegExp("."),cardinality:n?n:1,optionality:c.isOptional,newBlockMarker:g,casing:f.casing,def:f.definitionSymbol||d,placeholder:f.placeholder,mask:d})}c.matches.splice(e++,0,{fn:f.validator?"string"==typeof f.validator?new RegExp(f.validator):new function(){this.test=f.validator}:new RegExp("."),cardinality:f.cardinality,optionality:c.isOptional,newBlockMarker:g,casing:f.casing,def:f.definitionSymbol||d,placeholder:f.placeholder,mask:d})}else c.matches.splice(e++,0,{fn:null,cardinality:0,optionality:c.isOptional,newBlockMarker:g,casing:null,def:d,placeholder:void 0,mask:d}),m=!1}for(var f,g,h,i,j,k,l=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,m=!1,n=new d,o=[],p=[];f=l.exec(c);)switch(g=f[0],g.charAt(0)){case b.optionalmarker.end:case b.groupmarker.end:if(h=o.pop(),o.length>0){if(i=o[o.length-1],i.matches.push(h),i.isAlternator){j=o.pop();for(var q=0;q<j.matches.length;q++)j.matches[q].isGroup=!1;o.length>0?(i=o[o.length-1],i.matches.push(j)):n.matches.push(j)}}else n.matches.push(h);break;case b.optionalmarker.start:o.push(new d(!1,!0));break;case b.groupmarker.start:o.push(new d(!0));break;case b.quantifiermarker.start:var r=new d(!1,!1,!0);g=g.replace(/[{}]/g,"");var s=g.split(","),t=isNaN(s[0])?s[0]:parseInt(s[0]),u=1==s.length?t:isNaN(s[1])?s[1]:parseInt(s[1]);if(("*"==u||"+"==u)&&(t="*"==u?0:1),r.quantifier={min:t,max:u},o.length>0){var v=o[o.length-1].matches;if(f=v.pop(),!f.isGroup){var w=new d(!0);w.matches.push(f),f=w}v.push(f),v.push(r)}else{if(f=n.matches.pop(),!f.isGroup){var w=new d(!0);w.matches.push(f),f=w}n.matches.push(f),n.matches.push(r)}break;case b.escapeChar:m=!0;break;case b.alternatormarker:o.length>0?(i=o[o.length-1],k=i.matches.pop()):k=n.matches.pop(),k.isAlternator?o.push(k):(j=new d(!1,!1,!1,!0),j.matches.push(k),o.push(j));break;default:if(o.length>0){if(i=o[o.length-1],i.matches.length>0&&(k=i.matches[i.matches.length-1],k.isGroup&&(k.isGroup=!1,e(k,b.groupmarker.start,0),e(k,b.groupmarker.end))),e(i,g),i.isAlternator){j=o.pop();for(var q=0;q<j.matches.length;q++)j.matches[q].isGroup=!1;o.length>0?(i=o[o.length-1],i.matches.push(j)):n.matches.push(j)}}else n.matches.length>0&&(k=n.matches[n.matches.length-1],k.isGroup&&(k.isGroup=!1,e(k,b.groupmarker.start,0),e(k,b.groupmarker.end))),e(n,g)}return n.matches.length>0&&(k=n.matches[n.matches.length-1],k.isGroup&&(k.isGroup=!1,e(k,b.groupmarker.start,0),e(k,b.groupmarker.end)),p.push(n)),p}function d(d,e){if(void 0==d||""==d)return void 0;if(1==d.length&&0==b.greedy&&0!=b.repeat&&(b.placeholder=""),b.repeat>0||"*"==b.repeat||"+"==b.repeat){var f="*"==b.repeat?0:"+"==b.repeat?1:b.repeat;d=b.groupmarker.start+d+b.groupmarker.end+b.quantifiermarker.start+f+","+b.repeat+b.quantifiermarker.end}return void 0==a.inputmask.masksCache[d]&&(a.inputmask.masksCache[d]={mask:d,maskToken:c(d),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:e}),a.extend(!0,{},a.inputmask.masksCache[d])}function e(a){if(a=a.toString(),b.numericInput){a=a.split("").reverse();for(var c=0;c<a.length;c++)a[c]==b.optionalmarker.start?a[c]=b.optionalmarker.end:a[c]==b.optionalmarker.end?a[c]=b.optionalmarker.start:a[c]==b.groupmarker.start?a[c]=b.groupmarker.end:a[c]==b.groupmarker.end&&(a[c]=b.groupmarker.start);a=a.join("")}return a}var f=void 0;if(a.isFunction(b.mask)&&(b.mask=b.mask.call(this,b)),a.isArray(b.mask)){if(b.mask.length>1){b.keepStatic=void 0==b.keepStatic?!0:b.keepStatic;var g="(";return a.each(b.mask,function(b,c){g.length>1&&(g+=")|("),g+=e(void 0==c.mask||a.isFunction(c.mask)?c:c.mask)}),g+=")",d(g,b.mask)}b.mask=b.mask.pop()}return b.mask&&(f=void 0==b.mask.mask||a.isFunction(b.mask.mask)?d(e(b.mask),b.mask):d(e(b.mask.mask),b.mask)),f}function f(d,e,f){function g(a,b,c){b=b||0;var d,e,f,g=[],h=0;do{if(a===!0&&k().validPositions[h]){var i=k().validPositions[h];e=i.match,d=i.locator.slice(),g.push(c===!0?i.input:F(h,e))}else f=p(h,d,h-1),e=f.match,d=f.locator.slice(),g.push(F(h,e));h++}while((void 0==cb||cb>h-1)&&null!=e.fn||null==e.fn&&""!=e.def||b>=h);return g.pop(),g}function k(){return e}function l(a){var b=k();b.buffer=void 0,b.tests={},a!==!0&&(b._buffer=void 0,b.validPositions={},b.p=0)}function m(a){var b=k(),c=-1,d=b.validPositions;void 0==a&&(a=-1);var e=c,f=c;for(var g in d){var h=parseInt(g);(-1==a||null!=d[h].match.fn)&&(a>=h&&(e=h),h>=a&&(f=h))}return c=-1!=e&&a-e>1||a>f?e:f}function n(b,c,d){if(f.insertMode&&void 0!=k().validPositions[b]&&void 0==d){var e,g=a.extend(!0,{},k().validPositions),h=m();for(e=b;h>=e;e++)delete k().validPositions[e];k().validPositions[b]=c;var i,j=!0;for(e=b;h>=e;e++){var l=g[e];if(void 0!=l){var n=k().validPositions;i=!f.keepStatic&&n[e]&&(void 0!=n[e+1]&&s(e+1,n[e].locator.slice(),e).length>1||void 0!=n[e].alternation)?e+1:B(e),j=r(i,l.match.def)?j&&y(i,l.input,!0,!0)!==!1:null==l.match.fn}if(!j)break}if(!j)return k().validPositions=a.extend(!0,{},g),!1}else k().validPositions[b]=c;return!0}function o(a,b,c,d){var e,g=a;k().p=a,void 0!=k().validPositions[a]&&k().validPositions[a].input==f.radixPoint&&(b++,g++);for(e=g;b>e;e++)void 0!=k().validPositions[e]&&(c===!0||0!=f.canClearPosition(k(),e,m(),d,f))&&delete k().validPositions[e];for(l(!0),e=g+1;e<=m();){for(;void 0!=k().validPositions[g];)g++;var h=k().validPositions[g];g>e&&(e=g+1);var i=k().validPositions[e];void 0!=i&&void 0==h?(r(g,i.match.def)&&y(g,i.input,!0)!==!1&&(delete k().validPositions[e],e++),g++):e++}var j=m();j>=a&&void 0!=k().validPositions[j]&&k().validPositions[j].input==f.radixPoint&&delete k().validPositions[j],l(!0)}function p(a,b,c){for(var d,e=s(a,b,c),g=m(),h=k().validPositions[g]||s(0)[0],i=void 0!=h.alternation?h.locator[h.alternation].split(","):[],j=0;j<e.length&&(d=e[j],!(d.match&&(f.greedy&&d.match.optionalQuantifier!==!0||(d.match.optionality===!1||d.match.newBlockMarker===!1)&&d.match.optionalQuantifier!==!0)&&(void 0==h.alternation||void 0!=d.locator[h.alternation]&&x(d.locator[h.alternation].toString().split(","),i))));j++);return d}function q(a){return k().validPositions[a]?k().validPositions[a].match:s(a)[0].match}function r(a,b){for(var c=!1,d=s(a),e=0;e<d.length;e++)if(d[e].match&&d[e].match.def==b){c=!0;break}return c}function s(b,c,d){function e(c,d,f,h){function l(f,h,n){if(g>1e4)return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+k().mask),!0;if(g==b&&void 0==f.matches)return i.push({match:f,locator:h.reverse()}),!0;if(void 0!=f.matches){if(f.isGroup&&n!==!0){if(f=l(c.matches[m+1],h))return!0}else if(f.isOptional){var o=f;if(f=e(f,d,h,n)){var p=i[i.length-1].match,q=0==a.inArray(p,o.matches);q&&(j=!0),g=b}}else if(f.isAlternator){var r,s=f,t=[],u=i.slice(),v=h.length,w=d.length>0?d.shift():-1;if(-1==w||"string"==typeof w){var x,y=g,z=d.slice();"string"==typeof w&&(x=w.split(","));for(var A=0;A<s.matches.length;A++){i=[],f=l(s.matches[A],[A].concat(h),n)||f,r=i.slice(),g=y,i=[];for(var B=0;B<z.length;B++)d[B]=z[B];for(var C=0;C<r.length;C++)for(var D=r[C],E=0;E<t.length;E++){var F=t[E];if(D.match.mask==F.match.mask&&("string"!=typeof w||-1!=a.inArray(D.locator[v].toString(),x))){r.splice(C,1),F.locator[v]=F.locator[v]+","+D.locator[v],F.alternation=v;break}}t=t.concat(r)}"string"==typeof w&&(t=a.map(t,function(b,c){if(isFinite(c)){var d,e=b.locator[v].toString().split(",");b.locator[v]=void 0,b.alternation=void 0;for(var f=0;f<e.length;f++)d=-1!=a.inArray(e[f],x),d&&(void 0!=b.locator[v]?(b.locator[v]+=",",b.alternation=v,b.locator[v]+=e[f]):b.locator[v]=parseInt(e[f]));if(void 0!=b.locator[v])return b}})),i=u.concat(t),j=!0}else f=l(s.matches[w],[w].concat(h),n);if(f)return!0}else if(f.isQuantifier&&n!==!0)for(var G=f,H=d.length>0&&n!==!0?d.shift():0;H<(isNaN(G.quantifier.max)?H+1:G.quantifier.max)&&b>=g;H++){var I=c.matches[a.inArray(G,c.matches)-1];if(f=l(I,[H].concat(h),!0)){var p=i[i.length-1].match;p.optionalQuantifier=H>G.quantifier.min-1;var q=0==a.inArray(p,I.matches);if(q){if(H>G.quantifier.min-1){j=!0,g=b;break}return!0}return!0}}else if(f=e(f,d,h,n))return!0}else g++}for(var m=d.length>0?d.shift():0;m<c.matches.length;m++)if(c.matches[m].isQuantifier!==!0){var n=l(c.matches[m],[m].concat(f),h);if(n&&g==b)return n;if(g>b)break}}var f=k().maskToken,g=c?d:0,h=c||[0],i=[],j=!1;if(void 0==c){for(var l,m=b-1;void 0==(l=k().validPositions[m])&&m>-1;)m--;if(void 0!=l&&m>-1)g=m,h=l.locator.slice();else{for(m=b-1;void 0==(l=k().tests[m])&&m>-1;)m--;void 0!=l&&m>-1&&(g=m,h=l[0].locator.slice())}}for(var n=h.shift();n<f.length;n++){var o=e(f[n],h,[n]);if(o&&g==b||g>b)break}return(0==i.length||j)&&i.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),k().tests[b]=a.extend(!0,[],i),k().tests[b]}function t(){return void 0==k()._buffer&&(k()._buffer=g(!1,1)),k()._buffer}function u(){return void 0==k().buffer&&(k().buffer=g(!0,m(),!0)),k().buffer}function v(a,b,c){if(c=c||u().slice(),a===!0)l(),a=0,b=c.length;else for(var d=a;b>d;d++)delete k().validPositions[d],delete k().tests[d];for(var d=a;b>d;d++)c[d]!=f.skipOptionalPartCharacter&&y(d,c[d],!0,!0)}function w(a,b){switch(b.casing){case"upper":a=a.toUpperCase();break;case"lower":a=a.toLowerCase()}return a}function x(b,c){for(var d=f.greedy?c:c.slice(0,1),e=!1,g=0;g<b.length;g++)if(-1!=a.inArray(b[g],d)){e=!0;break}return e}function y(b,c,d,e){function g(b,c,d,e){var g=!1;return a.each(s(b),function(h,i){for(var j=i.match,p=c?1:0,q="",r=(u(),j.cardinality);r>p;r--)q+=D(b-(r-1));if(c&&(q+=c),g=null!=j.fn?j.fn.test(q,k(),b,d,f):c!=j.def&&c!=f.skipOptionalPartCharacter||""==j.def?!1:{c:j.def,pos:b},g!==!1){var s=void 0!=g.c?g.c:c;s=s==f.skipOptionalPartCharacter&&null===j.fn?j.def:s;var t=b;if(void 0!=g.remove&&o(g.remove,g.remove+1,!0),g.refreshFromBuffer){var x=g.refreshFromBuffer;if(d=!0,v(x===!0?x:x.start,x.end),void 0==g.pos&&void 0==g.c)return g.pos=m(),!1;if(t=void 0!=g.pos?g.pos:b,t!=b)return g=a.extend(g,y(t,s,!0)),!1}else if(g!==!0&&void 0!=g.pos&&g.pos!=b&&(t=g.pos,v(b,t),t!=b))return g=a.extend(g,y(t,s,!0)),!1;return 1!=g&&void 0==g.pos&&void 0==g.c?!1:(h>0&&l(!0),n(t,a.extend({},i,{input:w(s,j)}),e)||(g=!1),!1)}}),g}function h(b,c,d,e){var g,h,i=a.extend(!0,{},k().validPositions);for(g=m();g>=0;g--)if(k().validPositions[g]&&void 0!=k().validPositions[g].alternation){h=k().validPositions[g].alternation;break}if(void 0!=h)for(var j in k().validPositions)if(parseInt(j)>parseInt(g)&&void 0===k().validPositions[j].alternation){for(var n=k().validPositions[j],o=n.locator[h],p=k().validPositions[g].locator[h].split(","),q=0;q<p.length;q++)if(o<p[q]){for(var r,s,t=j-1;t>=0;t--)if(r=k().validPositions[t],void 0!=r){s=r.locator[h],r.locator[h]=p[q];break}if(o!=r.locator[h]){for(var v=u().slice(),w=j;w<m()+1;w++)delete k().validPositions[w],delete k().tests[w];l(!0),f.keepStatic=!f.keepStatic;for(var w=j;w<v.length;w++)v[w]!=f.skipOptionalPartCharacter&&y(m()+1,v[w],!1,!0);r.locator[h]=s;var x=y(b,c,d,e);if(f.keepStatic=!f.keepStatic,x)return x;l(),k().validPositions=a.extend(!0,{},i)}}break}return!1}function i(b,c){for(var d=k().validPositions[c],e=d.locator,f=e.length,g=b;c>g;g++)if(!z(g)){var h=s(g),i=h[0],j=-1;a.each(h,function(a,b){for(var c=0;f>c;c++)b.locator[c]&&x(b.locator[c].toString().split(","),e[c].toString().split(","))&&c>j&&(j=c,i=b)}),n(g,a.extend({},i,{input:i.match.def}),!0)}}d=d===!0;for(var j=u(),p=b-1;p>-1&&!k().validPositions[p];p--);for(p++;b>p;p++)void 0==k().validPositions[p]&&((!z(p)||j[p]!=F(p))&&s(p).length>1||j[p]==f.radixPoint||"0"==j[p]&&a.inArray(f.radixPoint,j)<p)&&g(p,j[p],!0);var q=b,r=!1,t=a.extend(!0,{},k().validPositions);if(q<A()&&(r=g(q,c,d,e),!d&&r===!1)){var C=k().validPositions[q];if(!C||null!=C.match.fn||C.match.def!=c&&c!=f.skipOptionalPartCharacter){if((f.insertMode||void 0==k().validPositions[B(q)])&&!z(q))for(var E=q+1,G=B(q);G>=E;E++)if(r=g(E,c,d,e),r!==!1){i(q,E),q=E;break}}else r={caret:B(q)}}if(r===!1&&f.keepStatic&&N(j)&&(r=h(b,c,d,e)),r===!0&&(r={pos:q}),a.isFunction(f.postValidation)&&0!=r&&!d){l(!0);var H=f.postValidation(u(),f);if(!H)return l(!0),k().validPositions=a.extend(!0,{},t),!1}return r}function z(a){var b=q(a);return null!=b.fn?b.fn:!1}function A(){var a;cb=bb.prop("maxLength"),-1==cb&&(cb=void 0);var b,c=m(),d=k().validPositions[c],e=void 0!=d?d.locator.slice():void 0;for(b=c+1;void 0==d||null!=d.match.fn||null==d.match.fn&&""!=d.match.def;b++)d=p(b,e,b-1),e=d.locator.slice();return a=b,void 0==cb||cb>a?a:cb}function B(a){var b=A();if(a>=b)return b;for(var c=a;++c<b&&!z(c)&&(f.nojumps!==!0||f.nojumpsThreshold>c););return c}function C(a){var b=a;if(0>=b)return 0;for(;--b>0&&!z(b););return b}function D(a){return void 0==k().validPositions[a]?F(a):k().validPositions[a].input}function E(b,c,d,e,g){if(e&&a.isFunction(f.onBeforeWrite)){var h=f.onBeforeWrite.call(b,e,c,d,f);if(h){if(h.refreshFromBuffer){var i=h.refreshFromBuffer;v(i===!0?i:i.start,i.end,h.buffer),l(!0),c=u()}d=h.caret||d}}b._valueSet(c.join("")),void 0!=d&&K(b,d),g===!0&&(fb=!0,a(b).trigger("input"))}function F(a,b){return b=b||q(a),void 0!=b.placeholder?b.placeholder:null==b.fn?b.def:f.placeholder.charAt(a%f.placeholder.length)}function G(b,c,d,e){function f(){var a=!1,b=t().slice(i,B(i)).join("").indexOf(h);if(-1!=b&&!z(i)){a=!0;for(var c=t().slice(i,i+b),d=0;d<c.length;d++)if(" "!=c[d]){a=!1;break}}return a}var g=void 0!=e?e.slice():b._valueGet().split(""),h="",i=0;l(),k().p=B(-1),c&&b._valueSet("");var j=t().slice(0,B(-1)).join(""),n=g.join("").match(new RegExp(H(j),"g"));n&&n.length>0&&(g.splice(0,n.length*j.length),i=B(i)),a.each(g,function(c,e){var g=a.Event("keypress");g.which=e.charCodeAt(0),h+=e;var j=m(),l=k().validPositions[j],n=p(j+1,l?l.locator.slice():void 0,j);if(!f()||d){var o=d?c:null==n.match.fn&&n.match.optionality&&j+1<k().p?j+1:k().p;T.call(b,g,!0,!1,d,o),i=o+1,h=""}else T.call(b,g,!0,!1,!0,j+1)}),c&&E(b,u(),a(b).is(":focus")?B(m(0)):void 0,a.Event("checkval"))}function H(b){return a.inputmask.escapeRegex.call(this,b)}function I(b){if(b.data("_inputmask")&&!b.hasClass("hasDatepicker")){var c=[],d=k().validPositions;for(var e in d)d[e].match&&null!=d[e].match.fn&&c.push(d[e].input);var g=(db?c.reverse():c).join(""),h=(db?u().slice().reverse():u()).join("");return a.isFunction(f.onUnMask)&&(g=f.onUnMask.call(b,h,g,f)||g),g}return b[0]._valueGet()}function J(a){if(db&&"number"==typeof a&&(!f.greedy||""!=f.placeholder)){var b=u().length;a=b-a}return a}function K(b,c,d){var e,g=b.jquery&&b.length>0?b[0]:b;if("number"!=typeof c)return g.setSelectionRange?(c=g.selectionStart,d=g.selectionEnd):document.selection&&document.selection.createRange&&(e=document.selection.createRange(),c=0-e.duplicate().moveStart("character",-1e5),d=c+e.text.length),{begin:J(c),end:J(d)};if(c=J(c),d=J(d),d="number"==typeof d?d:c,a(g).is(":visible")){var h=a(g).css("font-size").replace("px","")*d;g.scrollLeft=h>g.scrollWidth?h:0,0==f.insertMode&&c==d&&d++,g.setSelectionRange?(g.selectionStart=c,g.selectionEnd=d):g.createTextRange&&(e=g.createTextRange(),e.collapse(!0),e.moveEnd("character",d),e.moveStart("character",c),e.select())}}function L(b){var c,d,e=u(),f=e.length,g=m(),h={},i=k().validPositions[g],j=void 0!=i?i.locator.slice():void 0;for(c=g+1;c<e.length;c++)d=p(c,j,c-1),j=d.locator.slice(),h[c]=a.extend(!0,{},d);var l=i&&void 0!=i.alternation?i.locator[i.alternation].split(","):[];for(c=f-1;c>g&&(d=h[c].match,(d.optionality||d.optionalQuantifier||i&&void 0!=i.alternation&&void 0!=h[c].locator[i.alternation]&&-1!=a.inArray(h[c].locator[i.alternation].toString(),l))&&e[c]==F(c,d));c--)f--;return b?{l:f,def:h[f]?h[f].match:void 0}:f}function M(a){for(var b=L(),c=a.length-1;c>b&&!z(c);c--);a.splice(b,c+1-b)}function N(b){if(a.isFunction(f.isComplete))return f.isComplete.call(bb,b,f);if("*"==f.repeat)return void 0;{var c=!1,d=L(!0),e=C(d.l);m()}if(void 0==d.def||d.def.newBlockMarker||d.def.optionalQuantifier){c=!0;for(var g=0;e>=g;g++){var h=z(g),i=q(g);if(h&&void 0==k().validPositions[g]&&i.optionality!==!0&&i.optionalQuantifier!==!0||!h&&b[g]!=F(g)){c=!1;break}}}return c}function O(a,b){return db?a-b>1||a-b==1&&f.insertMode:b-a>1||b-a==1&&f.insertMode}function P(b){var c=a._data(b).events;a.each(c,function(b,c){a.each(c,function(a,b){if("inputmask"==b.namespace&&"setvalue"!=b.type){var c=b.handler;b.handler=function(a){if(!this.disabled&&(!this.readOnly||"keydown"==a.type&&a.ctrlKey&&67==a.keyCode)){switch(a.type){case"input":if(fb===!0)return fb=!1,a.preventDefault();break;case"keydown":eb=!1;break;case"keypress":if(eb===!0)return a.preventDefault();eb=!0;break;case"compositionstart":break;case"compositionupdate":fb=!0;break;case"compositionend":}return c.apply(this,arguments)}a.preventDefault()}}})})}function Q(b){function c(b){if(void 0==a.valHooks[b]||1!=a.valHooks[b].inputmaskpatch){var c=a.valHooks[b]&&a.valHooks[b].get?a.valHooks[b].get:function(a){return a.value},d=a.valHooks[b]&&a.valHooks[b].set?a.valHooks[b].set:function(a,b){return a.value=b,a};a.valHooks[b]={get:function(b){var d=a(b);if(d.data("_inputmask")){if(d.data("_inputmask").opts.autoUnmask)return d.inputmask("unmaskedvalue");var e=c(b),f=d.data("_inputmask"),g=f.maskset,h=g._buffer;return h=h?h.join(""):"",e!=h?e:""}return c(b)},set:function(b,c){var e,f=a(b),g=f.data("_inputmask");return g?(e=d(b,a.isFunction(g.opts.onBeforeMask)?g.opts.onBeforeMask.call(mb,c,g.opts)||c:c),f.triggerHandler("setvalue.inputmask")):e=d(b,c),e},inputmaskpatch:!0}}}function d(){var b=a(this),c=a(this).data("_inputmask");return c?c.opts.autoUnmask?b.inputmask("unmaskedvalue"):h.call(this)!=t().join("")?h.call(this):"":h.call(this)}function e(b){var c=a(this).data("_inputmask");c?(i.call(this,a.isFunction(c.opts.onBeforeMask)?c.opts.onBeforeMask.call(mb,b,c.opts)||b:b),a(this).triggerHandler("setvalue.inputmask")):i.call(this,b)}function g(b){a(b).bind("mouseenter.inputmask",function(){var b=a(this),c=this,d=c._valueGet();""!=d&&d!=u().join("")&&(this._valueSet(a.isFunction(f.onBeforeMask)?f.onBeforeMask.call(mb,d,f)||d:d),b.triggerHandler("setvalue.inputmask"))});var c=a._data(b).events,d=c.mouseover;if(d){for(var e=d[d.length-1],g=d.length-1;g>0;g--)d[g]=d[g-1];d[0]=e}}var h,i;if(!b._valueGet){if(Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor(b,"value")}document.__lookupGetter__&&b.__lookupGetter__("value")?(h=b.__lookupGetter__("value"),i=b.__lookupSetter__("value"),b.__defineGetter__("value",d),b.__defineSetter__("value",e)):(h=function(){return b.value},i=function(a){b.value=a},c(b.type),g(b)),b._valueGet=function(a){return db&&a!==!0?h.call(this).split("").reverse().join(""):h.call(this)},b._valueSet=function(a){i.call(this,db?a.split("").reverse().join(""):a)}}}function R(b,c,d,e){function g(){if(f.keepStatic){l(!0);var c,d=[];for(c=m();c>=0;c--)if(k().validPositions[c]){if(void 0!=k().validPositions[c].alternation)break;d.push(k().validPositions[c].input),delete k().validPositions[c]}if(c>0)for(;d.length>0;){k().p=B(m());var e=a.Event("keypress");e.which=d.pop().charCodeAt(0),T.call(b,e,!0,!1,!1,k().p)}}}if((f.numericInput||db)&&(c==a.inputmask.keyCode.BACKSPACE?c=a.inputmask.keyCode.DELETE:c==a.inputmask.keyCode.DELETE&&(c=a.inputmask.keyCode.BACKSPACE),db)){var h=d.end;d.end=d.begin,d.begin=h}if(c==a.inputmask.keyCode.BACKSPACE&&(d.end-d.begin<1||0==f.insertMode)?d.begin=C(d.begin):c==a.inputmask.keyCode.DELETE&&d.begin==d.end&&(d.end=z(d.end)?d.end+1:B(d.end)+1),o(d.begin,d.end,!1,e),e!==!0){g();var i=m(d.begin);i<d.begin?(-1==i&&l(),k().p=B(i)):k().p=d.begin}}function S(c){var d=this,e=a(d),g=c.keyCode,i=K(d);g==a.inputmask.keyCode.BACKSPACE||g==a.inputmask.keyCode.DELETE||h&&127==g||c.ctrlKey&&88==g&&!b("cut")?(c.preventDefault(),88==g&&($=u().join("")),R(d,g,i),E(d,u(),k().p,c,$!=u().join("")),d._valueGet()==t().join("")?e.trigger("cleared"):N(u())===!0&&e.trigger("complete"),f.showTooltip&&e.prop("title",k().mask)):g==a.inputmask.keyCode.END||g==a.inputmask.keyCode.PAGE_DOWN?setTimeout(function(){var a=B(m());f.insertMode||a!=A()||c.shiftKey||a--,K(d,c.shiftKey?i.begin:a,a)},0):g==a.inputmask.keyCode.HOME&&!c.shiftKey||g==a.inputmask.keyCode.PAGE_UP?K(d,0,c.shiftKey?i.begin:0):(f.undoOnEscape&&g==a.inputmask.keyCode.ESCAPE||90==g&&c.ctrlKey)&&c.altKey!==!0?(G(d,!0,!1,$.split("")),e.click()):g!=a.inputmask.keyCode.INSERT||c.shiftKey||c.ctrlKey?0!=f.insertMode||c.shiftKey||(g==a.inputmask.keyCode.RIGHT?setTimeout(function(){var a=K(d);K(d,a.begin)},0):g==a.inputmask.keyCode.LEFT&&setTimeout(function(){var a=K(d);K(d,db?a.begin+1:a.begin-1)},0)):(f.insertMode=!f.insertMode,K(d,f.insertMode||i.begin!=A()?i.begin:i.begin-1)),f.onKeyDown.call(this,c,u(),K(d).begin,f),gb=-1!=a.inArray(g,f.ignorables)}function T(b,c,d,e,g){var h=this,i=a(h),j=b.which||b.charCode||b.keyCode;if(!(c===!0||b.ctrlKey&&b.altKey)&&(b.ctrlKey||b.metaKey||gb))return!0;if(j){46==j&&0==b.shiftKey&&","==f.radixPoint&&(j=44);var m,o=c?{begin:g,end:g}:K(h),p=String.fromCharCode(j),q=O(o.begin,o.end);q&&(k().undoPositions=a.extend(!0,{},k().validPositions),R(h,a.inputmask.keyCode.DELETE,o,!0),o.begin=k().p,f.insertMode||(f.insertMode=!f.insertMode,n(o.begin,e),f.insertMode=!f.insertMode),q=!f.multi),k().writeOutBuffer=!0;var r=db&&!q?o.end:o.begin,t=y(r,p,e);if(t!==!1){if(t!==!0&&(r=void 0!=t.pos?t.pos:r,p=void 0!=t.c?t.c:p),l(!0),void 0!=t.caret)m=t.caret;else{var w=k().validPositions;m=!f.keepStatic&&(void 0!=w[r+1]&&s(r+1,w[r].locator.slice(),r).length>1||void 0!=w[r].alternation)?r+1:B(r)}k().p=m}if(d!==!1){var x=this;if(setTimeout(function(){f.onKeyValidation.call(x,t,f)},0),k().writeOutBuffer&&t!==!1){var z=u();E(h,z,c?void 0:f.numericInput?C(m):m,b,c!==!0),c!==!0&&setTimeout(function(){N(z)===!0&&i.trigger("complete")},0)}else q&&(k().buffer=void 0,k().validPositions=k().undoPositions)}else q&&(k().buffer=void 0,k().validPositions=k().undoPositions);if(f.showTooltip&&i.prop("title",k().mask),c&&a.isFunction(f.onBeforeWrite)){var A=f.onBeforeWrite.call(this,b,u(),m,f);if(A&&A.refreshFromBuffer){var D=A.refreshFromBuffer;v(D===!0?D:D.start,D.end,A.buffer),l(!0),A.caret&&(k().p=A.caret)}}b.preventDefault()}}function U(b){var c=this,d=a(c),e=c._valueGet(!0),g=K(c);if("propertychange"==b.type&&c._valueGet().length<=A())return!0;if("paste"==b.type){var h=e.substr(0,g.begin),i=e.substr(g.end,e.length);h==t().slice(0,g.begin).join("")&&(h=""),i==t().slice(g.end).join("")&&(i=""),window.clipboardData&&window.clipboardData.getData?e=h+window.clipboardData.getData("Text")+i:b.originalEvent&&b.originalEvent.clipboardData&&b.originalEvent.clipboardData.getData&&(e=h+b.originalEvent.clipboardData.getData("text/plain")+i)}var j=e;if(a.isFunction(f.onBeforePaste)){if(j=f.onBeforePaste.call(c,e,f),j===!1)return b.preventDefault(),!1;j||(j=e)}return G(c,!0,!1,db?j.split("").reverse():j.split("")),d.click(),N(u())===!0&&d.trigger("complete"),!1}function V(b){var c=this;G(c,!0,!1),N(u())===!0&&a(c).trigger("complete"),b.preventDefault()}function W(a){var b=this;$=u().join(""),(""==ab||0!=a.originalEvent.data.indexOf(ab))&&(_=K(b))}function X(b){var c=this,d=_||K(c);0==b.originalEvent.data.indexOf(ab)&&(l(),d={begin:0,end:0});var e=b.originalEvent.data;K(c,d.begin,d.end);for(var g=0;g<e.length;g++){var h=a.Event("keypress");h.which=e.charCodeAt(g),eb=!1,gb=!1,T.call(c,h)}setTimeout(function(){var a=k().p;E(c,u(),f.numericInput?C(a):a)},0),ab=b.originalEvent.data}function Y(){}function Z(b){if(bb=a(b),bb.is(":input")&&c(bb.attr("type"))){if(bb.data("_inputmask",{maskset:e,opts:f,isRTL:!1}),f.showTooltip&&bb.prop("title",k().mask),("rtl"==b.dir||f.rightAlign)&&bb.css("text-align","right"),"rtl"==b.dir||f.numericInput){b.dir="ltr",bb.removeAttr("dir");var d=bb.data("_inputmask");d.isRTL=!0,bb.data("_inputmask",d),db=!0}bb.unbind(".inputmask"),bb.closest("form").bind("submit",function(){$!=u().join("")&&bb.change(),bb[0]._valueGet&&bb[0]._valueGet()==t().join("")&&bb[0]._valueSet(""),f.removeMaskOnSubmit&&bb.inputmask("remove")}).bind("reset",function(){setTimeout(function(){bb.triggerHandler("setvalue.inputmask")},0)}),bb.bind("mouseenter.inputmask",function(){var b=a(this),c=this;!b.is(":focus")&&f.showMaskOnHover&&c._valueGet()!=u().join("")&&E(c,u())}).bind("blur.inputmask",function(b){var c=a(this),d=this;if(c.data("_inputmask")){var e=d._valueGet(),g=u().slice();hb=!0,$!=g.join("")&&setTimeout(function(){c.change(),$=g.join("")},0),""!=e&&(f.clearMaskOnLostFocus&&(e==t().join("")?g=[]:M(g)),N(g)===!1&&(c.trigger("incomplete"),f.clearIncomplete&&(l(),g=f.clearMaskOnLostFocus?[]:t().slice())),E(d,g,void 0,b))}}).bind("focus.inputmask",function(){var b=(a(this),this),c=b._valueGet();f.showMaskOnFocus&&(!f.showMaskOnHover||f.showMaskOnHover&&""==c)&&b._valueGet()!=u().join("")&&E(b,u(),B(m())),$=u().join("")}).bind("mouseleave.inputmask",function(){var b=a(this),c=this;if(f.clearMaskOnLostFocus){var d=u().slice(),e=c._valueGet();b.is(":focus")||e==b.attr("placeholder")||""==e||(e==t().join("")?d=[]:M(d),E(c,d))}}).bind("click.inputmask",function(){var b=a(this),c=this;if(b.is(":focus")){var d=K(c);if(d.begin==d.end)if(f.radixFocus&&""!=f.radixPoint&&-1!=a.inArray(f.radixPoint,u())&&(hb||u().join("")==t().join("")))K(c,a.inArray(f.radixPoint,u())),hb=!1;else{var e=db?J(d.begin):d.begin,g=B(m(e));g>e?K(c,z(e)?e:B(e)):K(c,g)}}}).bind("dblclick.inputmask",function(){var a=this;setTimeout(function(){K(a,0,B(m()))},0)}).bind(j+".inputmask dragdrop.inputmask drop.inputmask",U).bind("setvalue.inputmask",function(){var a=this;G(a,!0,!1),$=u().join(""),(f.clearMaskOnLostFocus||f.clearIncomplete)&&a._valueGet()==t().join("")&&a._valueSet("")}).bind("cut.inputmask",function(b){fb=!0;var c=this,d=a(c),e=K(c);R(c,a.inputmask.keyCode.DELETE,e),E(c,u(),k().p,b,$!=u().join("")),c._valueGet()==t().join("")&&d.trigger("cleared"),f.showTooltip&&d.prop("title",k().mask)}).bind("complete.inputmask",f.oncomplete).bind("incomplete.inputmask",f.onincomplete).bind("cleared.inputmask",f.oncleared),bb.bind("keydown.inputmask",S).bind("keypress.inputmask",T),i||bb.bind("compositionstart.inputmask",W).bind("compositionupdate.inputmask",X).bind("compositionend.inputmask",Y),"paste"===j&&bb.bind("input.inputmask",V),Q(b);var g=a.isFunction(f.onBeforeMask)?f.onBeforeMask.call(b,b._valueGet(),f)||b._valueGet():b._valueGet();G(b,!0,!1,g.split(""));var h=u().slice();$=h.join("");var n;try{n=document.activeElement}catch(o){}N(h)===!1&&f.clearIncomplete&&l(),f.clearMaskOnLostFocus&&(h.join("")==t().join("")?h=[]:M(h)),E(b,h),n===b&&K(b,B(m())),P(b)}}var $,_,ab,bb,cb,db=!1,eb=!1,fb=!1,gb=!1,hb=!0;if(void 0!=d)switch(d.action){case"isComplete":return bb=a(d.el),e=bb.data("_inputmask").maskset,f=bb.data("_inputmask").opts,N(d.buffer);case"unmaskedvalue":return bb=d.$input,e=bb.data("_inputmask").maskset,f=bb.data("_inputmask").opts,db=d.$input.data("_inputmask").isRTL,I(d.$input);case"mask":$=u().join(""),Z(d.el);break;case"format":bb=a({}),bb.data("_inputmask",{maskset:e,opts:f,isRTL:f.numericInput}),f.numericInput&&(db=!0);var ib=(a.isFunction(f.onBeforeMask)?f.onBeforeMask.call(bb,d.value,f)||d.value:d.value).split("");return G(bb,!1,!1,db?ib.reverse():ib),a.isFunction(f.onBeforeWrite)&&f.onBeforeWrite.call(this,void 0,u(),0,f),d.metadata?{value:db?u().slice().reverse().join(""):u().join(""),metadata:bb.inputmask("getmetadata")}:db?u().slice().reverse().join(""):u().join("");case"isValid":bb=a({}),bb.data("_inputmask",{maskset:e,opts:f,isRTL:f.numericInput}),f.numericInput&&(db=!0);var ib=d.value.split("");G(bb,!1,!0,db?ib.reverse():ib);for(var jb=u(),kb=L(),lb=jb.length-1;lb>kb&&!z(lb);lb--);return jb.splice(kb,lb+1-kb),N(jb)&&d.value==jb.join("");case"getemptymask":return bb=a(d.el),e=bb.data("_inputmask").maskset,f=bb.data("_inputmask").opts,t();case"remove":var mb=d.el;bb=a(mb),e=bb.data("_inputmask").maskset,f=bb.data("_inputmask").opts,mb._valueSet(I(bb)),bb.unbind(".inputmask"),bb.removeData("_inputmask");var nb;Object.getOwnPropertyDescriptor&&(nb=Object.getOwnPropertyDescriptor(mb,"value")),nb&&nb.get?mb._valueGet&&Object.defineProperty(mb,"value",{get:mb._valueGet,set:mb._valueSet}):document.__lookupGetter__&&mb.__lookupGetter__("value")&&mb._valueGet&&(mb.__defineGetter__("value",mb._valueGet),mb.__defineSetter__("value",mb._valueSet));try{delete mb._valueGet,delete mb._valueSet}catch(ob){mb._valueGet=void 0,mb._valueSet=void 0}break;case"getmetadata":if(bb=a(d.el),e=bb.data("_inputmask").maskset,f=bb.data("_inputmask").opts,a.isArray(e.metadata)){for(var pb,qb=m(),rb=qb;rb>=0;rb--)if(k().validPositions[rb]&&void 0!=k().validPositions[rb].alternation){pb=k().validPositions[rb].alternation;break}return void 0!=pb?e.metadata[k().validPositions[qb].locator[pb]]:e.metadata[0]}return e.metadata}}if(void 0===a.fn.inputmask){var g=navigator.userAgent,h=null!==g.match(new RegExp("iphone","i")),i=(null!==g.match(new RegExp("android.*safari.*","i")),null!==g.match(new RegExp("android.*chrome.*","i")),null!==g.match(new RegExp("android.*firefox.*","i"))),j=(/Kindle/i.test(g)||/Silk/i.test(g)||/KFTT/i.test(g)||/KFOT/i.test(g)||/KFJWA/i.test(g)||/KFJWI/i.test(g)||/KFSOWI/i.test(g)||/KFTHWA/i.test(g)||/KFTHWI/i.test(g)||/KFAPWA/i.test(g)||/KFAPWI/i.test(g),b("paste")?"paste":b("input")?"input":"propertychange");a.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:a.noop,onincomplete:a.noop,oncleared:a.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:a.noop,onBeforeMask:void 0,onBeforePaste:void 0,onBeforeWrite:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:a.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0,canClearPosition:a.noop,postValidation:void 0},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},masksCache:{},escapeRegex:function(a){var b=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return a.replace(new RegExp("(\\"+b.join("|\\")+")","gim"),"\\$1")},format:function(b,c,g){var h=a.extend(!0,{},a.inputmask.defaults,c);return d(h.alias,c,h),f({action:"format",value:b,metadata:g},e(h),h)},isValid:function(b,c){var g=a.extend(!0,{},a.inputmask.defaults,c);return d(g.alias,c,g),f({action:"isValid",value:b},e(g),g)}},a.fn.inputmask=function(b,c){function g(b,c,e){var f=a(b);f.data("inputmask-alias")&&d(f.data("inputmask-alias"),{},c);for(var g in c){var h=f.data("inputmask-"+g.toLowerCase());void 0!=h&&("mask"==g&&0==h.indexOf("[")?(c[g]=h.replace(/[\s[\]]/g,"").split("','"),c[g][0]=c[g][0].replace("'",""),c[g][c[g].length-1]=c[g][c[g].length-1].replace("'","")):c[g]="boolean"==typeof h?h:h.toString(),e&&(e[g]=c[g]))}return c}var h,i=a.extend(!0,{},a.inputmask.defaults,c);if("string"==typeof b)switch(b){case"mask":return d(i.alias,c,i),h=e(i),void 0==h?this:this.each(function(){f({action:"mask",el:this},a.extend(!0,{},h),g(this,i))});case"unmaskedvalue":var j=a(this);return j.data("_inputmask")?f({action:"unmaskedvalue",$input:j}):j.val();case"remove":return this.each(function(){var b=a(this);b.data("_inputmask")&&f({action:"remove",el:this})});case"getemptymask":return this.data("_inputmask")?f({action:"getemptymask",el:this}):"";case"hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case"isComplete":return this.data("_inputmask")?f({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case"getmetadata":return this.data("_inputmask")?f({action:"getmetadata",el:this}):void 0;default:return d(i.alias,c,i),d(b,c,i)||(i.mask=b),h=e(i),void 0==h?this:this.each(function(){f({action:"mask",el:this},a.extend(!0,{},h),g(this,i))})}else{if("object"==typeof b)return i=a.extend(!0,{},a.inputmask.defaults,b),d(i.alias,b,i),h=e(i),void 0==h?this:this.each(function(){f({action:"mask",el:this},a.extend(!0,{},h),g(this,i))});if(void 0==b)return this.each(function(){var b=a(this).attr("data-inputmask");if(b&&""!=b)try{b=b.replace(new RegExp("'","g"),'"');var e=a.parseJSON("{"+b+"}");a.extend(!0,e,c),i=a.extend(!0,{},a.inputmask.defaults,e),i=g(this,i),d(i.alias,e,i),i.alias=void 0,a(this).inputmask("mask",i)}catch(f){}if(a(this).attr("data-inputmask-mask")||a(this).attr("data-inputmask-alias")){i=a.extend(!0,{},a.inputmask.defaults,{});var h={};i=g(this,i,h),d(i.alias,h,i),i.alias=void 0,a(this).inputmask("mask",i)}})}}}return a.fn.inputmask}(jQuery),function(a){return a.extend(a.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),a.extend(a.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(b){var c=a.inputmask.escapeRegex.call(this,b);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+c+"[01])")},val2:function(b){var c=a.inputmask.escapeRegex.call(this,b);return new RegExp("((0[1-9]|[12][0-9])"+c+"(0[1-9]|1[012]))|(30"+c+"(0[13-9]|1[012]))|(31"+c+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(a,b,c){if(isNaN(a))return!1;var d=parseInt(a.concat(b.toString().slice(a.length))),e=parseInt(a.concat(c.toString().slice(a.length)));return(isNaN(d)?!1:d>=b&&c>=d)||(isNaN(e)?!1:e>=b&&c>=e)},determinebaseyear:function(a,b,c){var d=(new Date).getFullYear();if(a>d)return a;if(d>b){for(var e=b.toString().slice(0,2),f=b.toString().slice(2,4);e+c>b;)e--;var g=e+f;return a>g?a:g}return d},onKeyDown:function(b){var c=a(this);if(b.ctrlKey&&b.keyCode==a.inputmask.keyCode.RIGHT){var d=new Date;c.val(d.getDate().toString()+(d.getMonth()+1).toString()+d.getFullYear().toString()),c.triggerHandler("setvalue.inputmask")}},getFrontValue:function(a,b,c){for(var d=0,e=0,f=0;f<a.length&&"2"!=a.charAt(f);f++){var g=c.definitions[a.charAt(f)];g?(d+=e,e=g.cardinality):e++}return b.join("").substr(d,e)},definitions:{1:{validator:function(a,b,c,d,e){var f=e.regex.val1.test(a);return d||f||a.charAt(1)!=e.separator&&-1=="-./".indexOf(a.charAt(1))||!(f=e.regex.val1.test("0"+a.charAt(0)))?f:(b.buffer[c-1]="0",{refreshFromBuffer:{start:c-1,end:c},pos:c,c:a.charAt(0)})},cardinality:2,prevalidator:[{validator:function(a,b,c,d,e){var f=a;isNaN(b.buffer[c+1])||(f+=b.buffer[c+1]);var g=1==f.length?e.regex.val1pre.test(f):e.regex.val1.test(f);if(!d&&!g){if(g=e.regex.val1.test(a+"0"))return b.buffer[c]=a,b.buffer[++c]="0",{pos:c,c:"0"};if(g=e.regex.val1.test("0"+a))return b.buffer[c]="0",c++,{pos:c}}return g},cardinality:1}]},2:{validator:function(a,b,c,d,e){var f=e.getFrontValue(b.mask,b.buffer,e);-1!=f.indexOf(e.placeholder[0])&&(f="01"+e.separator);var g=e.regex.val2(e.separator).test(f+a);if(!d&&!g&&(a.charAt(1)==e.separator||-1!="-./".indexOf(a.charAt(1)))&&(g=e.regex.val2(e.separator).test(f+"0"+a.charAt(0))))return b.buffer[c-1]="0",{refreshFromBuffer:{start:c-1,end:c},pos:c,c:a.charAt(0)};if(e.mask.indexOf("2")==e.mask.length-1&&g){var h=b.buffer.join("").substr(4,4)+a;if(h!=e.leapday)return!0;var i=parseInt(b.buffer.join("").substr(0,4),10);return i%4===0?i%100===0?i%400===0?!0:!1:!0:!1}return g},cardinality:2,prevalidator:[{validator:function(a,b,c,d,e){isNaN(b.buffer[c+1])||(a+=b.buffer[c+1]);var f=e.getFrontValue(b.mask,b.buffer,e);-1!=f.indexOf(e.placeholder[0])&&(f="01"+e.separator);var g=1==a.length?e.regex.val2pre(e.separator).test(f+a):e.regex.val2(e.separator).test(f+a);return d||g||!(g=e.regex.val2(e.separator).test(f+"0"+a))?g:(b.buffer[c]="0",c++,{pos:c})},cardinality:1}]},y:{validator:function(a,b,c,d,e){if(e.isInYearRange(a,e.yearrange.minyear,e.yearrange.maxyear)){var f=b.buffer.join("").substr(0,6);if(f!=e.leapday)return!0;var g=parseInt(a,10);return g%4===0?g%100===0?g%400===0?!0:!1:!0:!1}return!1},cardinality:4,prevalidator:[{validator:function(a,b,c,d,e){var f=e.isInYearRange(a,e.yearrange.minyear,e.yearrange.maxyear);if(!d&&!f){var g=e.determinebaseyear(e.yearrange.minyear,e.yearrange.maxyear,a+"0").toString().slice(0,1);if(f=e.isInYearRange(g+a,e.yearrange.minyear,e.yearrange.maxyear))return b.buffer[c++]=g.charAt(0),{pos:c};if(g=e.determinebaseyear(e.yearrange.minyear,e.yearrange.maxyear,a+"0").toString().slice(0,2),f=e.isInYearRange(g+a,e.yearrange.minyear,e.yearrange.maxyear))return b.buffer[c++]=g.charAt(0),b.buffer[c++]=g.charAt(1),{pos:c}}return f},cardinality:1},{validator:function(a,b,c,d,e){var f=e.isInYearRange(a,e.yearrange.minyear,e.yearrange.maxyear);if(!d&&!f){var g=e.determinebaseyear(e.yearrange.minyear,e.yearrange.maxyear,a).toString().slice(0,2);if(f=e.isInYearRange(a[0]+g[1]+a[1],e.yearrange.minyear,e.yearrange.maxyear))return b.buffer[c++]=g.charAt(1),{pos:c};if(g=e.determinebaseyear(e.yearrange.minyear,e.yearrange.maxyear,a).toString().slice(0,2),e.isInYearRange(g+a,e.yearrange.minyear,e.yearrange.maxyear)){var h=b.buffer.join("").substr(0,6);if(h!=e.leapday)f=!0;else{var i=parseInt(a,10);f=i%4===0?i%100===0?i%400===0?!0:!1:!0:!1}}else f=!1;if(f)return b.buffer[c-1]=g.charAt(0),b.buffer[c++]=g.charAt(1),b.buffer[c++]=a.charAt(0),{refreshFromBuffer:{start:c-3,end:c},pos:c}}return f},cardinality:2},{validator:function(a,b,c,d,e){return e.isInYearRange(a,e.yearrange.minyear,e.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(b){var c=a.inputmask.escapeRegex.call(this,b);return new RegExp("((0[13-9]|1[012])"+c+"[0-3])|(02"+c+"[0-2])")},val2:function(b){var c=a.inputmask.escapeRegex.call(this,b);return new RegExp("((0[1-9]|1[012])"+c+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+c+"30)|((0[13578]|1[02])"+c+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(b){var c=a(this);if(b.ctrlKey&&b.keyCode==a.inputmask.keyCode.RIGHT){var d=new Date;c.val((d.getMonth()+1).toString()+d.getDate().toString()+d.getFullYear().toString()),c.triggerHandler("setvalue.inputmask")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(b){var c=a(this);if(b.ctrlKey&&b.keyCode==a.inputmask.keyCode.RIGHT){var d=new Date;c.val(d.getFullYear().toString()+(d.getMonth()+1).toString()+d.getDate().toString()),c.triggerHandler("setvalue.inputmask")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(a,b,c,d,e){if("24"==e.hourFormat&&24==parseInt(a,10))return b.buffer[c-1]="0",b.buffer[c]="0",{refreshFromBuffer:{start:c-1,end:c},c:"0"};var f=e.regex.hrs.test(a);if(!d&&!f&&(a.charAt(1)==e.timeseparator||-1!="-.:".indexOf(a.charAt(1)))&&(f=e.regex.hrs.test("0"+a.charAt(0))))return b.buffer[c-1]="0",b.buffer[c]=a.charAt(0),c++,{refreshFromBuffer:{start:c-2,end:c},pos:c,c:e.timeseparator};if(f&&"24"!==e.hourFormat&&e.regex.hrs24.test(a)){var g=parseInt(a,10);return 24==g?(b.buffer[c+5]="a",b.buffer[c+6]="m"):(b.buffer[c+5]="p",b.buffer[c+6]="m"),g-=12,10>g?(b.buffer[c]=g.toString(),b.buffer[c-1]="0"):(b.buffer[c]=g.toString().charAt(1),b.buffer[c-1]=g.toString().charAt(0)),{refreshFromBuffer:{start:c-1,end:c+6},c:b.buffer[c]}}return f},cardinality:2,prevalidator:[{validator:function(a,b,c,d,e){var f=e.regex.hrspre.test(a);return d||f||!(f=e.regex.hrs.test("0"+a))?f:(b.buffer[c]="0",c++,{pos:c})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(a,b,c,d,e){var f=e.regex.mspre.test(a);return d||f||!(f=e.regex.ms.test("0"+a))?f:(b.buffer[c]="0",c++,{pos:c})},cardinality:1}]},t:{validator:function(a,b,c,d,e){return e.regex.ampm.test(a+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}}),a.fn.inputmask}(jQuery),function(a){return a.extend(a.inputmask.defaults.definitions,{A:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1,casing:"upper"}}),a.extend(a.inputmask.defaults.aliases,{url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:new RegExp("[fh]"),urlpre2:new RegExp("(ft|ht)"),urlpre3:new RegExp("(ftp|htt)"),urlpre4:new RegExp("(ftp:|http|ftps)"),urlpre5:new RegExp("(ftp:/|ftps:|http:|https)"),urlpre6:new RegExp("(ftp://|ftps:/|http:/|https:)"),urlpre7:new RegExp("(ftp://|ftps://|http://|https:/)"),urlpre8:new RegExp("(ftp://|ftps://|http://|https://)")},definitions:{i:{validator:function(){return!0},cardinality:8,prevalidator:function(){for(var a=[],b=8,c=0;b>c;c++)a[c]=function(){var a=c;return{validator:function(b,c,d,e,f){if(f.regex["urlpre"+(a+1)]){var g,h=b;a+1-b.length>0&&(h=c.buffer.join("").substring(0,a+1-b.length)+""+h);var i=f.regex["urlpre"+(a+1)].test(h);if(!e&&!i){for(d-=a,g=0;g<f.defaultPrefix.length;g++)c.buffer[d]=f.defaultPrefix[g],d++;for(g=0;g<h.length-1;g++)c.buffer[d]=h[g],d++;return{pos:d}}return i}return!1},cardinality:a}}();return a}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(a,b,c){return c-1>-1&&"."!=b.buffer[c-1]?(a=b.buffer[c-1]+a,a=c-2>-1&&"."!=b.buffer[c-2]?b.buffer[c-2]+a:"0"+a):a="00"+a,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(a)},cardinality:1}}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,64}]@*{1,64}[.*{2,64}][.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(a){return a=a.toLowerCase(),a.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"}}}}),a.fn.inputmask}(jQuery),function(a){return a.extend(a.inputmask.defaults.aliases,{numeric:{mask:function(a){function b(b){for(var c="",d=0;d<b.length;d++)c+=a.definitions[b[d]]?"\\"+b[d]:b[d];return c}if(0!==a.repeat&&isNaN(a.integerDigits)&&(a.integerDigits=a.repeat),a.repeat=0,a.groupSeparator==a.radixPoint&&(a.groupSeparator="."==a.radixPoint?",":","==a.radixPoint?".":"")," "===a.groupSeparator&&(a.skipOptionalPartCharacter=void 0),a.autoGroup=a.autoGroup&&""!=a.groupSeparator,a.autoGroup&&("string"==typeof a.groupSize&&isFinite(a.groupSize)&&(a.groupSize=parseInt(a.groupSize)),isFinite(a.integerDigits))){var c=Math.floor(a.integerDigits/a.groupSize),d=a.integerDigits%a.groupSize;a.integerDigits=parseInt(a.integerDigits)+(0==d?c-1:c)}a.radixFocus=a.radixFocus&&"0"==a.placeholder,a.definitions[";"]=a.definitions["~"];var e=b(a.prefix);return e+="[+]",e+="~{1,"+a.integerDigits+"}",void 0!=a.digits&&(isNaN(a.digits)||parseInt(a.digits)>0)&&(e+=a.digitsOptional?"["+(a.decimalProtect?":":a.radixPoint)+";{"+a.digits+"}]":(a.decimalProtect?":":a.radixPoint)+";{"+a.digits+"}"),e+=b(a.suffix),e+="[-]",a.greedy=!1,e},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,groupSeparator:"",radixPoint:".",radixFocus:!0,groupSize:3,autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:void 0,max:void 0,postFormat:function(b,c,d,e){var f=!1;b.length>=e.suffix.length&&b.join("").indexOf(e.suffix)==b.length-e.suffix.length&&(b.length=b.length-e.suffix.length,f=!0),c=c>=b.length?b.length-1:c<e.prefix.length?e.prefix.length:c;var g=!1,h=b[c];if(""==e.groupSeparator||-1!=a.inArray(e.radixPoint,b)&&c>=a.inArray(e.radixPoint,b)||new RegExp("[-+]").test(h)){if(f)for(var i=0,j=e.suffix.length;j>i;i++)b.push(e.suffix.charAt(i));return{pos:c}}var k=b.slice();h==e.groupSeparator&&(k.splice(c--,1),h=k[c]),d?k[c]="?":k.splice(c,0,"?");var l=k.join(""),m=l;if(l.length>0&&e.autoGroup||d&&-1!=l.indexOf(e.groupSeparator)){var n=a.inputmask.escapeRegex.call(this,e.groupSeparator);g=0==l.indexOf(e.groupSeparator),l=l.replace(new RegExp(n,"g"),"");var o=l.split(e.radixPoint);if(l=""==e.radixPoint?l:o[0],l!=e.prefix+"?0"&&l.length>=e.groupSize+e.prefix.length)for(var p=new RegExp("([-+]?[\\d?]+)([\\d?]{"+e.groupSize+"})");p.test(l);)l=l.replace(p,"$1"+e.groupSeparator+"$2"),l=l.replace(e.groupSeparator+e.groupSeparator,e.groupSeparator);""!=e.radixPoint&&o.length>1&&(l+=e.radixPoint+o[1])}g=m!=l,b.length=l.length;for(var i=0,j=l.length;j>i;i++)b[i]=l.charAt(i);var q=a.inArray("?",b);if(d?b[q]=h:b.splice(q,1),!g&&f)for(var i=0,j=e.suffix.length;j>i;i++)b.push(e.suffix.charAt(i));return{pos:q,refreshFromBuffer:g,buffer:b}},onBeforeWrite:function(b,c,d,e){if(b&&"blur"==b.type){var f=c.join(""),g=f.replace(e.prefix,"");if(g=g.replace(e.suffix,""),g=g.replace(new RegExp(a.inputmask.escapeRegex.call(this,e.groupSeparator),"g"),""),g=g.replace(a.inputmask.escapeRegex.call(this,e.radixPoint),"."),isFinite(g)&&isFinite(e.min)&&parseFloat(g)<parseFloat(e.min))return e.postFormat((e.prefix+e.min).split(""),0,!0,e);var h=""!=e.radixPoint?c.join("").split(e.radixPoint):[c.join("")],i=h[0].match(e.regex.integerPart(e)),j=2==h.length?h[1].match(e.regex.integerNPart(e)):void 0;!i||i[0]!=e.negationSymbol.front+"0"&&i[0]!=e.negationSymbol.front&&"+"!=i[0]||void 0!=j&&!j[0].match(/^0+$/)||c.splice(i.index,1);var k=a.inArray(e.radixPoint,c);if(-1!=k&&isFinite(e.digits)&&!e.digitsOptional){for(var l=1;l<=e.digits;l++)(void 0==c[k+l]||c[k+l]==e.placeholder.charAt(0))&&(c[k+l]="0");return{refreshFromBuffer:!0,buffer:c}}}if(e.autoGroup){var m=e.postFormat(c,d-1,!0,e);return m.caret=d<=e.prefix.length?m.pos:m.pos+1,m}},regex:{integerPart:function(b){return new RegExp("["+a.inputmask.escapeRegex.call(this,b.negationSymbol.front)+"+]?\\d*")},integerNPart:function(b){return new RegExp("[\\d"+a.inputmask.escapeRegex.call(this,b.groupSeparator)+"]+")}},signHandler:function(a,b,c,d,e){if(!d&&e.allowMinus&&"-"===a||e.allowPlus&&"+"===a){var f=b.buffer.join("").match(e.regex.integerPart(e));if(f&&f[0].length>0)return b.buffer[f.index]==("-"===a?"+":e.negationSymbol.front)?{pos:f.index,c:"-"===a?e.negationSymbol.front:"+",remove:f.index,caret:c}:b.buffer[f.index]==("-"===a?e.negationSymbol.front:"+")?{remove:f.index,caret:c-1}:{pos:f.index,c:"-"===a?e.negationSymbol.front:"+",caret:c+1}}return!1},radixHandler:function(b,c,d,e,f){if(!e&&b===f.radixPoint&&f.digits>0){var g=a.inArray(f.radixPoint,c.buffer),h=c.buffer.join("").match(f.regex.integerPart(f));if(-1!=g&&c.validPositions[g])return c.validPositions[g-1]?{caret:g+1}:{pos:h.index,c:h[0],caret:g+1};if(!h||"0"==h[0]&&h.index+1!=d)return c.buffer[h?h.index:d]="0",{pos:(h?h.index:d)+1}}return!1},leadingZeroHandler:function(b,c,d,e,f){var g=c.buffer.join("").match(f.regex.integerNPart(f)),h=a.inArray(f.radixPoint,c.buffer);if(g&&!e&&(-1==h||h>=d))if(0==g[0].indexOf("0")){d<f.prefix.length&&(d=g.index);var i=a.inArray(f.radixPoint,c._buffer),j=c._buffer&&c.buffer.slice(h).join("")==c._buffer.slice(i).join("")||0==parseInt(c.buffer.slice(h+1).join("")),k=c._buffer&&c.buffer.slice(g.index,h).join("")==c._buffer.slice(f.prefix.length,i).join("")||"0"==c.buffer.slice(g.index,h).join("");if(-1==h||j&&k)return c.buffer.splice(g.index,1),d=d>g.index?d-1:g.index,{pos:d,remove:g.index};if(g.index+1==d||"0"==b)return c.buffer.splice(g.index,1),d=g.index,{pos:d,remove:g.index}}else if("0"===b&&d<=g.index&&g[0]!=f.groupSeparator)return!1;return!0},postValidation:function(b,c){var d=!0,e=b.join(""),f=e.replace(c.prefix,"");return f=f.replace(c.suffix,""),f=f.replace(new RegExp(a.inputmask.escapeRegex.call(this,c.groupSeparator),"g"),""),f=f.replace(a.inputmask.escapeRegex.call(this,c.radixPoint),"."),isFinite(f)&&isFinite(c.max)&&(d=parseFloat(f)<=parseFloat(c.max)),d},definitions:{"~":{validator:function(b,c,d,e,f){var g=f.signHandler(b,c,d,e,f);if(!g&&(g=f.radixHandler(b,c,d,e,f),!g&&(g=e?new RegExp("[0-9"+a.inputmask.escapeRegex.call(this,f.groupSeparator)+"]").test(b):new RegExp("[0-9]").test(b),g===!0&&(g=f.leadingZeroHandler(b,c,d,e,f),g===!0)))){var h=a.inArray(f.radixPoint,c.buffer);g=f.digitsOptional===!1&&d>h&&!e?{pos:d,remove:d}:{pos:d}}return g},cardinality:1,prevalidator:null},"+":{validator:function(a,b,c,d,e){var f=e.signHandler(a,b,c,d,e);return!f&&(d&&e.allowMinus&&a===e.negationSymbol.front||e.allowMinus&&"-"==a||e.allowPlus&&"+"==a)&&(f=!0),f},cardinality:1,prevalidator:null,placeholder:""},"-":{validator:function(a,b,c,d,e){var f=e.signHandler(a,b,c,d,e);return!f&&d&&e.allowMinus&&a===e.negationSymbol.back&&(f=!0),f},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(b,c,d,e,f){var g=f.signHandler(b,c,d,e,f);if(!g){var h="["+a.inputmask.escapeRegex.call(this,f.radixPoint)+"]";g=new RegExp(h).test(b),g&&c.validPositions[d]&&c.validPositions[d].match.placeholder==f.radixPoint&&(g={caret:d+1})}return g},cardinality:1,prevalidator:null,placeholder:function(a){return a.radixPoint}}},insertMode:!0,autoUnmask:!1,onUnMask:function(b,c,d){var e=b.replace(d.prefix,"");return e=e.replace(d.suffix,""),e=e.replace(new RegExp(a.inputmask.escapeRegex.call(this,d.groupSeparator),"g"),"")},isComplete:function(b,c){var d=b.join(""),e=b.slice();if(c.postFormat(e,0,!0,c),e.join("")!=d)return!1;var f=d.replace(c.prefix,"");return f=f.replace(c.suffix,""),f=f.replace(new RegExp(a.inputmask.escapeRegex.call(this,c.groupSeparator),"g"),""),","===c.radixPoint&&(f=f.replace(a.inputmask.escapeRegex.call(this,c.radixPoint),".")),isFinite(f)},onBeforeMask:function(b,c){if(""!=c.radixPoint&&isFinite(b))b=b.toString().replace(".",c.radixPoint);else{var d=b.match(/,/g),e=b.match(/\./g);e&&d?e.length>d.length?(b=b.replace(/\./g,""),b=b.replace(",",c.radixPoint)):d.length>e.length?(b=b.replace(/,/g,""),b=b.replace(".",c.radixPoint)):b=b.indexOf(".")<b.indexOf(",")?b.replace(/\./g,""):b=b.replace(/,/g,""):b=b.replace(new RegExp(a.inputmask.escapeRegex.call(this,c.groupSeparator),"g"),"")}return 0==c.digits&&(-1!=b.indexOf(".")?b=b.substring(0,b.indexOf(".")):-1!=b.indexOf(",")&&(b=b.substring(0,b.indexOf(",")))),b},canClearPosition:function(b,c,d,e,f){var g=b.validPositions[c].input,h=g!=f.radixPoint&&isFinite(g)||c==d||g==f.groupSeparator||g==f.negationSymbol.front||g==f.negationSymbol.back;if(h&&isFinite(g)){var i=b.buffer.join("").substr(0,c).match(f.regex.integerNPart(f));if(!e){var j=c+1,k=null==i||0==parseInt(i[0].replace(new RegExp(a.inputmask.escapeRegex.call(this,f.groupSeparator),"g"),""));if(k)for(;b.validPositions[j]&&(b.validPositions[j].input==f.groupSeparator||"0"==b.validPositions[j].input);)delete b.validPositions[j],j++}var l=[];for(var m in b.validPositions)l.push(b.validPositions[m].input);i=l.join("").match(f.regex.integerNPart(f));var n=a.inArray(f.radixPoint,b.buffer);if(i&&(-1==n||n>=c))if(0==i[0].indexOf("0"))h=i.index!=c||-1==n;else{var o=parseInt(i[0].replace(new RegExp(a.inputmask.escapeRegex.call(this,f.groupSeparator),"g"),""));-1!=n&&10>o&&"0"==f.placeholder.charAt(0)&&(b.validPositions[c].input="0",b.p=f.prefix.length+1,h=!1)}}return h}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:"0",radixPoint:""}}),a.fn.inputmask}(jQuery),function(a){return a.extend(a.inputmask.defaults.aliases,{phone:{url:"phone-codes/phone-codes.js",maskInit:"+pp(pp)pppppppp",countrycode:"",mask:function(b){b.definitions={p:{validator:function(){return!1},cardinality:1},"#":{validator:"[0-9]",cardinality:1}};var c=[];return a.ajax({url:b.url,async:!1,dataType:"json",success:function(a){c=a},error:function(a,c,d){alert(d+" - "+b.url)}}),c=c.sort(function(a,b){return(a.mask||a)<(b.mask||b)?-1:1}),""!=b.countrycode&&(b.maskInit="+"+b.countrycode+b.maskInit.substring(3)),c.splice(0,0,b.maskInit),c},nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(a,b){var c=a.replace(/^0/g,"");return(c.indexOf(b.countrycode)>1||-1==c.indexOf(b.countrycode))&&(c="+"+b.countrycode+c),c}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}}),a.fn.inputmask}(jQuery),function(a){return a.extend(a.inputmask.defaults.aliases,{Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(a,b){return new RegExp(b.regex).test(a.join(""))},definitions:{r:{validator:function(b,c,d,e,f){function g(a,b){this.matches=[],this.isGroup=a||!1,this.isQuantifier=b||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function h(){var a,b,c=new g,d=[];for(f.regexTokens=[];a=f.tokenizer.exec(f.regex);)switch(b=a[0],b.charAt(0)){case"(":d.push(new g(!0));break;case")":var e=d.pop();d.length>0?d[d.length-1].matches.push(e):c.matches.push(e);break;case"{":case"+":case"*":var h=new g(!1,!0);b=b.replace(/[{}]/g,"");var i=b.split(","),j=isNaN(i[0])?i[0]:parseInt(i[0]),k=1==i.length?j:isNaN(i[1])?i[1]:parseInt(i[1]);if(h.quantifier={min:j,max:k},d.length>0){var l=d[d.length-1].matches;if(a=l.pop(),!a.isGroup){var e=new g(!0);e.matches.push(a),a=e}l.push(a),l.push(h)}else{if(a=c.matches.pop(),!a.isGroup){var e=new g(!0);e.matches.push(a),a=e}c.matches.push(a),c.matches.push(h)}break;default:d.length>0?d[d.length-1].matches.push(b):c.matches.push(b)}c.matches.length>0&&f.regexTokens.push(c)}function i(b,c){var d=!1;c&&(k+="(",m++);for(var e=0;e<b.matches.length;e++){var f=b.matches[e];if(1==f.isGroup)d=i(f,!0);else if(1==f.isQuantifier){var g=a.inArray(f,b.matches),h=b.matches[g-1],j=k;if(isNaN(f.quantifier.max)){for(;f.repeaterPart&&f.repeaterPart!=k&&f.repeaterPart.length>k.length&&!(d=i(h,!0)););d=d||i(h,!0),d&&(f.repeaterPart=k),k=j+f.quantifier.max}else{for(var l=0,o=f.quantifier.max-1;o>l&&!(d=i(h,!0));l++);k=j+"{"+f.quantifier.min+","+f.quantifier.max+"}"}}else if(void 0!=f.matches)for(var p=0;p<f.length&&!(d=i(f[p],c));p++);else{var q;if("["==f.charAt(0)){q=k,q+=f;for(var r=0;m>r;r++)q+=")";var s=new RegExp("^("+q+")$");d=s.test(n)}else for(var t=0,u=f.length;u>t;t++)if("\\"!=f.charAt(t)){q=k,q+=f.substr(0,t+1),q=q.replace(/\|$/,"");for(var r=0;m>r;r++)q+=")";var s=new RegExp("^("+q+")$");if(d=s.test(n))break}k+=f}if(d)break}return c&&(k+=")",m--),d}null==f.regexTokens&&h();var j=c.buffer.slice(),k="",l=!1,m=0;j.splice(d,0,b);for(var n=j.join(""),o=0;o<f.regexTokens.length;o++){var g=f.regexTokens[o];if(l=i(g,g.isGroup))break}return l},cardinality:1}}}}),a.fn.inputmask}(jQuery);(function($){var splitVersion=$.fn.jquery.split(".");var major=parseInt(splitVersion[0]);var minor=parseInt(splitVersion[1]);var JQ_LT_17=(major<1)||(major==1&&minor<7);function eventsData($el){return JQ_LT_17?$el.data('events'):$._data($el[0]).events;}
function moveHandlerToTop($el,eventName,isDelegated){var data=eventsData($el);var events=data[eventName];if(!JQ_LT_17){var handler=isDelegated?events.splice(events.delegateCount-1,1)[0]:events.pop();events.splice(isDelegated?0:(events.delegateCount||0),0,handler);return;}
if(isDelegated){data.live.unshift(data.live.pop());}else{events.unshift(events.pop());}}
function moveEventHandlers($elems,eventsString,isDelegate){var events=eventsString.split(/\s+/);$elems.each(function(){for(var i=0;i<events.length;++i){var pureEventName=$.trim(events[i]).match(/[^\.]+/i)[0];moveHandlerToTop($(this),pureEventName,isDelegate);}});}
function makeMethod(methodName){$.fn[methodName+'First']=function(){var args=$.makeArray(arguments);var eventsString=args.shift();if(eventsString){$.fn[methodName].apply(this,arguments);moveEventHandlers(this,eventsString);}
return this;}}
makeMethod('bind');makeMethod('one');$.fn.delegateFirst=function(){var args=$.makeArray(arguments);var eventsString=args[1];if(eventsString){args.splice(0,2);$.fn.delegate.apply(this,arguments);moveEventHandlers(this,eventsString,true);}
return this;};$.fn.liveFirst=function(){var args=$.makeArray(arguments);args.unshift(this.selector);$.fn.delegateFirst.apply($(document),args);return this;};if(!JQ_LT_17){$.fn.onFirst=function(types,selector){var $el=$(this);var isDelegated=typeof selector==='string';$.fn.on.apply($el,arguments);if(typeof types==='object'){for(type in types)
if(types.hasOwnProperty(type)){moveEventHandlers($el,type,isDelegated);}}else if(typeof types==='string'){moveEventHandlers($el,types,isDelegated);}
return $el;};}})(jQuery);(function($){$.masksLoad=function(url){var maskList;$.ajax({url:url,async:false,dataType:'json',success:function(response){maskList=response;}});return maskList;}
$.masksSort=function(maskList,defs,match,key){maskList.sort(function(a,b){var ia=0,ib=0;for(;(ia<a[key].length&&ib<b[key].length);){var cha=a[key].charAt(ia);var chb=b[key].charAt(ib);if(!match.test(cha)){ia++;continue;}
if(!match.test(chb)){ib++;continue;}
if($.inArray(cha,defs)!=-1&&$.inArray(chb,defs)==-1){return 1;}
if($.inArray(cha,defs)==-1&&$.inArray(chb,defs)!=-1){return-1;}
if($.inArray(cha,defs)==-1&&$.inArray(chb,defs)==-1){if(cha!=chb){return cha<chb?-1:1;}}
ia++;ib++;}
for(;(ia<a[key].length||ib<b[key].length);){if(ia<a[key].length&&!match.test(a[key].charAt(ia))){ia++;continue;}
if(ib<b[key].length&&!match.test(b[key].charAt(ib))){ib++;continue;}
if(ia<a[key].length){return 1;}
if(ib<b[key].length){return-1;}}
return 0;});return maskList;}
$.fn.inputmasks=function(maskOpts,mode){var caret=function(begin,end){if(typeof begin=='number'){end=(typeof end=='number')?end:begin;if(this.setSelectionRange){this.setSelectionRange(begin,end);}else if(this.createTextRange){var range=this.createTextRange();range.collapse(true);range.moveEnd('character',end);range.moveStart('character',begin);range.select();}}else{if(this.setSelectionRange){begin=this.selectionStart;end=this.selectionEnd;}else if(document.selection&&document.selection.createRange){var range=document.selection.createRange();begin=0-range.duplicate().moveStart('character',-100000);end=begin+range.text.length;}
return{begin:begin,end:end};}};var keys=Object.keys||function(obj){if(obj!==Object(obj)){throw new TypeError('Invalid object');}
var keys=[];for(var key in obj){keys[keys.length]=key;}
return keys;};maskOpts=$.extend(true,{onMaskChange:$.noop},maskOpts);var defs={};for(var def in maskOpts.inputmask.definitions){var validator=maskOpts.inputmask.definitions[def].validator;switch(typeof validator){case"string":defs[def]=new RegExp(validator);break;case"object":if("test"in maskOpts.definitions[def].validator){defs[def]=validator;}
break;case"function":defs[def]={test:validator};break;}}
maskOpts.inputmask.definitions[maskOpts.replace]={validator:maskOpts.match.source,cardinality:1};var iphone=navigator.userAgent.match(/iphone/i)!=null;var oldmatch=false;var placeholder=$.extend(true,{},$.inputmask.defaults,maskOpts.inputmask).placeholder;var insertMode=$.extend(true,{},$.inputmask.defaults,maskOpts.inputmask).insertMode;var maskMatch=function(text){var mtxt="";for(var i=0;i<text.length;i++){var ch=text.charAt(i);if(ch==placeholder){break;}
if(maskOpts.match.test(ch)){mtxt+=ch;}}
for(var mid in maskOpts.list){var mask=maskOpts.list[mid][maskOpts.listKey];var pass=true;for(var it=0,im=0;(it<mtxt.length&&im<mask.length);){var chm=mask.charAt(im);var cht=mtxt.charAt(it);if(!maskOpts.match.test(chm)&&!(chm in defs)){im++;continue;}
if(((chm in defs)&&defs[chm].test(cht))||(cht==chm)){it++;im++;}else{pass=false;break;}}
if(pass&&it==mtxt.length){var determined=mask.substr(im).search(maskOpts.match)==-1;mask=mask.replace(new RegExp([maskOpts.match.source].concat(keys(defs)).join('|'),'g'),maskOpts.replace);var completed=mask.substr(im).search(maskOpts.replace)==-1;return{mask:mask,obj:maskOpts.list[mid],determined:determined,completed:completed};}}
return false;}
var caretApply=function(oldMask,newMask,oldPos){if(!oldMask){return 0;}
var pos=0,startPos=0;for(;pos<oldPos.begin;pos++){if(oldMask.charAt(pos)==maskOpts.replace){startPos++;}}
var endPos=0;for(;pos<oldPos.end;pos++){if(oldMask.charAt(pos)==maskOpts.replace){endPos++;}}
for(pos=0;(pos<newMask.length&&(startPos>0||newMask.charAt(pos)!=maskOpts.replace));pos++){if(newMask.charAt(pos)==maskOpts.replace){startPos--;}}
startPos=pos;for(;(pos<newMask.length&&endPos>0);pos++){if(newMask.charAt(pos)==maskOpts.replace){endPos--;}}
endPos=pos;return{begin:startPos,end:endPos};}
var maskUnbind=function(){$(this).unbind("keypress.inputmask",masksKeyPress).unbind("input.inputmask",masksPaste).unbind("paste.inputmask",masksPaste).unbind("dragdrop.inputmask",masksPaste).unbind("drop.inputmask",masksPaste).unbind("keydown.inputmask",masksKeyDown).unbind("setvalue.inputmask",masksSetValue).unbind("blur.inputmask",masksChange);}
var maskRebind=function(){maskUnbind.call(this);$(this).bindFirst("keypress.inputmask",masksKeyPress).bindFirst("input.inputmask",masksPaste).bindFirst("paste.inputmask",masksPaste).bindFirst("dragdrop.inputmask",masksPaste).bindFirst("drop.inputmask",masksPaste).bindFirst("keydown.inputmask",masksKeyDown).bindFirst("setvalue.inputmask",masksSetValue).bind("blur.inputmask",masksChange);}
var maskApply=function(match,newtext){if(match&&(newtext||match.mask!=oldmatch.mask)){var caretPos;if(!newtext){caretPos=caretApply(oldmatch.mask,match.mask,caret.call(this));}
if(newtext){if(this._valueSet){this._valueSet(newtext);}else{this.value=newtext;}}
$(this).inputmask(match.mask,$.extend(true,maskOpts.inputmask,{insertMode:insertMode}));if(!newtext){caret.call(this,caretPos.begin,caretPos.end);}}
oldmatch=match;maskOpts.onMaskChange.call(this,match.obj,match.determined);return true;}
var keyboardApply=function(e,text,insert){var match=maskMatch(text);if(!match||match.obj!=oldmatch.obj||match.determined!=oldmatch.determined){if(match){maskUnbind.call(this);if(insert){maskApply.call(this,match);$(this).trigger(e);}else{$(this).trigger(e);maskApply.call(this,match);}
maskRebind.call(this);}
e.stopImmediatePropagation();return false;}
return true;}
var masksKeyDown=function(e){e=e||window.event;var k=e.which||e.charCode||e.keyCode;if(k==8||k==46||(iphone&&k==127)){var text=this._valueGet();var caretPos=caret.call(this);if(caretPos.begin==caretPos.end||(!insertMode&&caretPos.begin==caretPos.end-1)){var pos=caretPos.begin;do{if(k!=46){pos--;}
var chr=text.charAt(pos);text=text.substring(0,pos)+text.substring(pos+1);}while(pos>0&&pos<text.length&&chr!=placeholder&&!maskOpts.match.test(chr));}else{var test=text.substring(0,caretPos.begin)+text.substring(caretPos.end);if(test.search(maskOpts.match)==-1){text=test;}}
return keyboardApply.call(this,e,text,false);}
if(k==45){insertMode=!insertMode;}
return true;}
var masksKeyPress=function(e){var text=this._valueGet();e=e||window.event;var k=e.which||e.charCode||e.keyCode,c=String.fromCharCode(k);caretPos=caret.call(this);text=text.substring(0,caretPos.begin)+c+text.substring(caretPos.end);return keyboardApply.call(this,e,text,true);}
var masksChange=function(e){var match=maskMatch(this._valueGet());maskApply.call(this,match);maskRebind.call(this);return true;}
var masksSetValue=function(e){maskInit.call(this);e.stopImmediatePropagation();return true;}
var maskInit=function(){var text;if(this._valueGet){text=this._valueGet();}else{text=this.value;}
var match=maskMatch(text);while(!match&&text.length>0){text=text.substr(0,text.length-1);match=maskMatch(text);}
maskApply.call(this,match,text);maskRebind.call(this);}
var masksPaste=function(e){var input=this;setTimeout(function(){maskInit.call(input);},0);e.stopImmediatePropagation();return true;}
switch(mode){case"isCompleted":var res=maskMatch((this[0]._valueGet&&this[0]._valueGet())||this[0].value);return(res&&res.completed);default:this.each(function(){maskInit.call(this);});return this;}}})(jQuery);if(typeof Object.create!=="function"){Object.create=function(b){function a(){}a.prototype=b;return new a()}}(function(c,b,a,e){var d={init:function(f,g){var h=this;h.$elem=c(g);h.options=c.extend({},c.fn.owlCarousel.options,h.$elem.data(),f);h.userOptions=f;h.loadContent()},loadContent:function(){var h=this;if(typeof h.options.beforeInit==="function"){h.options.beforeInit.apply(this,[h.$elem])}if(typeof h.options.jsonPath==="string"){var g=h.options.jsonPath;function f(l){if(typeof h.options.jsonSuccess==="function"){h.options.jsonSuccess.apply(this,[l])}else{var k="";for(var j in l.owl){k+=l.owl[j]["item"]}h.$elem.html(k)}h.logIn()}c.getJSON(g,f)}else{h.logIn()}},logIn:function(g){var f=this;f.$elem.data("owl-originalStyles",f.$elem.attr("style")).data("owl-originalClasses",f.$elem.attr("class"));f.$elem.css({opacity:0});f.orignalItems=f.options.items;f.checkBrowser();f.wrapperWidth=0;f.checkVisible;f.setVars()},setVars:function(){var f=this;if(f.$elem.children().length===0){return false}f.baseClass();f.eventTypes();f.$userItems=f.$elem.children();f.itemsAmount=f.$userItems.length;f.wrapItems();f.$owlItems=f.$elem.find(".owl-item");f.$owlWrapper=f.$elem.find(".owl-wrapper");f.playDirection="next";f.prevItem=0;f.prevArr=[0];f.currentItem=0;f.customEvents();f.onStartup()},onStartup:function(){var f=this;f.updateItems();f.calculateAll();f.buildControls();f.updateControls();f.response();f.moveEvents();f.stopOnHover();f.owlStatus();if(f.options.transitionStyle!==false){f.transitionTypes(f.options.transitionStyle)}if(f.options.autoPlay===true){f.options.autoPlay=5000}f.play();f.$elem.find(".owl-wrapper").css("display","block");if(!f.$elem.is(":visible")){f.watchVisibility()}else{f.$elem.css("opacity",1)}f.onstartup=false;f.eachMoveUpdate();if(typeof f.options.afterInit==="function"){f.options.afterInit.apply(this,[f.$elem])}},eachMoveUpdate:function(){var f=this;if(f.options.lazyLoad===true){f.lazyLoad()}if(f.options.autoHeight===true){f.autoHeight()}f.onVisibleItems();if(typeof f.options.afterAction==="function"){f.options.afterAction.apply(this,[f.$elem])}},updateVars:function(){var f=this;if(typeof f.options.beforeUpdate==="function"){f.options.beforeUpdate.apply(this,[f.$elem])}f.watchVisibility();f.updateItems();f.calculateAll();f.updatePosition();f.updateControls();f.eachMoveUpdate();if(typeof f.options.afterUpdate==="function"){f.options.afterUpdate.apply(this,[f.$elem])}},reload:function(g){var f=this;setTimeout(function(){f.updateVars()},0)},watchVisibility:function(){var f=this;if(f.$elem.is(":visible")===false){f.$elem.css({opacity:0});clearInterval(f.autoPlayInterval);clearInterval(f.checkVisible)}else{return false}f.checkVisible=setInterval(function(){if(f.$elem.is(":visible")){f.reload();f.$elem.animate({opacity:1},200);clearInterval(f.checkVisible)}},500)},wrapItems:function(){var f=this;f.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>');f.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">');f.wrapperOuter=f.$elem.find(".owl-wrapper-outer");f.$elem.css("display","block")},baseClass:function(){var h=this;var f=h.$elem.hasClass(h.options.baseClass);var g=h.$elem.hasClass(h.options.theme);if(!f){h.$elem.addClass(h.options.baseClass)}if(!g){h.$elem.addClass(h.options.theme)}},updateItems:function(){var h=this;if(h.options.responsive===false){return false}if(h.options.singleItem===true){h.options.items=h.orignalItems=1;h.options.itemsCustom=false;h.options.itemsDesktop=false;h.options.itemsDesktopSmall=false;h.options.itemsTablet=false;h.options.itemsTabletSmall=false;h.options.itemsMobile=false;return false}var g=c(h.options.responsiveBaseWidth).width();if(g>(h.options.itemsDesktop[0]||h.orignalItems)){h.options.items=h.orignalItems}if(typeof(h.options.itemsCustom)!=="undefined"&&h.options.itemsCustom!==false){h.options.itemsCustom.sort(function(j,i){return j[0]-i[0]});for(var f in h.options.itemsCustom){if(typeof(h.options.itemsCustom[f])!=="undefined"&&h.options.itemsCustom[f][0]<=g){h.options.items=h.options.itemsCustom[f][1]}}}else{if(g<=h.options.itemsDesktop[0]&&h.options.itemsDesktop!==false){h.options.items=h.options.itemsDesktop[1]}if(g<=h.options.itemsDesktopSmall[0]&&h.options.itemsDesktopSmall!==false){h.options.items=h.options.itemsDesktopSmall[1]}if(g<=h.options.itemsTablet[0]&&h.options.itemsTablet!==false){h.options.items=h.options.itemsTablet[1]}if(g<=h.options.itemsTabletSmall[0]&&h.options.itemsTabletSmall!==false){h.options.items=h.options.itemsTabletSmall[1]}if(g<=h.options.itemsMobile[0]&&h.options.itemsMobile!==false){h.options.items=h.options.itemsMobile[1]}}if(h.options.items>h.itemsAmount&&h.options.itemsScaleUp===true){h.options.items=h.itemsAmount}},response:function(){var h=this,g;if(h.options.responsive!==true){return false}var f=c(b).width();h.resizer=function(){if(c(b).width()!==f){if(h.options.autoPlay!==false){clearInterval(h.autoPlayInterval)}clearTimeout(g);g=setTimeout(function(){f=c(b).width();h.updateVars()},h.options.responsiveRefreshRate)}};c(b).resize(h.resizer)},updatePosition:function(){var f=this;f.jumpTo(f.currentItem);if(f.options.autoPlay!==false){f.checkAp()}},appendItemsSizes:function(){var h=this;var f=0;var g=h.itemsAmount-h.options.items;h.$owlItems.each(function(i){var j=c(this);j.css({width:h.itemWidth}).data("owl-item",Number(i));if(i%h.options.items===0||i===g){if(!(i>g)){f+=1}}j.data("owl-roundPages",f)})},appendWrapperSizes:function(){var g=this;var f=0;var f=g.$owlItems.length*g.itemWidth;g.$owlWrapper.css({width:f*2,left:0});g.appendItemsSizes()},calculateAll:function(){var f=this;f.calculateWidth();f.appendWrapperSizes();f.loops();f.max()},calculateWidth:function(){var f=this;f.itemWidth=Math.round(f.$elem.width()/f.options.items)},max:function(){var f=this;var g=((f.itemsAmount*f.itemWidth)-f.options.items*f.itemWidth)*-1;if(f.options.items>f.itemsAmount){f.maximumItem=0;g=0;f.maximumPixels=0}else{f.maximumItem=f.itemsAmount-f.options.items;f.maximumPixels=g}return g},min:function(){return 0},loops:function(){var l=this;l.positionsInArray=[0];l.pagesInArray=[];var k=0;var h=0;for(var g=0;g<l.itemsAmount;g++){h+=l.itemWidth;l.positionsInArray.push(-h);if(l.options.scrollPerPage===true){var j=c(l.$owlItems[g]);var f=j.data("owl-roundPages");if(f!==k){l.pagesInArray[k]=l.positionsInArray[g];k=f}}}},buildControls:function(){var f=this;if(f.options.navigation===true||f.options.pagination===true){f.owlControls=c('<div class="owl-controls"/>').toggleClass("clickable",!f.browser.isTouch).appendTo(f.$elem)}if(f.options.pagination===true){f.buildPagination()}if(f.options.navigation===true){f.buildButtons()}},buildButtons:function(){var g=this;var f=c('<div class="owl-buttons"/>');g.owlControls.append(f);g.buttonPrev=c("<div/>",{"class":"owl-prev",html:g.options.navigationText[0]||""});g.buttonNext=c("<div/>",{"class":"owl-next",html:g.options.navigationText[1]||""});f.append(g.buttonPrev).append(g.buttonNext);f.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(h){h.preventDefault()});f.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(h){h.preventDefault();if(c(this).hasClass("owl-next")){g.next()}else{g.prev()}})},buildPagination:function(){var f=this;f.paginationWrapper=c('<div class="owl-pagination"/>');f.owlControls.append(f.paginationWrapper);f.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(g){g.preventDefault();if(Number(c(this).data("owl-page"))!==f.currentItem){f.goTo(Number(c(this).data("owl-page")),true)}})},updatePagination:function(){var m=this;if(m.options.pagination===false){return false}m.paginationWrapper.html("");var g=0;var l=m.itemsAmount-m.itemsAmount%m.options.items;for(var j=0;j<m.itemsAmount;j++){if(j%m.options.items===0){g+=1;if(l===j){var k=m.itemsAmount-m.options.items}var h=c("<div/>",{"class":"owl-page"});var f=c("<span></span>",{text:m.options.paginationNumbers===true?g:"","class":m.options.paginationNumbers===true?"owl-numbers":""});h.append(f);h.data("owl-page",l===j?k:j);h.data("owl-roundPages",g);m.paginationWrapper.append(h)}}m.checkPagination()},checkPagination:function(){var f=this;if(f.options.pagination===false){return false}f.paginationWrapper.find(".owl-page").each(function(h,g){if(c(this).data("owl-roundPages")===c(f.$owlItems[f.currentItem]).data("owl-roundPages")){f.paginationWrapper.find(".owl-page").removeClass("active");c(this).addClass("active")}})},checkNavigation:function(){var f=this;if(f.options.navigation===false){return false}if(f.options.rewindNav===false){if(f.currentItem===0&&f.maximumItem===0){f.buttonPrev.addClass("disabled");f.buttonNext.addClass("disabled")}else{if(f.currentItem===0&&f.maximumItem!==0){f.buttonPrev.addClass("disabled");f.buttonNext.removeClass("disabled")}else{if(f.currentItem===f.maximumItem){f.buttonPrev.removeClass("disabled");f.buttonNext.addClass("disabled")}else{if(f.currentItem!==0&&f.currentItem!==f.maximumItem){f.buttonPrev.removeClass("disabled");f.buttonNext.removeClass("disabled")}}}}}},updateControls:function(){var f=this;f.updatePagination();f.checkNavigation();if(f.owlControls){if(f.options.items>=f.itemsAmount){f.owlControls.hide()}else{f.owlControls.show()}}},destroyControls:function(){var f=this;if(f.owlControls){f.owlControls.remove()}},next:function(g){var f=this;if(f.isTransition){return false}f.currentItem+=f.options.scrollPerPage===true?f.options.items:1;if(f.currentItem>f.maximumItem+(f.options.scrollPerPage==true?(f.options.items-1):0)){if(f.options.rewindNav===true){f.currentItem=0;g="rewind"}else{f.currentItem=f.maximumItem;return false}}f.goTo(f.currentItem,g)},prev:function(g){var f=this;if(f.isTransition){return false}if(f.options.scrollPerPage===true&&f.currentItem>0&&f.currentItem<f.options.items){f.currentItem=0}else{f.currentItem-=f.options.scrollPerPage===true?f.options.items:1}if(f.currentItem<0){if(f.options.rewindNav===true){f.currentItem=f.maximumItem;g="rewind"}else{f.currentItem=0;return false}}f.goTo(f.currentItem,g)},goTo:function(f,j,h){var i=this;if(i.isTransition){return false}if(typeof i.options.beforeMove==="function"){i.options.beforeMove.apply(this,[i.$elem])}if(f>=i.maximumItem){f=i.maximumItem}else{if(f<=0){f=0}}i.currentItem=i.owl.currentItem=f;if(i.options.transitionStyle!==false&&h!=="drag"&&i.options.items===1&&i.browser.support3d===true){i.swapSpeed(0);if(i.browser.support3d===true){i.transition3d(i.positionsInArray[f])}else{i.css2slide(i.positionsInArray[f],1)}i.afterGo();i.singleItemTransition();return false}var g=i.positionsInArray[f];if(i.browser.support3d===true){i.isCss3Finish=false;if(j===true){i.swapSpeed("paginationSpeed");setTimeout(function(){i.isCss3Finish=true},i.options.paginationSpeed)}else{if(j==="rewind"){i.swapSpeed(i.options.rewindSpeed);setTimeout(function(){i.isCss3Finish=true},i.options.rewindSpeed)}else{i.swapSpeed("slideSpeed");setTimeout(function(){i.isCss3Finish=true},i.options.slideSpeed)}}i.transition3d(g)}else{if(j===true){i.css2slide(g,i.options.paginationSpeed)}else{if(j==="rewind"){i.css2slide(g,i.options.rewindSpeed)}else{i.css2slide(g,i.options.slideSpeed)}}}i.afterGo()},jumpTo:function(f){var g=this;if(typeof g.options.beforeMove==="function"){g.options.beforeMove.apply(this,[g.$elem])}if(f>=g.maximumItem||f===-1){f=g.maximumItem}else{if(f<=0){f=0}}g.swapSpeed(0);if(g.browser.support3d===true){g.transition3d(g.positionsInArray[f])}else{g.css2slide(g.positionsInArray[f],1)}g.currentItem=g.owl.currentItem=f;g.afterGo()},afterGo:function(){var f=this;f.prevArr.push(f.currentItem);f.prevItem=f.owl.prevItem=f.prevArr[f.prevArr.length-2];f.prevArr.shift(0);if(f.prevItem!==f.currentItem){f.checkPagination();f.checkNavigation();f.eachMoveUpdate();if(f.options.autoPlay!==false){f.checkAp()}}if(typeof f.options.afterMove==="function"&&f.prevItem!==f.currentItem){f.options.afterMove.apply(this,[f.$elem])}},stop:function(){var f=this;f.apStatus="stop";clearInterval(f.autoPlayInterval)},checkAp:function(){var f=this;if(f.apStatus!=="stop"){f.play()}},play:function(){var f=this;f.apStatus="play";if(f.options.autoPlay===false){return false}clearInterval(f.autoPlayInterval);f.autoPlayInterval=setInterval(function(){f.next(true)},f.options.autoPlay)},swapSpeed:function(g){var f=this;if(g==="slideSpeed"){f.$owlWrapper.css(f.addCssSpeed(f.options.slideSpeed))}else{if(g==="paginationSpeed"){f.$owlWrapper.css(f.addCssSpeed(f.options.paginationSpeed))}else{if(typeof g!=="string"){f.$owlWrapper.css(f.addCssSpeed(g))}}}},addCssSpeed:function(g){var f=this;return{"-webkit-transition":"all "+g+"ms ease","-moz-transition":"all "+g+"ms ease","-o-transition":"all "+g+"ms ease",transition:"all "+g+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(f){return{"-webkit-transform":"translate3d("+f+"px, 0px, 0px)","-moz-transform":"translate3d("+f+"px, 0px, 0px)","-o-transform":"translate3d("+f+"px, 0px, 0px)","-ms-transform":"translate3d("+f+"px, 0px, 0px)",transform:"translate3d("+f+"px, 0px,0px)"}},transition3d:function(g){var f=this;f.$owlWrapper.css(f.doTranslate(g))},css2move:function(g){var f=this;f.$owlWrapper.css({left:g})},css2slide:function(h,g){var f=this;f.isCssFinish=false;f.$owlWrapper.stop(true,true).animate({left:h},{duration:g||f.options.slideSpeed,complete:function(){f.isCssFinish=true}})},checkBrowser:function(){var k=this;var h="translate3d(0px, 0px, 0px)",j=a.createElement("div");j.style.cssText="  -moz-transform:"+h+"; -ms-transform:"+h+"; -o-transform:"+h+"; -webkit-transform:"+h+"; transform:"+h;var i=/translate3d\(0px, 0px, 0px\)/g,g=j.style.cssText.match(i),l=(g!==null&&g.length===1);var f="ontouchstart"in b||navigator.msMaxTouchPoints;k.browser={support3d:l,isTouch:f}},moveEvents:function(){var f=this;if(f.options.mouseDrag!==false||f.options.touchDrag!==false){f.gestures();f.disabledEvents()}},eventTypes:function(){var g=this;var f=["s","e","x"];g.ev_types={};if(g.options.mouseDrag===true&&g.options.touchDrag===true){f=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]}else{if(g.options.mouseDrag===false&&g.options.touchDrag===true){f=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]}else{if(g.options.mouseDrag===true&&g.options.touchDrag===false){f=["mousedown.owl","mousemove.owl","mouseup.owl"]}}}g.ev_types.start=f[0];g.ev_types.move=f[1];g.ev_types.end=f[2]},disabledEvents:function(){var f=this;f.$elem.on("dragstart.owl",function(g){g.preventDefault()});f.$elem.on("mousedown.disableTextSelect",function(g){return c(g.target).is("input, textarea, select, option")})},gestures:function(){var i=this;var j={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};i.isCssFinish=true;function l(m){if(m.touches){return{x:m.touches[0].pageX,y:m.touches[0].pageY}}else{if(m.pageX!==e){return{x:m.pageX,y:m.pageY}}else{return{x:m.clientX,y:m.clientY}}}}function k(m){if(m==="on"){c(a).on(i.ev_types.move,h);c(a).on(i.ev_types.end,f)}else{if(m==="off"){c(a).off(i.ev_types.move);c(a).off(i.ev_types.end)}}}function g(n){var n=n.originalEvent||n||b.event;if(n.which===3){return false}if(i.itemsAmount<=i.options.items){return}if(i.isCssFinish===false&&!i.options.dragBeforeAnimFinish){return false}if(i.isCss3Finish===false&&!i.options.dragBeforeAnimFinish){return false}if(i.options.autoPlay!==false){clearInterval(i.autoPlayInterval)}if(i.browser.isTouch!==true&&!i.$owlWrapper.hasClass("grabbing")){i.$owlWrapper.addClass("grabbing")}i.newPosX=0;i.newRelativeX=0;c(this).css(i.removeTransition());var m=c(this).position();j.relativePos=m.left;j.offsetX=l(n).x-m.left;j.offsetY=l(n).y-m.top;k("on");j.sliding=false;j.targetElement=n.target||n.srcElement}function h(o){var o=o.originalEvent||o||b.event;i.newPosX=l(o).x-j.offsetX;i.newPosY=l(o).y-j.offsetY;i.newRelativeX=i.newPosX-j.relativePos;if(typeof i.options.startDragging==="function"&&j.dragging!==true&&i.newRelativeX!==0){j.dragging=true;i.options.startDragging.apply(i,[i.$elem])}if(i.newRelativeX>8||i.newRelativeX<-8&&i.browser.isTouch===true){o.preventDefault?o.preventDefault():o.returnValue=false;j.sliding=true}if((i.newPosY>10||i.newPosY<-10)&&j.sliding===false){c(a).off("touchmove.owl")}var m=function(){return i.newRelativeX/5};var n=function(){return i.maximumPixels+i.newRelativeX/5};i.newPosX=Math.max(Math.min(i.newPosX,m()),n());if(i.browser.support3d===true){i.transition3d(i.newPosX)}else{i.css2move(i.newPosX)}}function f(p){var p=p.originalEvent||p||b.event;p.target=p.target||p.srcElement;j.dragging=false;if(i.browser.isTouch!==true){i.$owlWrapper.removeClass("grabbing")}if(i.newRelativeX<0){i.dragDirection=i.owl.dragDirection="left"}else{i.dragDirection=i.owl.dragDirection="right"}if(i.newRelativeX!==0){var o=i.getNewPosition();i.goTo(o,false,"drag");if(j.targetElement===p.target&&i.browser.isTouch!==true){c(p.target).on("click.disable",function(q){q.stopImmediatePropagation();q.stopPropagation();q.preventDefault();c(p.target).off("click.disable")});var n=c._data(p.target,"events")["click"];var m=n.pop();n.splice(0,0,m)}}k("off")}i.$elem.on(i.ev_types.start,".owl-wrapper",g)},getNewPosition:function(){var g=this,f;f=g.closestItem();if(f>g.maximumItem){g.currentItem=g.maximumItem;f=g.maximumItem}else{if(g.newPosX>=0){f=0;g.currentItem=0}}return f},closestItem:function(){var h=this,i=h.options.scrollPerPage===true?h.pagesInArray:h.positionsInArray,f=h.newPosX,g=null;c.each(i,function(k,j){if(f-(h.itemWidth/20)>i[k+1]&&f-(h.itemWidth/20)<j&&h.moveDirection()==="left"){g=j;if(h.options.scrollPerPage===true){h.currentItem=c.inArray(g,h.positionsInArray)}else{h.currentItem=k}}else{if(f+(h.itemWidth/20)<j&&f+(h.itemWidth/20)>(i[k+1]||i[k]-h.itemWidth)&&h.moveDirection()==="right"){if(h.options.scrollPerPage===true){g=i[k+1]||i[i.length-1];h.currentItem=c.inArray(g,h.positionsInArray)}else{g=i[k+1];h.currentItem=k+1}}}});return h.currentItem},moveDirection:function(){var f=this,g;if(f.newRelativeX<0){g="right";f.playDirection="next"}else{g="left";f.playDirection="prev"}return g},customEvents:function(){var f=this;f.$elem.on("owl.next",function(){f.next()});f.$elem.on("owl.prev",function(){f.prev()});f.$elem.on("owl.play",function(g,h){f.options.autoPlay=h;f.play();f.hoverStatus="play"});f.$elem.on("owl.stop",function(){f.stop();f.hoverStatus="stop"});f.$elem.on("owl.goTo",function(h,g){f.goTo(g)});f.$elem.on("owl.jumpTo",function(h,g){f.jumpTo(g)})},stopOnHover:function(){var f=this;if(f.options.stopOnHover===true&&f.browser.isTouch!==true&&f.options.autoPlay!==false){f.$elem.on("mouseover",function(){f.stop()});f.$elem.on("mouseout",function(){if(f.hoverStatus!=="stop"){f.play()}})}},lazyLoad:function(){var l=this;if(l.options.lazyLoad===false){return false}for(var j=0;j<l.itemsAmount;j++){var g=c(l.$owlItems[j]);if(g.data("owl-loaded")==="loaded"){continue}var k=g.data("owl-item"),h=g.find(".lazyOwl"),f;if(typeof h.data("src")!=="string"){g.data("owl-loaded","loaded");continue}if(g.data("owl-loaded")===e){h.hide();g.addClass("loading").data("owl-loaded","checked")}if(l.options.lazyFollow===true){f=k>=l.currentItem}else{f=true}if(f&&k<l.currentItem+l.options.items&&h.length){l.lazyPreload(g,h)}}},lazyPreload:function(f,g){var j=this,i=0;if(g.prop("tagName")==="DIV"){g.css("background-image","url("+g.data("src")+")");var k=true}else{g[0].src=g.data("src")}l();function l(){i+=1;if(j.completeImg(g.get(0))||k===true){h()}else{if(i<=100){setTimeout(l,100)}else{h()}}}function h(){f.data("owl-loaded","loaded").removeClass("loading");g.removeAttr("data-src");j.options.lazyEffect==="fade"?g.fadeIn(400):g.show();if(typeof j.options.afterLazyLoad==="function"){j.options.afterLazyLoad.apply(this,[j.$elem])}}},autoHeight:function(){var i=this;var j=c(i.$owlItems[i.currentItem]).find("img");if(j.get(0)!==e){var h=0;g()}else{f()}function g(){h+=1;if(i.completeImg(j.get(0))){f()}else{if(h<=100){setTimeout(g,100)}else{i.wrapperOuter.css("height","")}}}function f(){var k=c(i.$owlItems[i.currentItem]).height();i.wrapperOuter.css("height",k+"px");if(!i.wrapperOuter.hasClass("autoHeight")){setTimeout(function(){i.wrapperOuter.addClass("autoHeight")},0)}}},completeImg:function(f){if(!f.complete){return false}if(typeof f.naturalWidth!=="undefined"&&f.naturalWidth==0){return false}return true},onVisibleItems:function(){var g=this;if(g.options.addClassActive===true){g.$owlItems.removeClass("active")}g.visibleItems=[];for(var f=g.currentItem;f<g.currentItem+g.options.items;f++){g.visibleItems.push(f);if(g.options.addClassActive===true){c(g.$owlItems[f]).addClass("active")}}g.owl.visibleItems=g.visibleItems},transitionTypes:function(f){var g=this;g.outClass="owl-"+f+"-out";g.inClass="owl-"+f+"-in"},singleItemTransition:function(){var f=this;f.isTransition=true;var i=f.outClass,l=f.inClass,k=f.$owlItems.eq(f.currentItem),j=f.$owlItems.eq(f.prevItem),n=Math.abs(f.positionsInArray[f.currentItem])+f.positionsInArray[f.prevItem],m=Math.abs(f.positionsInArray[f.currentItem])+f.itemWidth/2;f.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":m+"px","-moz-perspective-origin":m+"px","perspective-origin":m+"px"});function g(o,p){return{position:"relative",left:o+"px"}}var h="webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend";j.css(g(n,10)).addClass(i).on(h,function(){f.endPrev=true;j.off(h);f.clearTransStyle(j,i)});k.addClass(l).on(h,function(){f.endCurrent=true;k.off(h);f.clearTransStyle(k,l)})},clearTransStyle:function(g,f){var h=this;g.css({position:"",left:""}).removeClass(f);if(h.endPrev&&h.endCurrent){h.$owlWrapper.removeClass("owl-origin");h.endPrev=false;h.endCurrent=false;h.isTransition=false}},owlStatus:function(){var f=this;f.owl={userOptions:f.userOptions,baseElement:f.$elem,userItems:f.$userItems,owlItems:f.$owlItems,currentItem:f.currentItem,prevItem:f.prevItem,visibleItems:f.visibleItems,isTouch:f.browser.isTouch,browser:f.browser,dragDirection:f.dragDirection}},clearEvents:function(){var f=this;f.$elem.off(".owl owl mousedown.disableTextSelect");c(a).off(".owl owl");c(b).off("resize",f.resizer)},unWrap:function(){var f=this;if(f.$elem.children().length!==0){f.$owlWrapper.unwrap();f.$userItems.unwrap().unwrap();if(f.owlControls){f.owlControls.remove()}}f.clearEvents();f.$elem.attr("style",f.$elem.data("owl-originalStyles")||"").attr("class",f.$elem.data("owl-originalClasses"))},destroy:function(){var f=this;f.stop();clearInterval(f.checkVisible);f.unWrap();f.$elem.removeData()},reinit:function(h){var g=this;var f=c.extend({},g.userOptions,h);g.unWrap();g.init(f,g.$elem)},addItem:function(i,g){var h=this,f;if(!i){return false}if(h.$elem.children().length===0){h.$elem.append(i);h.setVars();return false}h.unWrap();if(g===e||g===-1){f=-1}else{f=g}if(f>=h.$userItems.length||f===-1){h.$userItems.eq(-1).after(i)}else{h.$userItems.eq(f).before(i)}h.setVars()},removeItem:function(g){var h=this,f;if(h.$elem.children().length===0){return false}if(g===e||g===-1){f=-1}else{f=g}h.unWrap();h.$userItems.eq(f).remove();h.setVars()}};c.fn.owlCarousel=function(f){return this.each(function(){if(c(this).data("owl-init")===true){return false}c(this).data("owl-init",true);var g=Object.create(d);g.init(f,this);c.data(this,"owlCarousel",g)})};c.fn.owlCarousel.options={items:5,itemsCustom:false,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:false,itemsMobile:[479,1],singleItem:false,itemsScaleUp:false,slideSpeed:200,paginationSpeed:800,rewindSpeed:1000,autoPlay:false,stopOnHover:false,navigation:false,navigationText:["prev","next"],rewindNav:true,scrollPerPage:false,pagination:true,paginationNumbers:false,responsive:true,responsiveRefreshRate:200,responsiveBaseWidth:b,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:false,lazyFollow:true,lazyEffect:"fade",autoHeight:false,jsonPath:false,jsonSuccess:false,dragBeforeAnimFinish:true,mouseDrag:true,touchDrag:true,addClassActive:false,transitionStyle:false,beforeUpdate:false,afterUpdate:false,beforeInit:false,afterInit:false,beforeMove:false,afterMove:false,afterAction:false,startDragging:false,afterLazyLoad:false}})(jQuery,window,document);(function(_,$){var mask_list;$.ceEvent('on','ce.commoninit',function(context){var $phone_elems=context.find('.cm-mask-phone'),phone_validation_mode=_.phone_validation_mode||'international_format',is_international_format=phone_validation_mode==='international_format',is_any_digits=phone_validation_mode==='any_digits';if(!$phone_elems.length||(is_international_format&&!window.localStorage)){return;}
if(is_international_format){loadPhoneMasks().then(function(phone_masks){_.phone_masks_list=phone_masks;_.call_requests_phone_masks_list=_.phone_masks_list;mask_list=$.masksSort(_.phone_masks_list,['#'],/[0-9]|#/,"mask");var mask_opts={inputmask:{definitions:{'#':{validator:"[0-9]",cardinality:1}},showMaskOnHover:false,autoUnmask:false,onKeyDown:function(){$(this).trigger('_input');}},match:/[0-9]/,replace:'#',list:mask_list,listKey:"mask"};$phone_elems.each(function(index,elm){if(_.call_phone_mask&&$(elm).data('enableCustomMask')){$(elm).inputmask({mask:_.call_phone_mask,showMaskOnHover:false,autoUnmask:false,onKeyDown:function(){$(this).trigger('_input');}});}else{$(elm).inputmasks(mask_opts);}
$(elm).addClass('js-mask-phone-inited');if($(elm).val()){$(elm).oneFirst('keypress keydown',function(){if(!validatePhone($(elm))){$(elm).trigger('paste');}});$(elm).prop('defaultValue',$(elm).val());}});});$.ceFormValidator('registerValidator',{class_name:'cm-mask-phone-label',message:_.tr('error_validator_phone_mask'),func:function(id){return validatePhone($('#'+id));}});}else if(is_any_digits){$.ceFormValidator('registerValidator',{class_name:'cm-mask-phone-label',message:_.tr('error_validator_phone'),func:function(elm_id,elm,lbl){return $.is.blank(elm.val())||$.is.phone(elm.val());}});}});function validatePhone($input)
{if($.is.blank($input.val())||!$input.hasClass('js-mask-phone-inited')){return true;}
var mask_is_valid=false;if(_.call_phone_mask&&$input.data('enableCustomMask')){mask_is_valid=_toRegExp(_.call_phone_mask).test($input.val());}else{mask_list.forEach(function(mask){mask_is_valid=(mask_is_valid||_toRegExp(mask.mask).test($input.val()));});}
return mask_is_valid&&$input.inputmask("isComplete");function _toRegExp(mask){var _convertedMask=mask.str_replace('#','.').str_replace('+','\\+').str_replace('(','\\(').str_replace(')','\\)');return new RegExp(_convertedMask);}}
function loadPhoneMasks()
{var raw_phone_masks=window.localStorage.getItem('phoneMasks'),phone_masks,d=$.Deferred();if(raw_phone_masks){phone_masks=JSON.parse(raw_phone_masks);}
if(!phone_masks){$.ceAjax('request',fn_url('phone_masks.get_masks'),{method:'get',caching:false,data:{},callback:function(response){if(!response||!response.phone_mask_codes){return;}
$.ceEvent('trigger','ce.phone_masks.masks_loaded',[response]);phone_masks=Object.keys(response.phone_mask_codes).map(function(key){return response.phone_mask_codes[key];});window.localStorage.setItem('phoneMasks',JSON.stringify(phone_masks));d.resolve(phone_masks);},repeat_on_error:false,hidden:true,pre_processing:function(response){if(response.force_redirection){delete response.force_redirection;}
return false;},error_callback:function(){d.reject();}});}else{d.resolve(phone_masks);}
return d.promise();}})(Tygh,Tygh.$);(function(_,$){var is_paypal_script_loaded;var methods={set_submit_button_id:function(button_id){var button_id_new=button_id+'_'+Date.now();var button=$('#'+button_id);button.attr('id',button_id_new);return button_id_new;},get_token_request:function(payment_form){var form_data={in_context_order:1};var fields=payment_form.serializeArray();for(var i in fields){form_data[fields[i].name]=fields[i].value;}
form_data.result_ids=null;return form_data;},set_window_close_error_handler:function(){window.onerror=function(e){$.redirect(_.current_url);};},setup_payment_form:function(params){params=params||{};params.merchat_id=params.merchat_id||'';params.environment=params.environment||'sandbox';params.payment_form=params.payment_form||null;params.submit_button_id=params.submit_button_id||'';paypal.checkout.setup(params.merchat_id,{environment:params.environment,buttons:[{button:params.submit_button_id,condition:function(){return $.ceLiteCheckout('check',function(result){return result;});},click:function(e){e.preventDefault();paypal.checkout.initXO();$.ceLiteCheckout('updateCustomerInfo',function(){var formSelector=$('input[name="selected_payment_method"]:checked').data('caTargetForm');var form_data=methods.get_token_request($('#'+formSelector));$.ceAjax('request',fn_url('checkout.place_order'),{method:'post',caching:false,hidden:true,data:form_data,callback:function(response){try{if(response.token){var url=paypal.checkout.urlPrefix+response.token+'&useraction=commit';paypal.checkout.startFlow(url);}
if(response.error){paypal.checkout.closeFlow();}}catch(ex){paypal.checkout.initXO();}}});},false);}}]});},init:function(jelm){var payment_form=jelm.closest('form');var submit_button_id=methods.set_submit_button_id(jelm.data('caPaypalButton'));methods.set_window_close_error_handler();var paypal_script_load_callback=function(){is_paypal_script_loaded=true;var paypal_presence_checker=setInterval(function(){if(typeof paypal!=='undefined'){clearInterval(paypal_presence_checker);methods.setup_payment_form({merchant_id:jelm.data('caPaypalMerchantId'),environment:jelm.data('caPaypalEnvironment'),payment_form:payment_form,submit_button_id:submit_button_id});}},300);};if(is_paypal_script_loaded){paypal_script_load_callback();}else{$.getScript('//www.paypalobjects.com/api/checkout.min.js',paypal_script_load_callback);}}};$.extend({cePaypalInContextCheckout:function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else{$.error('ty.paypalInContextCheckout: method '+method+' does not exist');}}});$.ceEvent('on','ce.commoninit',function(){if(_.embedded){return;}
var jelm=$('[data-ca-paypal-in-context-checkout]');if(jelm.length){$.cePaypalInContextCheckout('init',jelm);}});})(Tygh,Tygh.$);(function(_,$){$(document).ready(function(){$(_.doc).on('click','.cm-news-subscribe',function(e){var elms=$(this).parents('.subscription-container').find('.cm-news-subscribe');var params='';var all_mailing_lists='';if(elms.length>0){elms.each(function(){if($(this).prop('name').length>0){if($(this).prop('checked')){params+=$(this).prop('name')+'='+$(this).val()+'&';}else{all_mailing_lists+='all_mailing_lists'+'='+$(this).val()+'&';}}});}
if(!params){params='mailing_lists=';}
if(!all_mailing_lists){params+='&all_mailing_lists=';}else{all_mailing_lists='&'+all_mailing_lists;params+=all_mailing_lists;}
$.ceAjax('request',fn_url('checkout.subscribe_customer?'+params),{method:'post',result_ids:'subsciption*'});});});$.ceEvent('on','ce.commoninit',function(context){var $newsletter_togglers=$('[data-ca-lite-checkout-element="newsletter-toggler"]',context);$newsletter_togglers.on('change',function(){var $checkbox=$(this);$.ceLiteCheckout('updateCustomerInfo',function(data){if(data.user_data.email){var connected_checkbox_id=$checkbox.data('caTargetId');$('#'+connected_checkbox_id).trigger('click');}},false)});});}(Tygh,Tygh.$));(function(_,$){var handlers={init:function(){return true;},setCenter:function(lat,lng,zoom){return true;},getCenter:function(){return{};},removeAllMarkers:function(){return true;},resize:function(){return true;},destroy:function(){return true;},addMarkers:function(){return true;},adjustMapBoundariesToSeeAllMarkers:function(){return true;},exitFullscreen:function(){return true;}};var methods={prepareMarkers:function(marker_selector){var markers=[];$(marker_selector).each(function(index,marker){var $marker=$(marker);markers.push({lat:$marker.data('caGeoMapMarkerLat'),lng:$marker.data('caGeoMapMarkerLng'),selected:!!$marker.data('caGeoMapMarkerSelected'),content:$marker.html(),static:!!$marker.data('caGeoMapMarkerStatic'),});});return markers;},setHandlers:function(data){handlers=data;}};$.fn.ceGeoMap=function(method){if(handlers[method]){return handlers[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==='object'||!method){return handlers.init.apply(this,arguments);}else{$.error('ty.geoMap: method '+method+' does not exist');}};$.ceGeoMap=function(action,data){if(methods[action]){return methods[action].apply(this,Array.prototype.slice.call(arguments,1));}else{$.error('ty.geoMap: action '+action+' does not exist');}}})(Tygh,Tygh.$);(function(_,$){var methods={setHandlers:function(data){handlers=data;}};var handlers={getCoords:function(location){var d=$.Deferred();d.reject();return d.promise();}};$.ceGeoCode=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(handlers[method]){return handlers[method].apply(this,Array.prototype.slice.call(arguments,1));}else{$.error('ty.geoCode: method '+method+' does not exist');}};})(Tygh,Tygh.$);(function(_,$){var methods={setHandlers:function(data){handlers=data;},};var handlers={getCurrentLocation:function(){return $.Deferred().reject().promise();},getLocationByCoords:function(lat,lng){return $.Deferred().reject().promise();},getProviderCode:function(){return'default';},getLanguageCode:function(){return _.geo_maps.language;}};var caching_decorator={getCurrentLocation:function(){var location_key='geo_maps_customer_location_'+handlers.getProviderCode()+'_'+handlers.getLanguageCode(),location=caching_decorator.getFromLocalSession(location_key),d=$.Deferred();if(!location){handlers.getCurrentLocation().then(function(location){caching_decorator.saveToLocalSession(location_key,location);d.resolve(location);});}else{d.resolve(location);}
return d.promise();},getLocationByCoords:function(lat,lng){var location_key=['geo_maps_coords_location',handlers.getProviderCode(),lat,lng,handlers.getLanguageCode()].join('_'),location=caching_decorator.getFromLocalSession(location_key),d=$.Deferred();if(!location){handlers.getLocationByCoords(lat,lng).then(function(location){caching_decorator.saveToLocalSession(location_key,location);d.resolve(location);},d.reject);}else{d.resolve(location);}
return d.promise();},saveToLocalSession:function(key,value){try{sessionStorage.setItem(key,JSON.stringify(value));}catch(e){}},getFromLocalSession:function(key){try{var value=sessionStorage.getItem(key);if(value){return JSON.parse(value);}}catch(e){}
return false;},};$.ceGeoLocate=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(caching_decorator[method]){return caching_decorator[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(handlers[method]){return handlers[method].apply(this,Array.prototype.slice.call(arguments,1));}else{$.error('ty.geoLocate: method '+method+' does not exist');}};})(Tygh,Tygh.$);(function(_,$){var commercial_api_url='https://enterprise.api-maps.yandex.ru/',free_api_url='https://api-maps.yandex.ru/',default_language='en',api_version='2.1',locales={'ru':'ru_RU','en':'en_US','uk':'uk_UA','tr':'tr_TR',};function fn_get_yandex_api_loader(){var d=$.Deferred(),yandex_api_initialized=false,loading_failed=false,loading_started=false;return function(options){if(yandex_api_initialized||loading_started||loading_failed){return d.promise();}
loading_started=true;options=$.extend(options||{},_.geo_maps);var url=fn_generate_api_url(options||{});$.getScript(url).then(function(){geo_maps_yandex.ready(function(){yandex_api_initialized=true;clearTimeout(await_timeout);d.resolve();});}).fail(function(){loading_failed=true;d.reject();});var await_timeout=setTimeout(function(){if(d.state()==='pending'){loading_failed=true;d.reject();}},5000);return d.promise();};}
function fn_generate_api_url(options)
{var data=['ns=geo_maps_yandex','lang='+fn_get_locale(options.language||''),];var url=free_api_url;if(options.yandex_commercial){url=commercial_api_url;}
if(options.api_key){data.push('apikey='+options.api_key);}
url+=api_version+'?'+data.join('&');return url;}
function fn_get_locale(lang_code)
{return locales[lang_code.toLowerCase()]||locales[default_language];}
$.geoMapInitYandexApi=fn_get_yandex_api_loader();})(Tygh,Tygh.$);(function(_,$){var yandex={default_zoom:16,init:function(options){var $container=$(this),self=yandex;if($container.data('ceGeoMapInitialized')){return true;}
$.geoMapInitYandexApi(options).done(function(){self._initMap($container,options);self._registerMapClickEvent($container);self._registerSearchEvent($container);self._fireEvent($container,'ce:geomap:init');}).fail(function(){self._fireEvent($container,'ce:geomap:init_failed');});return this;},_initMap:function($container,options){options=options||{};var self=yandex,controls=self._initMapControls(options),behaviors=self._initMapBehaviors(options);var map_state={zoom:parseInt(options.zoom)||self.default_zoom,type:'yandex#map',center:[options.initial_lat||0,options.initial_lng||0],controls:controls,behaviors:behaviors,draggableCursor:'crosshair',draggingCursor:'pointer',};$container.ceGeoMap('destroy');var map=new geo_maps_yandex.Map($container[0],map_state);$container.data('caGeoMap',map);var clusterer=self._getClusterer($container)||new geo_maps_yandex.Clusterer();$container.data('caYandexClusterer',clusterer);self._renderMarkers($container,options.markers,options);},_initMapControls:function(options){var controls=options.controls;if($.isEmptyObject(controls)){return['default'];}else if(controls.no_controls){return[];}
var ctls=[];if(controls.enable_traffic){ctls.push('trafficControl');}if(controls.enable_layers){ctls.push('typeSelector');}if(controls.enable_fullscreen){ctls.push('fullscreenControl');}if(controls.enable_zoom){ctls.push('zoomControl');}if(controls.enable_ruler){ctls.push('rulerControl');}if(controls.enable_search){ctls.push('searchControl');}if(controls.enable_routing){ctls.push('routeButtonControl');}if(controls.enable_geolocation){ctls.push('geolocationControl');}
return ctls;},_initMapBehaviors:function(options){var behaviors=options.behaviors;if($.isEmptyObject(behaviors)){return['default'];}else if(behaviors.no_behaviors){return[];}
var bhvs=[];if(behaviors.enable_drag){bhvs.push('drag');}if(behaviors.enable_scroll_zoom){bhvs.push('scrollZoom');}if(behaviors.enable_dbl_click_zoom){bhvs.push('dblClickZoom');}if(behaviors.enable_multi_touch){bhvs.push('multiTouch');}if(behaviors.enable_ruler){bhvs.push('ruler');}if(behaviors.enable_route_editor){bhvs.push('routeEditor');}
return bhvs;},_renderMarkers:function($container,markers,options){var self=yandex;$container.ceGeoMap('removeAllMarkers');$container.ceGeoMap('addMarkers',markers);options=options||{};self._showSelectedMarker($container,markers,options);return true;},_getGeoMap:function($container){return $container.data('caGeoMap');},_addMarkersToCluster:function($container,markers){var self=yandex,clusterer=self._getClusterer($container),map=self._getGeoMap($container),cluster=[],map_marker;if(!clusterer){return;}
$.each(markers,function(index,marker){map_marker=self._prepareMarker(marker,$container);cluster.push(map_marker);});clusterer.add(cluster);map.geoObjects.add(clusterer);},_prepareMarker:function(marker,$container){var marker_data={};if(marker.content){marker_data.balloonContentBody=marker.content;}
var map_marker=new geo_maps_yandex.Placemark([marker.lat,marker.lng],marker_data);map_marker.events.add('click',function(e){var self=yandex,marker=self._normalizeMarkerClickResult(e);self._fireEvent($container,'ce:geomap:click_marker',[marker]);});return map_marker;},_addStaticMarkers:function($container,markers){var self=yandex,map=self._getGeoMap($container),map_marker;$.each(markers,function(index,marker){map_marker=self._prepareMarker(marker,$container);map.geoObjects.add(map_marker);});},_normalizeMarkerClickResult:function(result){var coords=result.get('target').geometry.getCoordinates(),marker={lat:coords[0],lng:coords[1],};return marker;},_showSelectedMarker:function($container,markers,options){var self=yandex;if(markers.length===1){var selected_marker=markers[0];}else{var selected_marker=$.grep(markers,function(marker){return marker.selected;})[0];}
if(selected_marker){$container.ceGeoMap('setCenter',selected_marker.lat,selected_marker.lng,parseInt(options.zoom)||self.default_zoom);}else if(markers.length>1){$container.ceGeoMap('adjustMapBoundariesToSeeAllMarkers');}
return true;},_registerMapClickEvent:function($container){var self=yandex,map=self._getGeoMap($container);if(!map){return false;}
map.events.add('click',function(result){var data=self._normalizeClickResult(result);self._fireEvent($container,'ce:geomap:click',[data]);});return true;},_fireEvent:function($container,name,data){data=data||[];$container.trigger(name,data);data=data.unshift($container);$.ceEvent('trigger',name,data);},_normalizeClickResult:function(result){var coordinates=result.get('coords');var normalized_result={lat:coordinates[0],lng:coordinates[1],};return normalized_result;},_registerSearchEvent:function($container){var self=yandex,map=self._getGeoMap($container),searchControl=map?map.controls.get('searchControl'):null;if(!searchControl){return false;}
searchControl.events.add('resultselect',function(e){var index=e.get('index');searchControl.getResult(index).then(function(result){result.getParent().remove(result);var data=self._normalizeSearchResult(result);self._fireEvent($container,'ce:geomap:search_result_select',[data]);});});return true;},_normalizeSearchResult:function(result){var coords=result.geometry.getCoordinates();var normalized_result={lat:coords[0],lng:coords[1],};return normalized_result;},resize:function(){var self=yandex,$container=$(this),map=self._getGeoMap($container);if(!map){return false;}
map.container.fitToViewport();return true;},destroy:function(){var self=yandex,$container=$(this),map=self._getGeoMap($container);if(!map){return false;}
map.destroy();return true;},removeAllMarkers:function(){var self=yandex,$container=$(this),clusterer=self._getClusterer($container),map=self._getGeoMap($container);if(clusterer){clusterer.removeAll();}
if(map){map.geoObjects.removeAll();}
return true;},_getClusterer:function($container){return $container.data('caYandexClusterer');},addMarkers:function(markers){var self=yandex,$container=$(this);var cluster_markers=$.grep(markers,function(marker){return!marker.static;});self._addMarkersToCluster($container,cluster_markers);var static_markers=$.grep(markers,function(marker){return marker.static;});self._addStaticMarkers($container,static_markers);},adjustMapBoundariesToSeeAllMarkers:function(){var self=yandex,$container=$(this),clusterer=self._getClusterer($container),map=self._getGeoMap($container);if(!clusterer||!map){return false;}
map.setBounds(clusterer.getBounds(),{checkZoomRange:true});return true;},setCenter:function(lat,lng,zoom){var self=yandex,$container=$(this),map=self._getGeoMap($container);if(!map){return false;}
map.setCenter([lat,lng]);map.setZoom(parseInt(zoom)||self.default_zoom);return true;},getCenter:function(){var self=yandex,$container=$(this),map=self._getGeoMap($container);if(!map){return{};}
var coords=map.getCenter();return{lat:coords[0],lng:coords[1],};},exitFullscreen:function(){var self=yandex,$container=$(this),map=self._getGeoMap($container);if(map){map.container.exitFullscreen();return true;}
return false;}};$.ceGeoMap('setHandlers',yandex);})(Tygh,Tygh.$);(function(_,$){var yandex={getCoords:function(location){var d=$.Deferred(),self=yandex;$.geoMapInitYandexApi().done(function(){geo_maps_yandex.geocode(location).then(function(response){var data=self._normalizeGeoCodeResponse(response);d.resolve(data);});}).fail(function(){});return d.promise();},_normalizeGeoCodeResponse:function(res){var coords=res.geoObjects.get(0).geometry.getCoordinates();var normalized_result={lat:coords[0],lng:coords[1],};return normalized_result;},};$.ceGeoCode('setHandlers',yandex);})(Tygh,Tygh.$);(function(_,$){var geolocate={getCurrentLocation:function(){return geolocate._getCurrentPosition().then(geolocate.getLocationByCoords);},_getCurrentPosition:function(){return geolocate._detectCurrentPosition().then(geolocate._extractCoordinatesFromGeoObject);},_detectCurrentPosition:function(){var d=$.Deferred();$.geoMapInitYandexApi().done(function(){geo_maps_yandex.geolocation.get({provider:location.protocol==='https'?'auto':'yandex',}).then(function(result){d.resolve(result.geoObjects.get(0));},function(){d.reject();});});return d.promise();},_extractCoordinatesFromGeoObject:function(geo_object){var coords=geo_object.geometry.getCoordinates();return $.Deferred().resolve(coords[0],coords[1]).promise();},getLocationByCoords:function(lat,lng){var self=geolocate,d=$.Deferred();geo_maps_yandex.geocode([lat,lng]).then(d.resolve).fail(d.reject);return d.then(self._extractLocationFromGeocodeResponse).then(self._getStateCode).promise();},_extractLocationFromGeocodeResponse:function(res)
{var geo_object=res.geoObjects.get(0),meta=geo_object.properties.get('metaDataProperty').GeocoderMetaData,coords=geo_object.geometry.getCoordinates(),location={place_id:meta.id,lat:coords[0],lng:coords[1],formatted_address:meta.Address.formatted,type:meta.kind,country:meta.Address.country_code,postal_code:meta.Address.postal_code,postal_code_text:meta.Address.postal_code,};$.each(meta.Address.Components,function(index,component){switch(component.kind){case'country':location.country_text=component.name;break;case'province':location.state=location.state_text=component.name;break;case'locality':location.locality=location.locality_text=component.name;break;case'street':location.route=location.route_text=component.name;break;case'house':location.street_number=location.street_number_text=component.name;break;}});return $.Deferred().resolve(location).promise();},_getStateCode:function(location){var self=geolocate,d=$.Deferred(),options={quality:0};geo_maps_yandex.borders.load(location.country,options).then(function(geojson){location.state_code=self._getStateCodeFromResponse(geojson,location.state_text);d.resolve(location);},function(){location.state_code='';d.resolve(location);});return d.promise();},_getStateCodeFromResponse:function(geojson,state){var state_code='';for(var i=0;i<geojson.features.length;i++){var region=geojson.features[i].properties;var state_name_equals=((' '+region.name)===state);if((region.name===state)||state_name_equals){state_code=region.iso3166.split('-').pop();break;}}
return state_code;},getProviderCode:function(){return'yandex';},getLanguageCode:function(){var geo_maps_yandex=geo_maps_yandex||null;return geo_maps_yandex&&geo_maps_yandex.meta&&geo_maps_yandex.meta.languageCode||_.geo_maps.language;}};$.ceGeoLocate('setHandlers',geolocate);})(Tygh,Tygh.$);(function(_,$){$.ceEvent('on','ce.commoninit',function(context){fn_init_maps(context);fn_init_address_on_map(context);});function fn_init_maps(context){$(context).find('.cm-geo-map-container').each(function(index,container){var $container=$(container),marker_selector=$container.data('caGeoMapMarkerSelector');var options={initial_lat:$container.data('caGeoMapInitialLat'),initial_lng:$container.data('caGeoMapInitialLng'),zoom:$container.data('caGeoMapZoom'),language:$container.data('caGeoMapLanguage'),controls:{no_controls:fn_get_boolean_from_data_attribute($container,'caGeoMapControlsNoControls'),enable_traffic:fn_get_boolean_from_data_attribute($container,'caGeoMapControlsEnableTraffic'),enable_layers:fn_get_boolean_from_data_attribute($container,'caGeoMapControlsEnableLayers'),enable_fullscreen:fn_get_boolean_from_data_attribute($container,'caGeoMapControlsEnableFullscreen'),enable_zoom:fn_get_boolean_from_data_attribute($container,'caGeoMapControlsEnableZoom'),enable_ruler:fn_get_boolean_from_data_attribute($container,'caGeoMapControlsEnableRuler'),enable_search:fn_get_boolean_from_data_attribute($container,'caGeoMapControlsEnableSearch'),enable_routing:fn_get_boolean_from_data_attribute($container,'caGeoMapControlsEnableRouting'),enable_geolocation:fn_get_boolean_from_data_attribute($container,'caGeoMapControlsEnableGeolocation'),enable_panorama:fn_get_boolean_from_data_attribute($container,'caGeoMapControlsEnablePanorama'),enable_rotation:fn_get_boolean_from_data_attribute($container,'caGeoMapControlsEnableRotation'),},behaviors:{no_behaviors:fn_get_boolean_from_data_attribute($container,'caGeoMapBehaviorsNoBehaviors'),enable_drag:fn_get_boolean_from_data_attribute($container,'caGeoMapBehaviorsEnableDrag'),enable_drag_on_mobile:fn_get_boolean_from_data_attribute($container,'caGeoMapBehaviorsEnableDragOnMobile'),enable_scroll_zoom:fn_get_boolean_from_data_attribute($container,'caGeoMapBehaviorsEnableScrollZoom'),enable_dbl_click_zoom:fn_get_boolean_from_data_attribute($container,'caGeoMapBehaviorsEnableDblClickZoom'),enable_multi_touch:fn_get_boolean_from_data_attribute($container,'caGeoMapBehaviorsEnableMultiTouch'),enable_ruler:fn_get_boolean_from_data_attribute($container,'caGeoMapBehaviorsEnableRuler'),enable_route_editor:fn_get_boolean_from_data_attribute($container,'caGeoMapBehaviorsEnableRouteEditor'),},};options.markers=$.ceGeoMap('prepareMarkers',marker_selector);options.controls=fn_filter_out_object_nulls(options.controls);options.behaviors=fn_filter_out_object_nulls(options.behaviors);options.behaviors=fn_process_additional_behaviors(options.behaviors);$container.ceGeoMap(options);});}
function fn_filter_out_object_nulls(object){var filtered={};$.each(object,function(index,value){if(value!==null){filtered[index]=value;}});return filtered;}
function fn_get_boolean_from_data_attribute($elm,attribute_name){return $elm.data(attribute_name)!==undefined?!!$elm.data(attribute_name):null;}
function fn_init_address_on_map(context){var $address_on_map_container=$(context).find('.cm-aom-map-container');$address_on_map_container.on('ce:geomap:init',function(e){var address=[$address_on_map_container.data('caAomCountry'),$address_on_map_container.data('caAomCity'),$address_on_map_container.data('caAomAddress')].filter(function(item){return!!item;}).join(', ');if(!address){return;}
$.ceGeoCode('getCoords',address).done(function(data){if(data.lat&&data.lng){data.static=true;data.content=address;$address_on_map_container.ceGeoMap('removeAllMarkers');$address_on_map_container.ceGeoMap('addMarkers',[data]);$address_on_map_container.ceGeoMap('setCenter',data.lat,data.lng);}});});}
function fn_process_additional_behaviors(behaviors){if($.isMobile()!=null){behaviors.enable_drag=behaviors.enable_drag_on_mobile;}
return behaviors;}})(Tygh,Tygh.$);(function(_,$){var methods={init:function($elm){methods.autoDetect(methods.setLocationAsync,$elm);},autoDetect:function(callback,$elm){$.ceGeoLocate('getCurrentLocation').then(function(location){callback(location,$elm);});},setLocation:function(location,$container,auto_detect){var d=$.Deferred();$.ceAjax('request',fn_url('geo_maps.set_location'),{method:'post',data:{location:location,auto_detect:Number(auto_detect)},hidden:true,caching:false,callback:function(response){$container.each(function(i,elm){var $elm=$(elm);$('[data-ca-geo-map-location-element="location"]',$elm).text(response.city);$elm.data('caGeoMapLocationIsLocationDetected',true);});$.ceEvent('trigger','ce:geomap:location_set_after',[location,$container,response,auto_detect]);d.resolve(response);}});return d.promise();},setLocationAsync:function(location,$container){methods.setLocation(location,$container,true);},initMap:function(elm){var $set_location=$(elm).closest('[data-ca-geo-map-location-element="location_selector"]').find('.ty-geo-maps__geolocation__set-location'),coordinates;methods.autoDetect(function(location,$container){var options={initial_lat:location.lat,initial_lng:location.lng,zoom:10,controls:{enable_search:true,},markers:[{lat:location.lat,lng:location.lng,}],};coordinates=[location.lat,location.lng];$container.on('ce:geomap:init_failed',function(e){methods.showMapLoadError($(e.target));});$container.ceGeoMap(options);$container.on('ce:geomap:click_marker',function(e,marker){coordinates=[marker.lat,marker.lng];$set_location.trigger('click');});$container.on('ce:geomap:search_result_select',function(e,data){if(!data.lat||!data.lng){return;}
coordinates=[data.lat,data.lng];var $container=$(e.target);$container.ceGeoMap('removeAllMarkers');$container.ceGeoMap('addMarkers',[data]);$container.ceGeoMap('setCenter',data.lat,data.lng);});$set_location.removeClass('pending');},$(elm));$set_location.click(function(e){if($(this).is('pending')||!coordinates){return false;}
var lat=coordinates[0],lng=coordinates[1];if(!lat||!lng){return;}
$.ceGeoLocate('getLocationByCoords',lat,lng).then(function(location){methods.setLocation(location,$('[data-ca-geo-map-location-element="location_block"]'),false);},function(){$.ceNotification('show',{type:'W',title:_.tr('warning'),message:_.tr('geo_maps_cannot_select_location')});});});},showMapLoadError:function($elm){$elm.closest('[data-ca-geo-map-location-element="location_selector"]').find('[data-ca-geo-map-location-element="map_load_error_message"]').removeClass('hidden');$elm.addClass('hidden');$('.ty-geo-maps__geolocation__set-location').removeClass('pending');}};$.extend({ceGeoMapLocation:function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else{$.error('ty.geo-maps-location: method '+method+' does not exist');}}});$.ceEvent('on','ce.commoninit',function(context){var location_blocks=$('[data-ca-geo-map-location-element="location_block"]',context),maps=$('[data-ca-geo-map-location-element="map"]',context);if(location_blocks.length){location_blocks.each(function(i,elm){var $elm=$(elm);if(!$elm.data('caGeoMapLocationIsLocationDetected')){$.ceGeoMapLocation('init',$elm);}});}
if(maps.length){maps.each(function(i,elm){$.ceGeoMapLocation('initMap',elm);});}});$.ceEvent('on','ce.dialogshow',function($context){if(!$('[data-ca-geo-map-location-element="map"]',$context).length){return;}
$('[data-ca-geo-map-location-element="map"]',$context).ceGeoMap('resize');});})(Tygh,Tygh.$);(function(_,$){var methods={setLocation:function(location,$container){location.state=location.state_code;location.locality_text=location.locality;$.ceGeoMapLocation('setLocation',location,$container);},initCitySelector:function($elm){$elm.on('click touch',function(e){var $parent_container=$(this).closest('[id^=geo_maps_location_block_]');e.preventDefault();methods.setLocation({country:$elm.data('caStoreLocatorLocationCountry')||'',country_text:$elm.data('caStoreLocatorLocationCountryName')||'',state_code:$elm.data('caStoreLocatorLocationState')||'',state_text:$elm.data('caStoreLocatorLocationStateName')||'',locality:$elm.data('caStoreLocatorLocationCity')||''},$parent_container);});},};$.extend({ceStoreLocatorLocation:function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else{$.error('ty.store-locator-location: method '+method+' does not exist');}}});$.ceEvent('on','ce.commoninit',function(context){var city_selectors=$('[data-ca-store-locator-location-element="city"]',context);if(city_selectors.length){city_selectors.each(function(i,elm){$.ceStoreLocatorLocation('initCitySelector',$(elm));});}});})(Tygh,Tygh.$);(function(_,$){$.ceEvent('on','ce.commoninit',function(context){var time_elements=context.find('.cm-cr-mask-time');if(time_elements.length===0){return true;}
time_elements.mask('99:99');});$.ceEvent('on','ce.formpre_call_requests_form',function(form,elm){var val_email=form.find('[name="call_data[email]"]').val(),val_phone=form.find('[name="call_data[phone]"]').val(),allow=!!(val_email||val_phone),error_box=form.find('.cm-cr-error-box'),dlg=$.ceDialog('get_last');error_box.toggle(!allow);dlg.ceDialog('reload');if(allow){var product_data=$('[name="'+form.data('caProductForm')+'"]').serializeObject();$.each(product_data,function(key,value){if(key.match(/product_data/)){form.append('<input type="hidden" name="'+key+'" value="'+value+'" />');}});}
return allow;});})(Tygh,Tygh.$);!function(t,e){"use strict";"function"==typeof define&&define.noamd?define(["jquery"],function(t){e(t)}):"object"==typeof module&&module.exports?module.exports=t.EasyZoom=e(require("jquery")):t.EasyZoom=e(t.jQuery)}(this,function(i){"use strict";var c,d,l,p,u,f,o={loadingNotice:"Loading image",errorNotice:"The image could not be loaded",errorDuration:2500,linkAttribute:"href",preventClicks:!0,beforeShow:i.noop,beforeHide:i.noop,onShow:i.noop,onHide:i.noop,onMove:i.noop};function s(t,e){this.$target=i(t),this.opts=i.extend({},o,e,this.$target.data()),void 0===this.isOpen&&this._init()}return s.prototype._init=function(){this.$link=this.$target.find("a"),this.$image=this.$target.find("img"),this.$flyout=i('<div class="easyzoom-flyout" />'),this.$notice=i('<div class="easyzoom-notice" />'),this.$target.on({"mousemove.easyzoom touchmove.easyzoom":i.proxy(this._onMove,this),"mouseleave.easyzoom touchend.easyzoom":i.proxy(this._onLeave,this),"mouseenter.easyzoom touchstart.easyzoom":i.proxy(this._onEnter,this)}),this.opts.preventClicks&&this.$target.on("click.easyzoom",function(t){t.preventDefault()})},s.prototype.show=function(t,e){var o=this;if(!1!==this.opts.beforeShow.call(this)){if(!this.isReady)return this._loadImage(this.$link.attr(this.opts.linkAttribute),function(){!o.isMouseOver&&e||o.show(t)});this.$target.append(this.$flyout);var i=this.$target.outerWidth(),s=this.$target.outerHeight(),h=this.$flyout.width(),n=this.$flyout.height(),a=this.$zoom.width(),r=this.$zoom.height();(c=a-h)<0&&(c=0),(d=r-n)<0&&(d=0),l=c/i,p=d/s,this.isOpen=!0,this.opts.onShow.call(this),t&&this._move(t)}},s.prototype._onEnter=function(t){var e=t.originalEvent.touches;this.isMouseOver=!0,e&&1!=e.length||(t.preventDefault(),this.show(t,!0))},s.prototype._onMove=function(t){this.isOpen&&(t.preventDefault(),this._move(t))},s.prototype._onLeave=function(){this.isMouseOver=!1,this.isOpen&&this.hide()},s.prototype._onLoad=function(t){t.currentTarget.width&&(this.isReady=!0,this.$notice.detach(),this.$flyout.html(this.$zoom),this.$target.removeClass("is-loading").addClass("is-ready"),t.data.call&&t.data())},s.prototype._onError=function(){var t=this;this.$notice.text(this.opts.errorNotice),this.$target.removeClass("is-loading").addClass("is-error"),this.detachNotice=setTimeout(function(){t.$notice.detach(),t.detachNotice=null},this.opts.errorDuration)},s.prototype._loadImage=function(t,e){var o=new Image;this.$target.addClass("is-loading").append(this.$notice.text(this.opts.loadingNotice)),this.$zoom=i(o).on("error",i.proxy(this._onError,this)).on("load",e,i.proxy(this._onLoad,this)),o.style.position="absolute",o.src=t},s.prototype._move=function(t){if(0===t.type.indexOf("touch")){var e=t.touches||t.originalEvent.touches;u=e[0].pageX,f=e[0].pageY}else u=t.pageX||u,f=t.pageY||f;var o=this.$target.offset(),i=f-o.top,s=u-o.left,h=Math.ceil(i*p),n=Math.ceil(s*l);if(n<0||h<0||c<n||d<h)this.hide();else{var a=-1*h,r=-1*n;this.$zoom.css({top:a,left:r}),this.opts.onMove.call(this,a,r)}},s.prototype.hide=function(){this.isOpen&&!1!==this.opts.beforeHide.call(this)&&(this.$flyout.detach(),this.isOpen=!1,this.opts.onHide.call(this))},s.prototype.swap=function(t,e,o){this.hide(),this.isReady=!1,this.detachNotice&&clearTimeout(this.detachNotice),this.$notice.parent().length&&this.$notice.detach(),this.$target.removeClass("is-loading is-ready is-error"),this.$image.attr({src:t,srcset:i.isArray(o)?o.join():o}),this.$link.attr(this.opts.linkAttribute,e)},s.prototype.teardown=function(){this.hide(),this.$target.off(".easyzoom").removeClass("is-loading is-ready is-error"),this.detachNotice&&clearTimeout(this.detachNotice),delete this.$link,delete this.$zoom,delete this.$image,delete this.$notice,delete this.$flyout,delete this.isOpen,delete this.isReady},i.fn.easyZoom=function(e){return this.each(function(){var t=i.data(this,"easyZoom");t?void 0===t.isOpen&&t._init():i.data(this,"easyZoom",new s(this,e))})},s});(function(_,$){var FLYOUT_WIDTH=450,FLYOUT_HEIGHT=450,FLYOUT_OFFSET=10,VISIBLE_Z_INDEX=1100,HIDDEN_Z_INDEX=-9001,FLYOUT_CLASS='ty-image-zoom__flyout',FLYOUT_VISIBLE_CLASS=FLYOUT_CLASS+'--visible',QUICK_VIEW_SELECTOR='[aria-describedby="product_quick_view"]:visible',FLYOUT_DELAY_BEFORE_DISPLAY=200,FLYOUT_DELAY_BEFORE_HIDE=100,VIEW_BOX_SIZE=100;var POS_TOP_CENTER=0,POS_TOP_RIGHT=1,POS_TOP_RIGHT_OUT=2,POS_RIGHT_TOP=3,POS_RIGHT_CENTER=4,POS_RIGHT_BOTTOM=5,POS_RIGHT_BOTTOM_OUT=6,POS_BOTTOM_RIGHT=7,POS_BOTTOM_CENTER=8,POS_BOTTOM_LEFT=9,POS_LEFT_BOTTOM_OUT=10,POS_LEFT_BOTTOM=11,POS_LEFT_CENTER=12,POS_LEFT_TOP=13,POS_TOP_LEFT_OUT=14,POS_TOP_LEFT=15,POSITION_EDGE=16;var thumbnailPosition,flyoutSize,thumbnailSize,pointerPosition,ratioX,ratioY,pointerPositionChecker,hasActiveFlyout,positionId,$thumbnail,$previewerWrapper;function isPointBoundedByRectangle(pointX,pointY,rectX,rectY,rectWidth,rectHeight){return pointX>rectX&&pointX<rectX+rectWidth&&pointY>rectY&&pointY<rectY+rectHeight;}
EasyZoom.prototype._move=function(e){var self=this;if(!pointerPosition){return;}
if(!hasActiveFlyout){$.debounce(function(){$.ceImageZoom('getThumbnailPosition');if(!$.ceImageZoom('isPointerInThumbnail')){return;}
var flyoutPosition=$.ceImageZoom('getFlyoutPosition',positionId);self.$flyout.css({left:flyoutPosition.left,top:flyoutPosition.top,zIndex:$(QUICK_VIEW_SELECTOR).length?$(QUICK_VIEW_SELECTOR).css('zIndex')+1:VISIBLE_Z_INDEX,});self.$flyout.addClass(FLYOUT_VISIBLE_CLASS);hasActiveFlyout=true;},FLYOUT_DELAY_BEFORE_DISPLAY)();}
if(!pointerPositionChecker){pointerPositionChecker=setInterval(function(){if(hasActiveFlyout&&!$.ceImageZoom('isPointerInThumbnail')){$.ceImageZoom('hideAllFlyouts',self.$flyout);}},FLYOUT_DELAY_BEFORE_HIDE);}
if(!hasActiveFlyout){return;}
var relativePositionX=pointerPosition.pageX-thumbnailPosition.left,relativePositionY=pointerPosition.pageY-thumbnailPosition.top;var centerDistanceX=2*relativePositionX / thumbnailSize.width-1,centerDistanceY=2*relativePositionY / thumbnailSize.height-1;relativePositionX+=centerDistanceX*VIEW_BOX_SIZE;relativePositionX=Math.max(relativePositionX,0);relativePositionX=Math.min(relativePositionX,thumbnailSize.width);relativePositionY+=centerDistanceY*VIEW_BOX_SIZE;relativePositionY=Math.max(relativePositionY,0);relativePositionY=Math.min(relativePositionY,thumbnailSize.height);var moveX=Math.ceil(relativePositionX*ratioX),moveY=Math.ceil(relativePositionY*ratioY);this.$zoom.css({top:moveY*-1,left:moveX*-1});};var methods={translateFlyoutPositionToRtl:function(positionId){if(positionId===POS_TOP_CENTER||positionId===POS_BOTTOM_CENTER){return positionId;}
return POSITION_EDGE-positionId;},getFlyoutPosition:function(positionId){switch(positionId){case POS_TOP_LEFT:return{top:thumbnailPosition.top-flyoutSize.height-FLYOUT_OFFSET,left:thumbnailPosition.left};case POS_TOP_CENTER:return{top:thumbnailPosition.top-flyoutSize.height-FLYOUT_OFFSET,left:thumbnailPosition.left+thumbnailSize.width / 2-flyoutSize.width / 2};case POS_TOP_RIGHT:return{top:thumbnailPosition.top-flyoutSize.height-FLYOUT_OFFSET,left:thumbnailPosition.left+thumbnailSize.width-flyoutSize.width};case POS_TOP_RIGHT_OUT:return{top:thumbnailPosition.top-flyoutSize.height-FLYOUT_OFFSET,left:thumbnailPosition.left+thumbnailSize.width+FLYOUT_OFFSET};case POS_RIGHT_TOP:return{top:thumbnailPosition.top,left:thumbnailPosition.left+thumbnailSize.width+FLYOUT_OFFSET};case POS_RIGHT_CENTER:return{top:thumbnailPosition.top+thumbnailSize.height / 2-flyoutSize.height / 2,left:thumbnailPosition.left+thumbnailSize.width+FLYOUT_OFFSET};case POS_RIGHT_BOTTOM:return{top:thumbnailPosition.top+thumbnailSize.height-flyoutSize.height,left:thumbnailPosition.left+thumbnailSize.width+FLYOUT_OFFSET};case POS_RIGHT_BOTTOM_OUT:return{top:thumbnailPosition.top+thumbnailSize.height+FLYOUT_OFFSET,left:thumbnailPosition.left+thumbnailSize.width+FLYOUT_OFFSET};case POS_BOTTOM_RIGHT:return{top:thumbnailPosition.top+thumbnailSize.height+FLYOUT_OFFSET,left:thumbnailPosition.left+thumbnailSize.width-flyoutSize.width};case POS_BOTTOM_CENTER:return{top:thumbnailPosition.top+thumbnailSize.height+FLYOUT_OFFSET,left:thumbnailPosition.left+thumbnailSize.width / 2-flyoutSize.width / 2};case POS_BOTTOM_LEFT:return{top:thumbnailPosition.top+thumbnailSize.height+FLYOUT_OFFSET,left:thumbnailPosition.left};case POS_LEFT_BOTTOM_OUT:return{top:thumbnailPosition.top+thumbnailSize.height+FLYOUT_OFFSET,left:thumbnailPosition.left-flyoutSize.width-FLYOUT_OFFSET};case POS_LEFT_BOTTOM:return{top:thumbnailPosition.top+thumbnailSize.height-flyoutSize.height,left:thumbnailPosition.left-flyoutSize.width-FLYOUT_OFFSET};case POS_LEFT_CENTER:return{top:thumbnailPosition.top+thumbnailSize.height / 2-flyoutSize.height / 2,left:thumbnailPosition.left-flyoutSize.width-FLYOUT_OFFSET};case POS_LEFT_TOP:return{top:thumbnailPosition.top,left:thumbnailPosition.left-flyoutSize.width-FLYOUT_OFFSET};case POS_TOP_LEFT_OUT:return{top:thumbnailPosition.top-flyoutSize.height-FLYOUT_OFFSET,left:thumbnailPosition.left-flyoutSize.width-FLYOUT_OFFSET};}
return{top:0,left:0};},init:function($previewer,position){positionId=position;var self=methods;$previewer.wrap('<span class="ty-image-zoom__wrapper easyzoom easyzoom--adjacent"></span>');$(_.doc).on('mousemove mouseover',function(event){pointerPosition={pageX:event.pageX,pageY:event.pageY};});var $thumbnailWrapper=$previewer.closest('.ty-image-zoom__wrapper');$thumbnailWrapper.easyZoom({loadingNotice:'',errorNotice:'',beforeShow:function(){$previewerWrapper=$previewer.closest('.cm-preview-wrapper');$thumbnail=$('.cm-image',$previewer);self.getThumbnailPosition();thumbnailSize={width:Math.min($thumbnail.width(),$previewer.width()),height:Math.max($thumbnail.height(),$previewer.height())};this.$target=$('.ty-tygh');self.hideAllFlyouts(this.$flyout);this.$flyout.addClass([FLYOUT_CLASS,'hidden-tablet','hidden-phone'].join(' '));},onShow:function(){flyoutSize={width:Math.min(FLYOUT_WIDTH,this.$zoom.width()),height:Math.min(FLYOUT_HEIGHT,this.$zoom.height())};var flyoutPosition=$.ceImageZoom('getFlyoutPosition',positionId);this.$flyout.css({left:flyoutPosition.left,top:flyoutPosition.top,width:flyoutSize.width,height:flyoutSize.height});ratioX=(this.$zoom.width()-flyoutSize.width)/ thumbnailSize.width;ratioY=(this.$zoom.height()-flyoutSize.height)/ thumbnailSize.height;},beforeHide:function(){return!self.isPointerInThumbnail();}});},getThumbnailPosition:function(){thumbnailPosition={left:Math.max($thumbnail.offset().left,$previewerWrapper.offset().left),top:Math.min($thumbnail.offset().top,$previewerWrapper.offset().top)};return thumbnailPosition;},hideAllFlyouts:function($activeFlyout){$('.'+FLYOUT_CLASS).removeClass(FLYOUT_VISIBLE_CLASS).css({zIndex:HIDDEN_Z_INDEX});if($activeFlyout){$activeFlyout.removeClass(FLYOUT_VISIBLE_CLASS).css({zIndex:HIDDEN_Z_INDEX});}
hasActiveFlyout=false;if(pointerPositionChecker){clearInterval(pointerPositionChecker);pointerPositionChecker=null;}},isPointerInThumbnail:function(){return pointerPosition&&isPointBoundedByRectangle(pointerPosition.pageX,pointerPosition.pageY,thumbnailPosition.left,thumbnailPosition.top,thumbnailSize.width,thumbnailSize.height);}};$.extend({ceImageZoom:function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else{$.error('ty.imageZoom: method '+method+' does not exist');}}});})(Tygh,Tygh.$);(function(_,$){$(document).on('click','.cm-login-provider,.cm-link-provider',function(e){var jelm=$(e.target);var login_provider=false;var link_provider=false;var url="";var is_facebook_embedded_browser=/fbav/gi.test(window.navigator.userAgent);if(jelm.hasClass('cm-login-provider')||jelm.parents('.cm-login-provider').length>0){login_provider=true;}
if(jelm.hasClass('cm-link-provider')||jelm.parents('.cm-link-provider').length>0){link_provider=true;}
if(login_provider&&!jelm.hasClass('cm-login-provider')){jelm=jelm.closest('.cm-login-provider');}else if(link_provider&&!jelm.hasClass('cm-link-provider')){jelm=jelm.closest('.cm-link-provider');}
var idp=jelm.data('idp');var open_id=false;switch(idp){case"wordpress":case"blogger":case"flickr":case"livejournal":var open_id=true;if(idp=="blogger"){var un=prompt("Please enter your blog name");}else{var un=prompt("Please enter your username");}
break;case"openid":var open_id=true;var un=prompt("Please enter your OpenID URL");}
if(!open_id){if(login_provider){url='auth.login_provider?provider='+idp+'&redirect_url='+encodeURIComponent($('input[name=redirect_url]').val())+'&_ts='+(new Date()).getTime();}else{url='profiles.link_provider?provider='+idp+'&_ts='+(new Date()).getTime();}}else{var oi=un;if(!un){return false;}
switch(idp){case"wordpress":oi="http://"+un+".wordpress.com";break;case"livejournal":oi="http://"+un+".livejournal.com";break;case"blogger":oi="http://"+un+".blogspot.com";break;case"flickr":oi="http://www.flickr.com/photos/"+un+"/";break;}
if(login_provider){url='auth.login_provider?provider=OpenID&_ts='+(new Date()).getTime()+'&openid_identifier='+encodeURIComponent(oi);}else{url='profiles.link_provider?provider=OpenID&_ts='+(new Date()).getTime()+'&openid_identifier='+encodeURIComponent(oi);}}
if(_.embedded){url+='&embedded=true';}
if(is_facebook_embedded_browser){window.location.href=fn_url(url);}else{window.open(fn_url(url),"hybridauth_social_sing_on","location=0,status=0,scrollbars=0,width=800,height=500");}});$(document).on('click','.cm-unlink-provider',function(e){var jelm=$(e.target);if(!jelm.hasClass('cm-unlink-provider')){jelm=jelm.closest('.cm-unlink-provider');}
if(confirm(_.tr('text_are_you_sure_to_proceed'))){var idp=jelm.data('idp');$.ceAjax('request',fn_url('profiles.unlink_provider?provider='+idp),{method:'post',result_ids:'hybrid_providers'});}});$(document).on('change','.cm-select-provider',function(e){var jelm=$(e.target),option=$('option:selected',jelm),provider=option.data('provider'),id=option.data('id');$.ceAjax('request',fn_url('hybrid_auth.select_provider?provider='+provider+'&id='+id),{method:'get',result_ids:'content_keys_'+id+',content_params_'+id});});})(Tygh,Tygh.$);(function(_,$){$.ceEvent('on','ce.update_object_status_callback',function(){var order_id=$('#order_id').val();$.ceAjax('request',fn_url('pochta.search_tracking&order_id='+order_id),{result_ids:'content_pochta_information'});});}(Tygh,Tygh.$));